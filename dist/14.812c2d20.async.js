"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[14],{31199:function(ue,N,e){var E=e(1413),v=e(91),n=e(67294),j=e(45502),$=e(85893),V=["fieldProps","min","proFieldProps","max"],H=function(i,z){var X=i.fieldProps,S=i.min,Z=i.proFieldProps,h=i.max,p=(0,v.Z)(i,V);return(0,$.jsx)(j.Z,(0,E.Z)({valueType:"digit",fieldProps:(0,E.Z)({min:S,max:h},X),ref:z,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:Z},p))},F=n.forwardRef(H);N.Z=F},64317:function(ue,N,e){var E=e(1413),v=e(91),n=e(22270),j=e(67294),$=e(66758),V=e(45502),H=e(85893),F=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],T=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],i=function(p,b){var G=p.fieldProps,d=p.children,o=p.params,r=p.proFieldProps,O=p.mode,A=p.valueEnum,m=p.request,I=p.showSearch,M=p.options,x=(0,v.Z)(p,F),R=(0,j.useContext)($.Z);return(0,H.jsx)(V.Z,(0,E.Z)((0,E.Z)({valueEnum:(0,n.h)(A),request:m,params:o,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,E.Z)({options:M,mode:O,showSearch:I,getPopupContainer:R.getPopupContainer},G),ref:b,proFieldProps:r},x),{},{children:d}))},z=j.forwardRef(function(h,p){var b=h.fieldProps,G=h.children,d=h.params,o=h.proFieldProps,r=h.mode,O=h.valueEnum,A=h.request,m=h.options,I=(0,v.Z)(h,T),M=(0,E.Z)({options:m,mode:r||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},b),x=(0,j.useContext)($.Z);return(0,H.jsx)(V.Z,(0,E.Z)((0,E.Z)({valueEnum:(0,n.h)(O),request:A,params:d,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,E.Z)({getPopupContainer:x.getPopupContainer},M),ref:p,proFieldProps:o},I),{},{children:G}))}),X=j.forwardRef(i),S=z,Z=X;Z.SearchSelect=S,Z.displayName="ProFormComponent",N.Z=Z},5966:function(ue,N,e){var E=e(97685),v=e(1413),n=e(91),j=e(21770),$=e(77569),V=e(55241),H=e(98423),F=e(67294),T=e(45502),i=e(85893),z=["fieldProps","proFieldProps"],X=["fieldProps","proFieldProps"],S="text",Z=function(d){var o=d.fieldProps,r=d.proFieldProps,O=(0,n.Z)(d,z);return(0,i.jsx)(T.Z,(0,v.Z)({valueType:S,fieldProps:o,filedConfig:{valueType:S},proFieldProps:r},O))},h=function(d){var o=(0,j.Z)(d.open||!1,{value:d.open,onChange:d.onOpenChange}),r=(0,E.Z)(o,2),O=r[0],A=r[1];return(0,i.jsx)($.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(I){var M,x=I.getFieldValue(d.name||[]);return(0,i.jsx)(V.Z,(0,v.Z)((0,v.Z)({getPopupContainer:function(P){return P&&P.parentNode?P.parentNode:P},onOpenChange:function(P){return A(P)},content:(0,i.jsxs)("div",{style:{padding:"4px 0"},children:[(M=d.statusRender)===null||M===void 0?void 0:M.call(d,x),d.strengthText?(0,i.jsx)("div",{style:{marginTop:10},children:(0,i.jsx)("span",{children:d.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},d.popoverProps),{},{open:O,children:d.children}))}})},p=function(d){var o=d.fieldProps,r=d.proFieldProps,O=(0,n.Z)(d,X),A=(0,F.useState)(!1),m=(0,E.Z)(A,2),I=m[0],M=m[1];return o!=null&&o.statusRender&&O.name?(0,i.jsx)(h,{name:O.name,statusRender:o==null?void 0:o.statusRender,popoverProps:o==null?void 0:o.popoverProps,strengthText:o==null?void 0:o.strengthText,open:I,onOpenChange:M,children:(0,i.jsx)("div",{children:(0,i.jsx)(T.Z,(0,v.Z)({valueType:"password",fieldProps:(0,v.Z)((0,v.Z)({},(0,H.Z)(o,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(R){var P;o==null||(P=o.onBlur)===null||P===void 0||P.call(o,R),M(!1)},onClick:function(R){var P;o==null||(P=o.onClick)===null||P===void 0||P.call(o,R),M(!0)}}),proFieldProps:r,filedConfig:{valueType:S}},O))})}):(0,i.jsx)(T.Z,(0,v.Z)({valueType:"password",fieldProps:o,proFieldProps:r,filedConfig:{valueType:S}},O))},b=Z;b.Password=p,b.displayName="ProFormComponent",N.Z=b},20014:function(ue,N,e){e.r(N);var E=e(15009),v=e.n(E),n=e(97857),j=e.n(n),$=e(99289),V=e.n($),H=e(5574),F=e.n(H),T=e(67294),i=e(77569),z=e(17788),X=e(71230),S=e(15746),Z=e(84567),h=e(20863),p=e(76772),b=e(97269),G=e(31199),d=e(5966),o=e(64317),r=e(85893),O=function(m){var I=i.Z.useForm(),M=F()(I,1),x=M[0],R=m.deptTree,P=m.deptCheckedKeys,ie=(0,T.useState)("1"),ce=F()(ie,2),fe=ce[0],_e=ce[1],le=(0,T.useState)([]),pe=F()(le,2),l=pe[0],c=pe[1],u=(0,T.useState)([]),s=F()(u,2),_=s[0],t=s[1],a=(0,T.useState)(!0),g=F()(a,2),D=g[0],k=g[1];(0,T.useEffect)(function(){c(P),x.resetFields(),x.setFieldsValue({roleId:m.values.roleId,roleName:m.values.roleName,roleKey:m.values.roleKey,dataScope:m.values.dataScope}),_e(m.values.dataScope)},[m.values]);var L=(0,p.useIntl)(),te=function(){x.submit()},oe=function(){m.onCancel()},ne=function(){var C=V()(v()().mark(function f(K){return v()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:m.onSubmit(j()(j()({},K),{},{deptIds:l}));case 1:case"end":return ee.stop()}},f)}));return function(K){return C.apply(this,arguments)}}(),ae=function C(f){var K=[];return f.forEach(function(y){K.push(y.key),y.children&&(K=K.concat(C(y.children)))}),K},Y=ae(R),q=function(f){f.includes("deptExpand")?t(Y):t([]),f.includes("deptNodeAll")?c(Y):c([]),f.includes("deptCheckStrictly")?k(!1):k(!0)};return(0,r.jsx)(z.Z,{width:640,title:L.formatMessage({id:"system.user.auth.role",defaultMessage:"\u5206\u914D\u89D2\u8272"}),open:m.open,destroyOnClose:!0,forceRender:!0,onOk:te,onCancel:oe,children:(0,r.jsxs)(b.A,{form:x,grid:!0,layout:"horizontal",onFinish:ne,initialValues:{login_password:"",confirm_password:""},children:[(0,r.jsx)(G.Z,{name:"roleId",label:L.formatMessage({id:"system.role.role_id",defaultMessage:"\u89D2\u8272\u7F16\u53F7"}),colProps:{md:12,xl:12},placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u7F16\u53F7",disabled:!0,hidden:!0,rules:[{required:!1,message:(0,r.jsx)(p.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u89D2\u8272\u7F16\u53F7\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272\u7F16\u53F7\uFF01"})}]}),(0,r.jsx)(d.Z,{name:"roleName",label:L.formatMessage({id:"system.role.role_name",defaultMessage:"\u89D2\u8272\u540D\u79F0"}),disabled:!0,placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",rules:[{required:!0,message:(0,r.jsx)(p.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0\uFF01"})}]}),(0,r.jsx)(d.Z,{name:"roleKey",label:L.formatMessage({id:"system.role.role_key",defaultMessage:"\u6743\u9650\u5B57\u7B26\u4E32"}),disabled:!0,placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32",rules:[{required:!0,message:(0,r.jsx)(p.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32\uFF01"})}]}),(0,r.jsx)(o.Z,{name:"dataScope",label:"\u6743\u9650\u8303\u56F4",initialValue:"1",placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u6027\u522B",valueEnum:{1:"\u5168\u90E8\u6570\u636E\u6743\u9650",2:"\u81EA\u5B9A\u6570\u636E\u6743\u9650",3:"\u672C\u90E8\u95E8\u6570\u636E\u6743\u9650",4:"\u672C\u90E8\u95E8\u53CA\u4EE5\u4E0B\u6570\u636E\u6743\u9650",5:"\u4EC5\u672C\u4EBA\u6570\u636E\u6743\u9650"},rules:[{required:!0}],fieldProps:{onChange:function(f){_e(f)}}}),(0,r.jsx)(b.A.Item,{name:"deptIds",label:L.formatMessage({id:"system.role.auth",defaultMessage:"\u83DC\u5355\u6743\u9650"}),required:fe==="1",hidden:fe!=="1",children:(0,r.jsxs)(X.Z,{gutter:[16,16],children:[(0,r.jsx)(S.Z,{md:24,children:(0,r.jsx)(Z.Z.Group,{options:[{label:"\u5C55\u5F00/\u6298\u53E0",value:"deptExpand"},{label:"\u5168\u9009/\u5168\u4E0D\u9009",value:"deptNodeAll"}],onChange:q})}),(0,r.jsx)(S.Z,{md:24,children:(0,r.jsx)(h.Z,{checkable:!0,checkStrictly:D,expandedKeys:_,treeData:R,checkedKeys:l,defaultCheckedKeys:P,onCheck:function(f,K){return console.log(f,K),c(D?f.checked:{checked:f,halfChecked:K.halfCheckedKeys})},onExpand:function(f){t(_.concat(f))}})})]})})]})})};N.default=O},20863:function(ue,N,e){e.d(N,{Z:function(){return pe}});var E=e(70593),v=e(74902),n=e(67294),j=e(26911),$=e(95591),V=e(32319),H=e(93967),F=e.n(H),T=e(10225),i=e(1089),z=e(53124),X=e(29751),S=e(33603),Z=e(29691),h=e(40561);const p=4;function b(l){const{dropPosition:c,dropLevelOffset:u,prefixCls:s,indent:_,direction:t="ltr"}=l,a=t==="ltr"?"left":"right",g=t==="ltr"?"right":"left",D={[a]:-u*_+p,[g]:0};switch(c){case-1:D.top=-3;break;case 1:D.bottom=-3;break;default:D.bottom=-3,D[a]=_+p;break}return n.createElement("div",{style:D,className:`${s}-drop-indicator`})}var G=b,d=e(61639),r=n.forwardRef((l,c)=>{var u;const{getPrefixCls:s,direction:_,virtual:t,tree:a}=n.useContext(z.E_),{prefixCls:g,className:D,showIcon:k=!1,showLine:L,switcherIcon:te,switcherLoadingIcon:oe,blockNode:ne=!1,children:ae,checkable:Y=!1,selectable:q=!0,draggable:C,motion:f,style:K}=l,y=s("tree",g),ee=s(),de=f!=null?f:Object.assign(Object.assign({},(0,S.Z)(ee)),{motionAppear:!1}),ve=Object.assign(Object.assign({},l),{checkable:Y,selectable:q,showIcon:k,motion:de,blockNode:ne,showLine:!!L,dropIndicatorRender:G}),[J,W,Q]=(0,h.ZP)(y),[,re]=(0,Z.ZP)(),se=re.paddingXS/2+(((u=re.Tree)===null||u===void 0?void 0:u.titleHeight)||re.controlHeightSM),Pe=n.useMemo(()=>{if(!C)return!1;let B={};switch(typeof C){case"function":B.nodeDraggable=C;break;case"object":B=Object.assign({},C);break;default:break}return B.icon!==!1&&(B.icon=B.icon||n.createElement(X.Z,null)),B},[C]),U=B=>n.createElement(d.Z,{prefixCls:y,switcherIcon:te,switcherLoadingIcon:oe,treeNodeProps:B,showLine:L});return J(n.createElement(E.ZP,Object.assign({itemHeight:se,ref:c,virtual:t},ve,{style:Object.assign(Object.assign({},a==null?void 0:a.style),K),prefixCls:y,className:F()({[`${y}-icon-hide`]:!k,[`${y}-block-node`]:ne,[`${y}-unselectable`]:!q,[`${y}-rtl`]:_==="rtl"},a==null?void 0:a.className,D,W,Q),direction:_,checkable:Y&&n.createElement("span",{className:`${y}-checkbox-inner`}),selectable:q,switcherIcon:U,draggable:Pe}),ae))});const O=0,A=1,m=2;function I(l,c,u){const{key:s,children:_}=u;function t(a){const g=a[s],D=a[_];c(g,a)!==!1&&I(D||[],c,u)}l.forEach(t)}function M({treeData:l,expandedKeys:c,startKey:u,endKey:s,fieldNames:_}){const t=[];let a=O;if(u&&u===s)return[u];if(!u||!s)return[];function g(D){return D===u||D===s}return I(l,D=>{if(a===m)return!1;if(g(D)){if(t.push(D),a===O)a=A;else if(a===A)return a=m,!1}else a===A&&t.push(D);return c.includes(D)},(0,i.w$)(_)),t}function x(l,c,u){const s=(0,v.Z)(c),_=[];return I(l,(t,a)=>{const g=s.indexOf(t);return g!==-1&&(_.push(a),s.splice(g,1)),!!s.length},(0,i.w$)(u)),_}var R=function(l,c){var u={};for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&c.indexOf(s)<0&&(u[s]=l[s]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,s=Object.getOwnPropertySymbols(l);_<s.length;_++)c.indexOf(s[_])<0&&Object.prototype.propertyIsEnumerable.call(l,s[_])&&(u[s[_]]=l[s[_]]);return u};function P(l){const{isLeaf:c,expanded:u}=l;return c?n.createElement(j.Z,null):u?n.createElement($.Z,null):n.createElement(V.Z,null)}function ie({treeData:l,children:c}){return l||(0,i.zn)(c)}const ce=(l,c)=>{var{defaultExpandAll:u,defaultExpandParent:s,defaultExpandedKeys:_}=l,t=R(l,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const a=n.useRef(null),g=n.useRef(null),D=()=>{const{keyEntities:J}=(0,i.I8)(ie(t));let W;return u?W=Object.keys(J):s?W=(0,T.r7)(t.expandedKeys||_||[],J):W=t.expandedKeys||_||[],W},[k,L]=n.useState(t.selectedKeys||t.defaultSelectedKeys||[]),[te,oe]=n.useState(()=>D());n.useEffect(()=>{"selectedKeys"in t&&L(t.selectedKeys)},[t.selectedKeys]),n.useEffect(()=>{"expandedKeys"in t&&oe(t.expandedKeys)},[t.expandedKeys]);const ne=(J,W)=>{var Q;return"expandedKeys"in t||oe(J),(Q=t.onExpand)===null||Q===void 0?void 0:Q.call(t,J,W)},ae=(J,W)=>{var Q;const{multiple:re,fieldNames:se}=t,{node:Pe,nativeEvent:U}=W,{key:B=""}=Pe,me=ie(t),De=Object.assign(Object.assign({},W),{selected:!0}),Ee=(U==null?void 0:U.ctrlKey)||(U==null?void 0:U.metaKey),he=U==null?void 0:U.shiftKey;let w;re&&Ee?(w=J,a.current=B,g.current=w,De.selectedNodes=x(me,w,se)):re&&he?(w=Array.from(new Set([].concat((0,v.Z)(g.current||[]),(0,v.Z)(M({treeData:me,expandedKeys:te,startKey:B,endKey:a.current,fieldNames:se}))))),De.selectedNodes=x(me,w,se)):(w=[B],a.current=B,g.current=w,De.selectedNodes=x(me,w,se)),(Q=t.onSelect)===null||Q===void 0||Q.call(t,w,De),"selectedKeys"in t||L(w)},{getPrefixCls:Y,direction:q}=n.useContext(z.E_),{prefixCls:C,className:f,showIcon:K=!0,expandAction:y="click"}=t,ee=R(t,["prefixCls","className","showIcon","expandAction"]),de=Y("tree",C),ve=F()(`${de}-directory`,{[`${de}-directory-rtl`]:q==="rtl"},f);return n.createElement(r,Object.assign({icon:P,ref:c,blockNode:!0},ee,{showIcon:K,expandAction:y,prefixCls:de,className:ve,expandedKeys:te,selectedKeys:k,onSelect:ae,onExpand:ne}))};var _e=n.forwardRef(ce);const le=r;le.DirectoryTree=_e,le.TreeNode=E.OF;var pe=le}}]);
