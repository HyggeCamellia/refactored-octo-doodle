"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[2057],{86615:function(U,Z,n){var l=n(1413),i=n(91),j=n(22270),O=n(78045),F=n(67294),T=n(90789),A=n(45502),m=n(85893),o=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],p=F.forwardRef(function(s,u){var t=s.fieldProps,d=s.options,C=s.radioType,r=s.layout,e=s.proFieldProps,E=s.valueEnum,h=(0,i.Z)(s,o);return(0,m.jsx)(A.Z,(0,l.Z)((0,l.Z)({valueType:C==="button"?"radioButton":"radio",ref:u,valueEnum:(0,j.h)(E,void 0)},h),{},{fieldProps:(0,l.Z)({options:d,layout:r},t),proFieldProps:e,filedConfig:{customLightMode:!0}}))}),y=F.forwardRef(function(s,u){var t=s.fieldProps,d=s.children;return(0,m.jsx)(O.ZP,(0,l.Z)((0,l.Z)({},t),{},{ref:u,children:d}))}),x=(0,T.G)(y,{valuePropName:"checked",ignoreWidth:!0}),c=x;c.Group=p,c.Button=O.ZP.Button,c.displayName="ProFormComponent",Z.Z=c},64317:function(U,Z,n){var l=n(1413),i=n(91),j=n(22270),O=n(67294),F=n(66758),T=n(45502),A=n(85893),m=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],o=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],p=function(t,d){var C=t.fieldProps,r=t.children,e=t.params,E=t.proFieldProps,h=t.mode,a=t.valueEnum,b=t.request,B=t.showSearch,v=t.options,R=(0,i.Z)(t,m),g=(0,O.useContext)(F.Z);return(0,A.jsx)(T.Z,(0,l.Z)((0,l.Z)({valueEnum:(0,j.h)(a),request:b,params:e,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,l.Z)({options:v,mode:h,showSearch:B,getPopupContainer:g.getPopupContainer},C),ref:d,proFieldProps:E},R),{},{children:r}))},y=O.forwardRef(function(u,t){var d=u.fieldProps,C=u.children,r=u.params,e=u.proFieldProps,E=u.mode,h=u.valueEnum,a=u.request,b=u.options,B=(0,i.Z)(u,o),v=(0,l.Z)({options:b,mode:E||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},d),R=(0,O.useContext)(F.Z);return(0,A.jsx)(T.Z,(0,l.Z)((0,l.Z)({valueEnum:(0,j.h)(h),request:a,params:r,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,l.Z)({getPopupContainer:R.getPopupContainer},v),ref:t,proFieldProps:e},B),{},{children:C}))}),x=O.forwardRef(p),c=y,s=x;s.SearchSelect=c,s.displayName="ProFormComponent",Z.Z=s},5966:function(U,Z,n){var l=n(97685),i=n(1413),j=n(91),O=n(21770),F=n(77569),T=n(55241),A=n(98423),m=n(67294),o=n(45502),p=n(85893),y=["fieldProps","proFieldProps"],x=["fieldProps","proFieldProps"],c="text",s=function(r){var e=r.fieldProps,E=r.proFieldProps,h=(0,j.Z)(r,y);return(0,p.jsx)(o.Z,(0,i.Z)({valueType:c,fieldProps:e,filedConfig:{valueType:c},proFieldProps:E},h))},u=function(r){var e=(0,O.Z)(r.open||!1,{value:r.open,onChange:r.onOpenChange}),E=(0,l.Z)(e,2),h=E[0],a=E[1];return(0,p.jsx)(F.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(B){var v,R=B.getFieldValue(r.name||[]);return(0,p.jsx)(T.Z,(0,i.Z)((0,i.Z)({getPopupContainer:function(P){return P&&P.parentNode?P.parentNode:P},onOpenChange:function(P){return a(P)},content:(0,p.jsxs)("div",{style:{padding:"4px 0"},children:[(v=r.statusRender)===null||v===void 0?void 0:v.call(r,R),r.strengthText?(0,p.jsx)("div",{style:{marginTop:10},children:(0,p.jsx)("span",{children:r.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},r.popoverProps),{},{open:h,children:r.children}))}})},t=function(r){var e=r.fieldProps,E=r.proFieldProps,h=(0,j.Z)(r,x),a=(0,m.useState)(!1),b=(0,l.Z)(a,2),B=b[0],v=b[1];return e!=null&&e.statusRender&&h.name?(0,p.jsx)(u,{name:h.name,statusRender:e==null?void 0:e.statusRender,popoverProps:e==null?void 0:e.popoverProps,strengthText:e==null?void 0:e.strengthText,open:B,onOpenChange:v,children:(0,p.jsx)("div",{children:(0,p.jsx)(o.Z,(0,i.Z)({valueType:"password",fieldProps:(0,i.Z)((0,i.Z)({},(0,A.Z)(e,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(g){var P;e==null||(P=e.onBlur)===null||P===void 0||P.call(e,g),v(!1)},onClick:function(g){var P;e==null||(P=e.onClick)===null||P===void 0||P.call(e,g),v(!0)}}),proFieldProps:E,filedConfig:{valueType:c}},h))})}):(0,p.jsx)(o.Z,(0,i.Z)({valueType:"password",fieldProps:e,proFieldProps:E,filedConfig:{valueType:c}},h))},d=s;d.Password=t,d.displayName="ProFormComponent",Z.Z=d},62057:function(U,Z,n){n.r(Z);var l=n(15009),i=n.n(l),j=n(99289),O=n.n(j),F=n(5574),T=n.n(F),A=n(77569),m=n(71230),o=n(15746),p=n(59847),y=n(96074),x=n(83622),c=n(67294),s=n(76772),u=n(19035),t=n(97269),d=n(64317),C=n(5966),r=n(86615),e=n(85893),E=function(a){var b=A.Z.useForm(),B=T()(b,1),v=B[0],R=(0,c.useState)("0"),g=T()(R,2),P=g[0],G=g[1],X=(0,c.useState)("curd"),$=T()(X,2),W=$[0],V=$[1],Y=(0,c.useState)(),z=T()(Y,2),k=z[0],w=z[1],q=a.menuData,M=a.tableInfo,H=a.onStepSubmit,ee=M==null?void 0:M.map(function(_){return{value:_.tableName,label:"".concat(_.tableName,"\uFF1A").concat(_.tableComment)}});if(M)for(var ne=function(){var f=M[K];if(f.tableName===a.values.subTableName){var L=[];return f.columns.forEach(function(D){L.push({value:D.columnName,label:"".concat(D.columnName,": ").concat(D.columnComment)})}),1}},K=0;K<(M==null?void 0:M.length)&&!ne();K+=1);var S=a.values.columns.map(function(_){return{value:_.columnName,label:"".concat(_.columnName,": ").concat(_.columnComment)}}),J=function(){var _=O()(i()().mark(function f(L){var D;return i()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,v.validateFields();case 2:D=I.sent,H("gen",D,L);case 4:case"end":return I.stop()}},f)}));return function(L){return _.apply(this,arguments)}}();return(0,c.useEffect)(function(){G(a.values.genType),V(a.values.tplCategory)},[a.values.genType,a.values.tplCategory]),(0,e.jsxs)(c.Fragment,{children:[(0,e.jsx)(m.Z,{children:(0,e.jsx)(o.Z,{span:24,children:(0,e.jsxs)(t.A,{form:v,onFinish:O()(i()().mark(function _(){var f;return i()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,v.validateFields();case 2:f=D.sent,H("gen",f);case 4:case"end":return D.stop()}},_)})),initialValues:{curd:a.values.curd,tree:a.values.tree,sub:a.values.sub,tplCategory:a.values.tplCategory,packageName:a.values.packageName,moduleName:a.values.moduleName,businessName:a.values.businessName,functionName:a.values.functionName,parentMenuId:a.values.parentMenuId,genType:a.values.genType,genPath:a.values.genPath,treeCode:a.values.treeCode,treeParentCode:a.values.treeParentCode,treeName:a.values.treeName,subTableName:a.values.subTableName,subTableFkName:a.values.subTableFkName},submitter:{resetButtonProps:{style:{display:"none"}},submitButtonProps:{style:{display:"none"}}},children:[(0,e.jsxs)(m.Z,{gutter:[16,16],children:[(0,e.jsx)(o.Z,{span:12,order:1,children:(0,e.jsx)(d.Z,{fieldProps:{onChange:function(f){V(f)}},valueEnum:{crud:"\u5355\u8868\uFF08\u589E\u5220\u6539\u67E5\uFF09",tree:"\u6811\u8868\uFF08\u589E\u5220\u6539\u67E5\uFF09",sub:"\u4E3B\u5B50\u8868\uFF08\u589E\u5220\u6539\u67E5\uFF09"},name:"tplCategory",label:"\u751F\u6210\u6A21\u677F",rules:[{required:!0,message:"\u9009\u62E9\u7C7B\u578B"}]})}),(0,e.jsx)(o.Z,{span:12,order:2,children:(0,e.jsx)(C.Z,{name:"packageName",label:"\u751F\u6210\u5305\u8DEF\u5F84"})})]}),(0,e.jsxs)(m.Z,{gutter:[16,16],children:[(0,e.jsx)(o.Z,{span:12,order:1,children:(0,e.jsx)(C.Z,{name:"moduleName",label:"\u751F\u6210\u6A21\u5757\u540D"})}),(0,e.jsx)(o.Z,{span:12,order:2,children:(0,e.jsx)(C.Z,{name:"businessName",label:"\u751F\u6210\u4E1A\u52A1\u540D"})})]}),(0,e.jsxs)(m.Z,{gutter:[16,16],children:[(0,e.jsx)(o.Z,{span:12,order:1,children:(0,e.jsx)(C.Z,{name:"functionName",label:"\u751F\u6210\u529F\u80FD\u540D"})}),(0,e.jsx)(o.Z,{span:12,order:2,children:(0,e.jsx)(t.A.Item,{labelCol:{span:20},name:"parentMenuId",label:"\u7236\u83DC\u5355",children:(0,e.jsx)(p.Z,{style:{width:"74%"},defaultValue:a.values.parentMenuId,treeData:q,placeholder:"\u8BF7\u9009\u62E9\u7236\u83DC\u5355"})})})]}),(0,e.jsx)(m.Z,{gutter:[16,16],children:(0,e.jsx)(o.Z,{span:24,children:(0,e.jsx)(r.Z.Group,{valueEnum:{0:"zip\u538B\u7F29\u5305",1:"\u81EA\u5B9A\u4E49\u8DEF\u5F84"},name:"genType",label:"\u751F\u6210\u4EE3\u7801\u65B9\u5F0F",rules:[{required:!0,message:"\u9009\u62E9\u7C7B\u578B"}],fieldProps:{onChange:function(f){G(f.target.value)}}})})}),(0,e.jsx)(m.Z,{gutter:[16,16],children:(0,e.jsx)(o.Z,{span:24,order:1,children:(0,e.jsx)(C.Z,{hidden:P==="0",width:"md",name:"genPath",label:"\u81EA\u5B9A\u4E49\u8DEF\u5F84"})})}),(0,e.jsxs)("div",{hidden:W!=="tree",children:[(0,e.jsx)(y.Z,{orientation:"left",children:"\u5176\u4ED6\u4FE1\u606F"}),(0,e.jsxs)(m.Z,{gutter:[16,16],children:[(0,e.jsx)(o.Z,{span:12,order:1,children:(0,e.jsx)(d.Z,{name:"treeCode",label:"\u6811\u7F16\u7801\u5B57\u6BB5",options:S,rules:[{required:W==="tree",message:"\u6811\u7F16\u7801\u5B57\u6BB5"}]})}),(0,e.jsx)(o.Z,{span:12,order:2,children:(0,e.jsx)(d.Z,{name:"treeParentCode",label:"\u6811\u7236\u7F16\u7801\u5B57\u6BB5",options:S,rules:[{required:W==="tree",message:"\u6811\u7236\u7F16\u7801\u5B57\u6BB5"}]})})]}),(0,e.jsx)(m.Z,{gutter:[16,16],children:(0,e.jsx)(o.Z,{span:12,order:1,children:(0,e.jsx)(d.Z,{name:"treeName",label:"\u6811\u540D\u79F0\u5B57\u6BB5",options:S,rules:[{required:W==="tree",message:"\u6811\u540D\u79F0\u5B57\u6BB5"}]})})})]}),(0,e.jsxs)("div",{hidden:W!=="sub",children:[(0,e.jsx)(y.Z,{orientation:"left",children:"\u5173\u8054\u4FE1\u606F"}),(0,e.jsxs)(m.Z,{gutter:[16,16],children:[(0,e.jsx)(o.Z,{span:12,order:1,children:(0,e.jsx)(d.Z,{name:"subTableName",label:"\u5173\u8054\u5B50\u8868\u7684\u8868\u540D",options:ee,rules:[{required:W==="sub",message:"\u5173\u8054\u5B50\u8868\u7684\u8868\u540D"}],fieldProps:{onChange:function(f){if(v.setFieldsValue({subTableFkName:""}),M)for(var L=function(){var I=M[D];if(I.tableName===f){var Q=[];return I.columns.forEach(function(N){Q.push({value:N.columnName,label:"".concat(N.columnName,"\uFF1A").concat(N.columnComment)})}),w(Q),1}},D=0;D<(M==null?void 0:M.length)&&!L();D+=1);}}})}),(0,e.jsx)(o.Z,{span:12,order:2,children:(0,e.jsx)(d.Z,{name:"subTableFkName",options:k,label:"\u5B50\u8868\u5173\u8054\u7684\u5916\u952E\u540D",rules:[{required:W==="sub",message:"\u5B50\u8868\u5173\u8054\u7684\u5916\u952E\u540D"}]})})]})]})]})})}),(0,e.jsxs)(m.Z,{justify:"center",children:[(0,e.jsx)(o.Z,{span:4,children:(0,e.jsx)(x.ZP,{type:"primary",onClick:function(){s.history.back()},children:"\u8FD4\u56DE"})}),(0,e.jsx)(o.Z,{span:4,children:(0,e.jsx)(x.ZP,{type:"primary",className:u.Z.step_buttons,onClick:function(){J("prev")},children:"\u4E0A\u4E00\u6B65"})}),(0,e.jsx)(o.Z,{span:4,children:(0,e.jsx)(x.ZP,{type:"primary",onClick:function(){J("next")},children:"\u63D0\u4EA4"})})]})]})};Z.default=E},19035:function(U,Z){Z.Z={steps:"steps____stZD"}}}]);
