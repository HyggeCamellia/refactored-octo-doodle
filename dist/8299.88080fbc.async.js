"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8299],{16434:function(U,C,e){var a=e(1413),_=e(55850),f=e(15861),c=e(91),F=e(97685),T=e(77569),g=e(25278),R=e(83622),m=e(67294),s=e(90789),M=e(85893),j=["rules","name","phoneName","fieldProps","onTiming","captchaTextRender","captchaProps"],p=m.forwardRef(function(t,l){var d=T.Z.useFormInstance(),n=(0,m.useState)(t.countDown||60),u=(0,F.Z)(n,2),r=u[0],o=u[1],D=(0,m.useState)(!1),A=(0,F.Z)(D,2),v=A[0],h=A[1],O=(0,m.useState)(),P=(0,F.Z)(O,2),I=P[0],E=P[1],N=t.rules,K=t.name,L=t.phoneName,Z=t.fieldProps,G=t.onTiming,y=t.captchaTextRender,V=y===void 0?function(W,b){return W?"".concat(b," \u79D2\u540E\u91CD\u65B0\u83B7\u53D6"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"}:y,J=t.captchaProps,z=(0,c.Z)(t,j),$=function(){var W=(0,f.Z)((0,_.Z)().mark(function b(S){return(0,_.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.prev=0,E(!0),x.next=4,z.onGetCaptcha(S);case 4:E(!1),h(!0),x.next=13;break;case 8:x.prev=8,x.t0=x.catch(0),h(!1),E(!1),console.log(x.t0);case 13:case"end":return x.stop()}},b,null,[[0,8]])}));return function(S){return W.apply(this,arguments)}}();return(0,m.useImperativeHandle)(l,function(){return{startTiming:function(){return h(!0)},endTiming:function(){return h(!1)}}}),(0,m.useEffect)(function(){var W=0,b=t.countDown;return v&&(W=window.setInterval(function(){o(function(S){return S<=1?(h(!1),clearInterval(W),b||60):S-1})},1e3)),function(){return clearInterval(W)}},[v]),(0,m.useEffect)(function(){G&&G(r)},[r,G]),(0,M.jsxs)("div",{style:(0,a.Z)((0,a.Z)({},Z==null?void 0:Z.style),{},{display:"flex",alignItems:"center"}),ref:l,children:[(0,M.jsx)(g.Z,(0,a.Z)((0,a.Z)({},Z),{},{style:(0,a.Z)({flex:1,transition:"width .3s",marginRight:8},Z==null?void 0:Z.style)})),(0,M.jsx)(R.ZP,(0,a.Z)((0,a.Z)({style:{display:"block"},disabled:v,loading:I},J),{},{onClick:(0,f.Z)((0,_.Z)().mark(function W(){var b;return(0,_.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(B.prev=0,!L){B.next=9;break}return B.next=4,d.validateFields([L].flat(1));case 4:return b=d.getFieldValue([L].flat(1)),B.next=7,$(b);case 7:B.next=11;break;case 9:return B.next=11,$("");case 11:B.next=16;break;case 13:B.prev=13,B.t0=B.catch(0),console.log(B.t0);case 16:case"end":return B.stop()}},W,null,[[0,13]])})),children:V(v,r)}))]})}),i=(0,s.G)(p);C.Z=i},31199:function(U,C,e){var a=e(1413),_=e(91),f=e(67294),c=e(45502),F=e(85893),T=["fieldProps","min","proFieldProps","max"],g=function(s,M){var j=s.fieldProps,p=s.min,i=s.proFieldProps,t=s.max,l=(0,_.Z)(s,T);return(0,F.jsx)(c.Z,(0,a.Z)({valueType:"digit",fieldProps:(0,a.Z)({min:p,max:t},j),ref:M,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:i},l))},R=f.forwardRef(g);C.Z=R},86615:function(U,C,e){var a=e(1413),_=e(91),f=e(22270),c=e(78045),F=e(67294),T=e(90789),g=e(45502),R=e(85893),m=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],s=F.forwardRef(function(i,t){var l=i.fieldProps,d=i.options,n=i.radioType,u=i.layout,r=i.proFieldProps,o=i.valueEnum,D=(0,_.Z)(i,m);return(0,R.jsx)(g.Z,(0,a.Z)((0,a.Z)({valueType:n==="button"?"radioButton":"radio",ref:t,valueEnum:(0,f.h)(o,void 0)},D),{},{fieldProps:(0,a.Z)({options:d,layout:u},l),proFieldProps:r,filedConfig:{customLightMode:!0}}))}),M=F.forwardRef(function(i,t){var l=i.fieldProps,d=i.children;return(0,R.jsx)(c.ZP,(0,a.Z)((0,a.Z)({},l),{},{ref:t,children:d}))}),j=(0,T.G)(M,{valuePropName:"checked",ignoreWidth:!0}),p=j;p.Group=s,p.Button=c.ZP.Button,p.displayName="ProFormComponent",C.Z=p},64317:function(U,C,e){var a=e(1413),_=e(91),f=e(22270),c=e(67294),F=e(66758),T=e(45502),g=e(85893),R=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],m=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],s=function(l,d){var n=l.fieldProps,u=l.children,r=l.params,o=l.proFieldProps,D=l.mode,A=l.valueEnum,v=l.request,h=l.showSearch,O=l.options,P=(0,_.Z)(l,R),I=(0,c.useContext)(F.Z);return(0,g.jsx)(T.Z,(0,a.Z)((0,a.Z)({valueEnum:(0,f.h)(A),request:v,params:r,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,a.Z)({options:O,mode:D,showSearch:h,getPopupContainer:I.getPopupContainer},n),ref:d,proFieldProps:o},P),{},{children:u}))},M=c.forwardRef(function(t,l){var d=t.fieldProps,n=t.children,u=t.params,r=t.proFieldProps,o=t.mode,D=t.valueEnum,A=t.request,v=t.options,h=(0,_.Z)(t,m),O=(0,a.Z)({options:v,mode:o||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},d),P=(0,c.useContext)(F.Z);return(0,g.jsx)(T.Z,(0,a.Z)((0,a.Z)({valueEnum:(0,f.h)(D),request:A,params:u,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,a.Z)({getPopupContainer:P.getPopupContainer},O),ref:l,proFieldProps:r},h),{},{children:n}))}),j=c.forwardRef(s),p=M,i=j;i.SearchSelect=p,i.displayName="ProFormComponent",C.Z=i},90672:function(U,C,e){var a=e(1413),_=e(91),f=e(67294),c=e(45502),F=e(85893),T=["fieldProps","proFieldProps"],g=function(m,s){var M=m.fieldProps,j=m.proFieldProps,p=(0,_.Z)(m,T);return(0,F.jsx)(c.Z,(0,a.Z)({ref:s,valueType:"textarea",fieldProps:M,proFieldProps:j},p))};C.Z=f.forwardRef(g)},5966:function(U,C,e){var a=e(97685),_=e(1413),f=e(91),c=e(21770),F=e(77569),T=e(55241),g=e(98423),R=e(67294),m=e(45502),s=e(85893),M=["fieldProps","proFieldProps"],j=["fieldProps","proFieldProps"],p="text",i=function(u){var r=u.fieldProps,o=u.proFieldProps,D=(0,f.Z)(u,M);return(0,s.jsx)(m.Z,(0,_.Z)({valueType:p,fieldProps:r,filedConfig:{valueType:p},proFieldProps:o},D))},t=function(u){var r=(0,c.Z)(u.open||!1,{value:u.open,onChange:u.onOpenChange}),o=(0,a.Z)(r,2),D=o[0],A=o[1];return(0,s.jsx)(F.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(h){var O,P=h.getFieldValue(u.name||[]);return(0,s.jsx)(T.Z,(0,_.Z)((0,_.Z)({getPopupContainer:function(E){return E&&E.parentNode?E.parentNode:E},onOpenChange:function(E){return A(E)},content:(0,s.jsxs)("div",{style:{padding:"4px 0"},children:[(O=u.statusRender)===null||O===void 0?void 0:O.call(u,P),u.strengthText?(0,s.jsx)("div",{style:{marginTop:10},children:(0,s.jsx)("span",{children:u.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},u.popoverProps),{},{open:D,children:u.children}))}})},l=function(u){var r=u.fieldProps,o=u.proFieldProps,D=(0,f.Z)(u,j),A=(0,R.useState)(!1),v=(0,a.Z)(A,2),h=v[0],O=v[1];return r!=null&&r.statusRender&&D.name?(0,s.jsx)(t,{name:D.name,statusRender:r==null?void 0:r.statusRender,popoverProps:r==null?void 0:r.popoverProps,strengthText:r==null?void 0:r.strengthText,open:h,onOpenChange:O,children:(0,s.jsx)("div",{children:(0,s.jsx)(m.Z,(0,_.Z)({valueType:"password",fieldProps:(0,_.Z)((0,_.Z)({},(0,g.Z)(r,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(I){var E;r==null||(E=r.onBlur)===null||E===void 0||E.call(r,I),O(!1)},onClick:function(I){var E;r==null||(E=r.onClick)===null||E===void 0||E.call(r,I),O(!0)}}),proFieldProps:o,filedConfig:{valueType:p}},D))})}):(0,s.jsx)(m.Z,(0,_.Z)({valueType:"password",fieldProps:r,proFieldProps:o,filedConfig:{valueType:p}},D))},d=i;d.Password=l,d.displayName="ProFormComponent",C.Z=d},18299:function(U,C,e){e.r(C);var a=e(15009),_=e.n(a),f=e(99289),c=e.n(f),F=e(5574),T=e.n(F),g=e(67294),R=e(97269),m=e(31199),s=e(5966),M=e(64317),j=e(90672),p=e(16434),i=e(86615),t=e(77569),l=e(17788),d=e(76772),n=e(85893),u=function(o){var D=t.Z.useForm(),A=T()(D,1),v=A[0],h=o.jobGroupOptions,O=o.statusOptions;(0,g.useEffect)(function(){v.resetFields(),v.setFieldsValue({jobId:o.values.jobId,jobName:o.values.jobName,jobGroup:o.values.jobGroup,invokeTarget:o.values.invokeTarget,cronExpression:o.values.cronExpression,misfirePolicy:o.values.misfirePolicy,concurrent:o.values.concurrent,status:o.values.status,createBy:o.values.createBy,createTime:o.values.createTime,updateBy:o.values.updateBy,updateTime:o.values.updateTime,remark:o.values.remark})},[v,o]);var P=(0,d.useIntl)(),I=function(){v.submit()},E=function(){o.onCancel(),v.resetFields()},N=function(){var K=c()(_()().mark(function L(Z){return _()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:o.onSubmit(Z);case 1:case"end":return y.stop()}},L)}));return function(Z){return K.apply(this,arguments)}}();return(0,n.jsx)(l.Z,{width:640,title:P.formatMessage({id:"monitor.job.title",defaultMessage:"\u7F16\u8F91\u5B9A\u65F6\u4EFB\u52A1\u8C03\u5EA6"}),open:o.open,forceRender:!0,destroyOnClose:!0,onOk:I,onCancel:E,children:(0,n.jsxs)(R.A,{form:v,grid:!0,submitter:!1,layout:"horizontal",onFinish:N,children:[(0,n.jsx)(m.Z,{name:"jobId",label:P.formatMessage({id:"monitor.job.job_id",defaultMessage:"\u4EFB\u52A1\u7F16\u53F7"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7F16\u53F7",disabled:!0,hidden:!0,rules:[{required:!1,message:(0,n.jsx)(d.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7F16\u53F7\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7F16\u53F7\uFF01"})}]}),(0,n.jsx)(s.Z,{name:"jobName",label:P.formatMessage({id:"monitor.job.job_name",defaultMessage:"\u4EFB\u52A1\u540D\u79F0"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0",rules:[{required:!1,message:(0,n.jsx)(d.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0\uFF01"})}]}),(0,n.jsx)(M.Z,{name:"jobGroup",options:h,label:P.formatMessage({id:"monitor.job.job_group",defaultMessage:"\u4EFB\u52A1\u7EC4\u540D"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D",rules:[{required:!1,message:(0,n.jsx)(d.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D\uFF01"})}]}),(0,n.jsx)(j.Z,{name:"invokeTarget",label:P.formatMessage({id:"monitor.job.invoke_target",defaultMessage:"\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32",rules:[{required:!0,message:(0,n.jsx)(d.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32\uFF01"})}]}),(0,n.jsx)(p.Z,{name:"cronExpression",label:P.formatMessage({id:"monitor.job.cron_expression",defaultMessage:"cron\u6267\u884C\u8868\u8FBE\u5F0F"}),captchaTextRender:function(){return"\u751F\u6210\u8868\u8FBE\u5F0F"},onGetCaptcha:function(){return new Promise(function(L,Z){Z()})}}),(0,n.jsx)(i.Z.Group,{name:"misfirePolicy",label:P.formatMessage({id:"monitor.job.misfire_policy",defaultMessage:"\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565",valueEnum:{0:"\u7ACB\u5373\u6267\u884C",1:"\u6267\u884C\u4E00\u6B21",3:"\u653E\u5F03\u6267\u884C"},rules:[{required:!1,message:(0,n.jsx)(d.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565\uFF01"})}],fieldProps:{optionType:"button",buttonStyle:"solid"}}),(0,n.jsx)(i.Z.Group,{name:"concurrent",label:P.formatMessage({id:"monitor.job.concurrent",defaultMessage:"\u662F\u5426\u5E76\u53D1\u6267\u884C"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C",valueEnum:{0:"\u5141\u8BB8",1:"\u7981\u6B62"},rules:[{required:!1,message:(0,n.jsx)(d.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C\uFF01"})}],fieldProps:{optionType:"button",buttonStyle:"solid"}}),(0,n.jsx)(i.Z.Group,{valueEnum:O,name:"status",label:P.formatMessage({id:"monitor.job.status",defaultMessage:"\u72B6\u6001"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u72B6\u6001",rules:[{required:!1,message:(0,n.jsx)(d.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u72B6\u6001\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u72B6\u6001\uFF01"})}]})]})})};C.default=u}}]);
