"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7007,6656],{17007:function(g,n,t){t.r(n),t.d(n,{default:function(){return H}});var o=t(5574),r=t.n(o),l=t(67294),C=t(15009),S=t.n(C),E=t(99289),T=t.n(E),s=t(76772);function B(){return j.apply(this,arguments)}function j(){return j=T()(S()().mark(function I(){return S()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,s.request)("/api/monitor/server",{method:"GET"}));case 1:case"end":return u.stop()}},I)})),j.apply(this,arguments)}var p=t(71230),c=t(15746),m=t(4393),i=t(96154),v={card:"card___zrc4U"},a=t(85893),A=[{title:"\u5C5E\u6027",dataIndex:"name",key:"name"},{title:"\u503C",dataIndex:"value",key:"value"}],K=[{title:"\u5C5E\u6027",dataIndex:"name",key:"name"},{title:"\u5185\u5B58",dataIndex:"mem",key:"mem"},{title:"JVM",dataIndex:"jvm",key:"jvm"}],F=[{title:"col1",dataIndex:"col1",key:"col1"},{title:"col2",dataIndex:"col2",key:"col2"},{title:"col3",dataIndex:"col3",key:"col3"},{title:"col4",dataIndex:"col4",key:"col4"}],G=[{title:(0,a.jsx)(s.FormattedMessage,{id:"monitor.server.disk.dirName",defaultMessage:"\u76D8\u7B26\u8DEF\u5F84"}),dataIndex:"dirName",key:"dirName"},{title:(0,a.jsx)(s.FormattedMessage,{id:"monitor.server.disk.sysTypeName",defaultMessage:"\u6587\u4EF6\u7CFB\u7EDF"}),dataIndex:"sysTypeName",key:"sysTypeName"},{title:(0,a.jsx)(s.FormattedMessage,{id:"monitor.server.disk.typeName",defaultMessage:"\u76D8\u7B26\u7C7B\u578B"}),dataIndex:"typeName",key:"typeName"},{title:(0,a.jsx)(s.FormattedMessage,{id:"monitor.server.disk.total",defaultMessage:"\u603B\u5927\u5C0F"}),dataIndex:"total",key:"total"},{title:(0,a.jsx)(s.FormattedMessage,{id:"monitor.server.disk.free",defaultMessage:"\u53EF\u7528\u5927\u5C0F"}),dataIndex:"free",key:"free"},{title:(0,a.jsx)(s.FormattedMessage,{id:"monitor.server.disk.used",defaultMessage:"\u5DF2\u7528\u5927\u5C0F"}),dataIndex:"used",key:"used"},{title:(0,a.jsx)(s.FormattedMessage,{id:"monitor.server.disk.usage",defaultMessage:"\u5DF2\u7528\u767E\u5206\u6BD4"}),dataIndex:"usage",key:"usage"}],P=function(){var N=(0,l.useState)([]),u=r()(N,2),J=u[0],O=u[1],R=(0,l.useState)([]),M=r()(R,2),U=M[0],w=M[1],L=(0,l.useState)([]),Z=r()(L,2),W=Z[0],z=Z[1],V=(0,l.useState)([]),D=r()(V,2),$=D[0],Q=D[1],X=(0,l.useState)([]),k=r()(X,2),Y=k[0],b=k[1];return(0,l.useEffect)(function(){B().then(function(e){if(e.code===200){var y=[];y.push({name:"\u6838\u5FC3\u6570",value:e.data.cpu.cpuNum}),y.push({name:"\u7528\u6237\u4F7F\u7528\u7387",value:"".concat(e.data.cpu.used,"%")}),y.push({name:"\u7CFB\u7EDF\u4F7F\u7528\u7387",value:"".concat(e.data.cpu.sys,"%")}),y.push({name:"\u5F53\u524D\u7A7A\u95F2\u7387",value:"".concat(e.data.cpu.free,"%")}),O(y);var h=[];h.push({name:"\u603B\u5185\u5B58",mem:"".concat(e.data.mem.total,"G"),jvm:"".concat(e.data.jvm.total,"M")}),h.push({name:"\u5DF2\u7528\u5185\u5B58",mem:"".concat(e.data.mem.used,"G"),jvm:"".concat(e.data.jvm.used,"M")}),h.push({name:"\u5269\u4F59\u5185\u5B58",mem:"".concat(e.data.mem.free,"G"),jvm:"".concat(e.data.jvm.free,"M")}),h.push({name:"\u4F7F\u7528\u7387",mem:"".concat(e.data.mem.usage,"%"),jvm:"".concat(e.data.jvm.usage,"%")}),w(h);var f=[];f.push({col1:"\u670D\u52A1\u5668\u540D\u79F0",col2:e.data.sys.computerName,col3:"\u64CD\u4F5C\u7CFB\u7EDF",col4:e.data.sys.osName}),f.push({col1:"\u670D\u52A1\u5668IP",col2:e.data.sys.computerIp,col3:"\u7CFB\u7EDF\u67B6\u6784",col4:e.data.sys.osArch}),z(f);var x=[];x.push({col1:"Java\u540D\u79F0",col2:e.data.jvm.name,col3:"Java\u7248\u672C",col4:e.data.jvm.version}),x.push({col1:"\u542F\u52A8\u65F6\u95F4",col2:e.data.jvm.startTime,col3:"\u8FD0\u884C\u65F6\u957F",col4:e.data.jvm.runTime}),x.push({col1:"\u5B89\u88C5\u8DEF\u5F84",col2:e.data.jvm.home,col3:"\u9879\u76EE\u8DEF\u5F84",col4:e.data.sys.userDir}),Q(x);var q=e.data.sysFiles.map(function(d){return{dirName:d.dirName,sysTypeName:d.sysTypeName,typeName:d.typeName,total:d.total,free:d.free,used:d.used,usage:"".concat(d.usage,"%")}});b(q)}})},[]),(0,a.jsxs)("div",{children:[(0,a.jsxs)(p.Z,{gutter:[24,24],children:[(0,a.jsx)(c.Z,{span:12,children:(0,a.jsx)(m.Z,{title:"CPU",className:v.card,children:(0,a.jsx)(i.Z,{rowKey:"name",pagination:!1,showHeader:!1,dataSource:J,columns:A})})}),(0,a.jsx)(c.Z,{span:12,children:(0,a.jsx)(m.Z,{title:"\u5185\u5B58",className:v.card,children:(0,a.jsx)(i.Z,{rowKey:"name",pagination:!1,showHeader:!1,dataSource:U,columns:K})})})]}),(0,a.jsx)(p.Z,{gutter:[16,16],children:(0,a.jsx)(c.Z,{span:24,children:(0,a.jsx)(m.Z,{title:"\u670D\u52A1\u5668\u4FE1\u606F",className:v.card,children:(0,a.jsx)(i.Z,{rowKey:"col1",pagination:!1,showHeader:!1,dataSource:W,columns:F})})})}),(0,a.jsx)(p.Z,{gutter:[16,16],children:(0,a.jsx)(c.Z,{span:24,children:(0,a.jsx)(m.Z,{title:"Java\u865A\u62DF\u673A\u4FE1\u606F",className:v.card,children:(0,a.jsx)(i.Z,{rowKey:"col1",pagination:!1,showHeader:!1,dataSource:$,columns:F})})})}),(0,a.jsx)(p.Z,{gutter:[16,16],children:(0,a.jsx)(c.Z,{span:24,children:(0,a.jsx)(m.Z,{title:"\u78C1\u76D8\u72B6\u6001",className:v.card,children:(0,a.jsx)(i.Z,{rowKey:"dirName",pagination:!1,dataSource:Y,columns:G})})})})]})},H=P},15746:function(g,n,t){var o=t(21584);n.Z=o.Z},71230:function(g,n,t){var o=t(17621);n.Z=o.Z}}]);
