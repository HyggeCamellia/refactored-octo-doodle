"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3867,2531],{66876:function(w,E,t){t.r(E);var I=t(97857),v=t.n(I),L=t(5574),a=t.n(L),U=t(15009),u=t.n(U),o=t(99289),C=t.n(o),R=t(26058),c=t(2453),A=t(4393),f=t(83622),B=t(67294),p=t(76772),M=t(12531),b=t(65385),K=t(24969),g=t(71965),l=t(85893),T=R.Z.Content,W=function(){var O=C()(u()().mark(function m(h){var i;return u()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i=c.ZP.loading("\u6B63\u5728\u914D\u7F6E"),s.prev=1,s.next=4,(0,M.importTables)(h);case 4:return i(),c.ZP.success("\u914D\u7F6E\u6210\u529F"),s.abrupt("return",!0);case 9:return s.prev=9,s.t0=s.catch(1),i(),c.ZP.error("\u914D\u7F6E\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),s.abrupt("return",!1);case 14:case"end":return s.stop()}},m,null,[[1,9]])}));return function(h){return O.apply(this,arguments)}}(),P=function(){var m=(0,B.useState)([]),h=a()(m,2),i=h[0],y=h[1],s=[{title:"\u8868\u540D\u79F0",dataIndex:"tableName"},{title:"\u8868\u63CF\u8FF0",dataIndex:"tableComment"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",valueType:"textarea",hideInSearch:!0}];return(0,l.jsx)(T,{children:(0,l.jsx)(A.Z,{bordered:!1,children:(0,l.jsx)(b.Z,{headerTitle:"\u4EE3\u7801\u751F\u6210\u4FE1\u606F",rowKey:"tableName",search:{labelWidth:120},toolBarRender:function(){return[(0,l.jsxs)(f.ZP,{type:"primary",onClick:C()(u()().mark(function d(){var r;return u()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(!(i.length<1)){_.next=3;break}return c.ZP.error("\u8BF7\u9009\u62E9\u8981\u5BFC\u5165\u7684\u8868\uFF01"),_.abrupt("return");case 3:return _.next=5,W(i.join(","));case 5:r=_.sent,r&&p.history.back();case 7:case"end":return _.stop()}},d)})),children:[(0,l.jsx)(K.Z,{})," ",(0,l.jsx)(p.FormattedMessage,{id:"gen.submit",defaultMessage:"\u63D0\u4EA4"})]},"primary"),(0,l.jsxs)(f.ZP,{type:"primary",onClick:function(){p.history.back()},children:[(0,l.jsx)(g.Z,{})," ",(0,l.jsx)(p.FormattedMessage,{id:"gen.goback",defaultMessage:"\u8FD4\u56DE"})]},"goback")]},request:function(d){return(0,M.queryTableList)(v()({},d)).then(function(r){return{data:r.rows,total:r.total,success:!0}})},columns:s,rowSelection:{onChange:function(d,r){if(r&&r.length>0){var n=r.map(function(_){return _.tableName});y(n)}}}})})})};E.default=P},12531:function(w,E,t){t.r(E),t.d(E,{addData:function(){return l},batchGenCode:function(){return y},genCode:function(){return h},getGenCode:function(){return A},getGenCodeList:function(){return R},importTables:function(){return M},previewCode:function(){return j},queryTableList:function(){return B},removeData:function(){return K},syncDbInfo:function(){return O},updateData:function(){return W}});var I=t(97857),v=t.n(I),L=t(15009),a=t.n(L),U=t(99289),u=t.n(U),o=t(76772),C=t(30964);function R(r){return c.apply(this,arguments)}function c(){return c=u()(a()().mark(function r(n){var _;return a()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return _=new URLSearchParams(n).toString(),D.abrupt("return",(0,o.request)("/api/code/gen/list?".concat(_),{data:n,method:"get",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 2:case"end":return D.stop()}},r)})),c.apply(this,arguments)}function A(r){return f.apply(this,arguments)}function f(){return f=u()(a()().mark(function r(n){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/code/gen/".concat(n),{method:"get",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return e.stop()}},r)})),f.apply(this,arguments)}function B(r){return p.apply(this,arguments)}function p(){return p=u()(a()().mark(function r(n){var _;return a()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return _=new URLSearchParams(n).toString(),D.abrupt("return",(0,o.request)("/api/code/gen/db/list?".concat(_),{data:n,method:"get",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 2:case"end":return D.stop()}},r)})),p.apply(this,arguments)}function M(r){return b.apply(this,arguments)}function b(){return b=u()(a()().mark(function r(n){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/code/gen/importTable?tables=".concat(n),{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return e.stop()}},r)})),b.apply(this,arguments)}function K(r){return g.apply(this,arguments)}function g(){return g=u()(a()().mark(function r(n){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/code/gen/".concat(n.ids),{method:"delete",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return e.stop()}},r)})),g.apply(this,arguments)}function l(r){return T.apply(this,arguments)}function T(){return T=u()(a()().mark(function r(n){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/code/gen",{method:"POST",data:v()({},n)}));case 1:case"end":return e.stop()}},r)})),T.apply(this,arguments)}function W(r){return P.apply(this,arguments)}function P(){return P=u()(a()().mark(function r(n){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/code/gen",{method:"PUT",data:v()({},n)}));case 1:case"end":return e.stop()}},r)})),P.apply(this,arguments)}function O(r){return m.apply(this,arguments)}function m(){return m=u()(a()().mark(function r(n){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/code/gen/synchDb/".concat(n),{method:"GET"}));case 1:case"end":return e.stop()}},r)})),m.apply(this,arguments)}function h(r){return i.apply(this,arguments)}function i(){return i=u()(a()().mark(function r(n){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/code/gen/genCode/".concat(n),{method:"GET"}));case 1:case"end":return e.stop()}},r)})),i.apply(this,arguments)}function y(r){return s.apply(this,arguments)}function s(){return s=u()(a()().mark(function r(n){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,C.p6)("/api/code/gen/batchGenCode?tables=".concat(n)));case 1:case"end":return e.stop()}},r)})),s.apply(this,arguments)}function j(r){return d.apply(this,arguments)}function d(){return d=u()(a()().mark(function r(n){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.request)("/api/code/gen/preview/".concat(n),{method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return e.stop()}},r)})),d.apply(this,arguments)}}}]);
