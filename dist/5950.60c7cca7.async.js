"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[5950,7329],{5966:function(X,b,e){var Z=e(97685),v=e(1413),W=e(91),u=e(21770),K=e(77569),y=e(55241),S=e(98423),m=e(67294),O=e(45502),P=e(85893),o=["fieldProps","proFieldProps"],B=["fieldProps","proFieldProps"],d="text",x=function(l){var n=l.fieldProps,h=l.proFieldProps,a=(0,W.Z)(l,o);return(0,P.jsx)(O.Z,(0,v.Z)({valueType:d,fieldProps:n,filedConfig:{valueType:d},proFieldProps:h},a))},V=function(l){var n=(0,u.Z)(l.open||!1,{value:l.open,onChange:l.onOpenChange}),h=(0,Z.Z)(n,2),a=h[0],g=h[1];return(0,P.jsx)(K.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(M){var T,w=M.getFieldValue(l.name||[]);return(0,P.jsx)(y.Z,(0,v.Z)((0,v.Z)({getPopupContainer:function(s){return s&&s.parentNode?s.parentNode:s},onOpenChange:function(s){return g(s)},content:(0,P.jsxs)("div",{style:{padding:"4px 0"},children:[(T=l.statusRender)===null||T===void 0?void 0:T.call(l,w),l.strengthText?(0,P.jsx)("div",{style:{marginTop:10},children:(0,P.jsx)("span",{children:l.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},l.popoverProps),{},{open:a,children:l.children}))}})},E=function(l){var n=l.fieldProps,h=l.proFieldProps,a=(0,W.Z)(l,B),g=(0,m.useState)(!1),U=(0,Z.Z)(g,2),M=U[0],T=U[1];return n!=null&&n.statusRender&&a.name?(0,P.jsx)(V,{name:a.name,statusRender:n==null?void 0:n.statusRender,popoverProps:n==null?void 0:n.popoverProps,strengthText:n==null?void 0:n.strengthText,open:M,onOpenChange:T,children:(0,P.jsx)("div",{children:(0,P.jsx)(O.Z,(0,v.Z)({valueType:"password",fieldProps:(0,v.Z)((0,v.Z)({},(0,S.Z)(n,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(p){var s;n==null||(s=n.onBlur)===null||s===void 0||s.call(n,p),T(!1)},onClick:function(p){var s;n==null||(s=n.onClick)===null||s===void 0||s.call(n,p),T(!0)}}),proFieldProps:h,filedConfig:{valueType:d}},a))})}):(0,P.jsx)(O.Z,(0,v.Z)({valueType:"password",fieldProps:n,proFieldProps:h,filedConfig:{valueType:d}},a))},I=x;I.Password=E,I.displayName="ProFormComponent",b.Z=I},17329:function(X,b,e){e.r(b);var Z=e(15009),v=e.n(Z),W=e(99289),u=e.n(W),K=e(5574),y=e.n(K),S=e(67294),m=e(97269),O=e(5966),P=e(77569),o=e(85265),B=e(83622),d=e(85893),x=function(E){var I=P.Z.useForm(),F=y()(I,1),l=F[0];(0,S.useEffect)(function(){l.resetFields(),l.setFieldsValue({id:E.values.id,brandName:E.values.brandName})},[l,E]);var n=function(){var h=u()(v()().mark(function a(g){return v()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:E.onSubmit(g);case 1:case"end":return M.stop()}},a)}));return function(g){return h.apply(this,arguments)}}();return(0,d.jsx)(o.Z,{width:600,title:E.values.id?"\u4FEE\u6539\u54C1\u724C":"\u6DFB\u52A0\u54C1\u724C",open:E.visible,onClose:E.onClose,destroyOnClose:!0,footer:(0,d.jsxs)("div",{style:{textAlign:"right"},children:[(0,d.jsx)(B.ZP,{onClick:E.onClose,style:{marginRight:8},children:"\u53D6\u6D88"}),(0,d.jsx)(B.ZP,{type:"primary",onClick:function(){return l.submit()},children:"\u786E\u5B9A"})]}),children:(0,d.jsxs)(m.A,{form:l,submitter:!1,layout:"horizontal",onFinish:n,children:[(0,d.jsx)(O.Z,{name:"id",label:"\u54C1\u724CID",hidden:!0,disabled:!0}),(0,d.jsx)(O.Z,{name:"brandName",label:"\u54C1\u724C\u540D\u79F0",width:"xl",placeholder:"\u8BF7\u8F93\u5165\u54C1\u724C\u540D\u79F0",rules:[{required:!0,message:"\u54C1\u724C\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}]})]})})};b.default=x},35950:function(X,b,e){e.r(b);var Z=e(5574),v=e.n(Z),W=e(15009),u=e.n(W),K=e(97857),y=e.n(K),S=e(99289),m=e.n(S),O=e(67294),P=e(76772),o=e(2453),B=e(17788),d=e(83622),x=e(6110),V=e(65385),E=e(2236),I=e(24969),F=e(23430),l=e(11475),n=e(38166),h=e(17329),a=e(85893),g=function(){var p=m()(u()().mark(function s(D){var f,t;return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return f=o.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),r.prev=1,r.next=4,(0,n.d4)(y()({},D));case 4:return t=r.sent,f(),t.code===200?o.ZP.success("\u6DFB\u52A0\u6210\u529F"):o.ZP.error(t.msg),r.abrupt("return",!0);case 10:return r.prev=10,r.t0=r.catch(1),f(),o.ZP.error("\u6DFB\u52A0\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),r.abrupt("return",!1);case 15:case"end":return r.stop()}},s,null,[[1,10]])}));return function(D){return p.apply(this,arguments)}}(),U=function(){var p=m()(u()().mark(function s(D){var f,t;return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return f=o.ZP.loading("\u6B63\u5728\u66F4\u65B0"),r.prev=1,r.next=4,(0,n.Zt)(D);case 4:return t=r.sent,f(),t.code===200?o.ZP.success("\u66F4\u65B0\u6210\u529F"):o.ZP.error(t.msg),r.abrupt("return",!0);case 10:return r.prev=10,r.t0=r.catch(1),f(),o.ZP.error("\u66F4\u65B0\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),r.abrupt("return",!1);case 15:case"end":return r.stop()}},s,null,[[1,10]])}));return function(D){return p.apply(this,arguments)}}(),M=function(){var p=m()(u()().mark(function s(D){var f,t;return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(f=o.ZP.loading("\u6B63\u5728\u5220\u9664"),D){r.next=3;break}return r.abrupt("return",!0);case 3:return r.prev=3,r.next=6,(0,n.kh)(D.map(function(H){return H.id}).join(","));case 6:return t=r.sent,f(),t.code===200?o.ZP.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):o.ZP.error(t.msg),r.abrupt("return",!0);case 12:return r.prev=12,r.t0=r.catch(3),f(),r.t0===409?B.Z.error({title:"\u7CFB\u7EDF\u63D0\u793A",content:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:"\u54C1\u724C\u5DF2\u6709\u4E1A\u52A1\u6570\u636E\u5173\u8054\uFF0C\u4E0D\u80FD\u5220\u9664\uFF01"}),(0,a.jsx)("div",{children:"\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\u5904\u7406\uFF01"})]})}):o.ZP.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),r.abrupt("return",!1);case 17:case"end":return r.stop()}},s,null,[[3,12]])}));return function(D){return p.apply(this,arguments)}}(),T=function(){var p=m()(u()().mark(function s(){var D;return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return D=o.ZP.loading("\u6B63\u5728\u5BFC\u51FA"),t.prev=1,t.next=4,(0,n.AB)();case 4:return D(),o.ZP.success("\u5BFC\u51FA\u6210\u529F"),t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t.catch(1),D(),o.ZP.error("\u5BFC\u51FA\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),t.abrupt("return",!1);case 14:case"end":return t.stop()}},s,null,[[1,9]])}));return function(){return p.apply(this,arguments)}}(),w=function(){var s=(0,O.useState)(!1),D=v()(s,2),f=D[0],t=D[1],j=(0,O.useRef)(),r=(0,O.useState)(),H=v()(r,2),ee=H[0],J=H[1],re=(0,O.useState)([]),Y=v()(re,2),$=Y[0],k=Y[1],N=(0,P.useAccess)(),ne=[{title:"\u54C1\u724C\u540D\u79F0",dataIndex:"brandName",valueType:"text"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",valueType:"dateTime",hideInSearch:!0},{title:"\u64CD\u4F5C",dataIndex:"option",width:"180px",valueType:"option",render:function(C,c){return[(0,a.jsx)(d.ZP,{type:"link",size:"small",hidden:!N.hasPerms("wms:itemBrand:edit"),onClick:function(){J(c),t(!0)},children:"\u4FEE\u6539"},"edit"),(0,a.jsx)(d.ZP,{type:"link",size:"small",danger:!0,hidden:!N.hasPerms("wms:itemBrand:remove"),onClick:m()(u()().mark(function i(){return u()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:B.Z.confirm({title:"\u5220\u9664",content:"\u786E\u8BA4\u5220\u9664\u54C1\u724C\u3010".concat(c.brandName,"\u3011\u5417\uFF1F"),okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var L=m()(u()().mark(function q(){var A;return u()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,M([c]);case 2:A=G.sent,A&&j.current&&j.current.reload();case 4:case"end":return G.stop()}},q)}));function z(){return L.apply(this,arguments)}return z}()});case 1:case"end":return _.stop()}},i)})),children:"\u5220\u9664"},"delete")]}}];return(0,a.jsxs)(x._z,{children:[(0,a.jsx)(V.Z,{headerTitle:"\u54C1\u724C\u5217\u8868",actionRef:j,rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[(0,a.jsxs)(d.ZP,{type:"primary",hidden:!N.hasPerms("wms:itemBrand:add"),onClick:function(){J(void 0),t(!0)},children:[(0,a.jsx)(I.Z,{})," \u65B0\u589E"]},"add"),(0,a.jsxs)(d.ZP,{type:"primary",hidden:!N.hasPerms("wms:itemBrand:export"),onClick:m()(u()().mark(function C(){return u()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,T();case 2:case"end":return i.stop()}},C)})),children:[(0,a.jsx)(F.Z,{})," \u5BFC\u51FA"]},"export")]},request:function(){var R=m()(u()().mark(function C(c){var i;return u()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,n.BF)(y()({},c));case 2:return i=_.sent,_.abrupt("return",{data:i.rows,total:i.total,success:!0});case 4:case"end":return _.stop()}},C)}));return function(C){return R.apply(this,arguments)}}(),columns:ne,rowSelection:{onChange:function(C,c){k(c)}}}),($==null?void 0:$.length)>0&&(0,a.jsx)(E.S,{extra:(0,a.jsxs)("div",{children:["\u5DF2\u9009\u62E9 ",(0,a.jsx)("a",{style:{fontWeight:600},children:$.length})," \u9879"]}),children:(0,a.jsx)(d.ZP,{danger:!0,hidden:!N.hasPerms("wms:itemBrand:remove"),onClick:m()(u()().mark(function R(){return u()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:B.Z.confirm({title:"\u662F\u5426\u786E\u8BA4\u5220\u9664\u6240\u9009\u6570\u636E\u9879?",icon:(0,a.jsx)(l.Z,{}),content:"\u8BF7\u8C28\u614E\u64CD\u4F5C",onOk:function(){return m()(u()().mark(function Q(){var _,L,z;return u()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,M($);case 2:_=A.sent,_&&(k([]),(L=j.current)===null||L===void 0||(z=L.reloadAndRest)===null||z===void 0||z.call(L));case 4:case"end":return A.stop()}},Q)}))()},onCancel:function(){}});case 1:case"end":return c.stop()}},R)})),children:"\u6279\u91CF\u5220\u9664"},"batchRemove")}),(0,a.jsx)(h.default,{onSubmit:function(){var R=m()(u()().mark(function C(c){var i;return u()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(i=!1,!c.id){_.next=7;break}return _.next=4,U(c);case 4:i=_.sent,_.next=10;break;case 7:return _.next=9,g(c);case 9:i=_.sent;case 10:i&&(t(!1),J(void 0),j.current&&j.current.reload());case 11:case"end":return _.stop()}},C)}));return function(C){return R.apply(this,arguments)}}(),onClose:function(){t(!1),J(void 0)},visible:f,values:ee||{}})]})};b.default=w}}]);
