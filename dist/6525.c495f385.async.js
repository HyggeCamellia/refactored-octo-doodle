"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[6525],{36525:function(G,P,t){t.r(P);var R=t(15009),d=t.n(R),T=t(97857),j=t.n(T),M=t(99289),S=t.n(M),A=t(19632),C=t.n(A),L=t(5574),D=t.n(L),f=t(67294),I=t(76772),m=t(77569),l=t(83622),W=t(85265),E=t(71230),c=t(15746),o=t(25278),_=t(24969),a=t(33160),v=t(48296),u=t(65385),z=t(3057),e=t(85893),V=(0,f.forwardRef)(function(O,H){var X=O.open,F=O.onCancel,K=O.singleSelect,B=K===void 0?!1:K,U=O.size,J=U===void 0?"80%":U,Q=m.Z.useForm(),Y=D()(Q,1),Z=Y[0],x=(0,f.useRef)(),q=(0,f.useState)([]),k=D()(q,2),ee=k[0],y=k[1],ne=(0,f.useState)(!1),w=D()(ne,2),te=w[0],$=w[1],re=(0,I.useModel)("wms"),ue=re.itemBrandMap;(0,f.useImperativeHandle)(H,function(){return{getList:function(){var n;(n=x.current)===null||n===void 0||n.reload()}}});var _e=function(n){return(n.length||n.length===0)&&(n.width||n.width===0)&&(n.height||n.height===0)?"".concat(n.length," * ").concat(n.width," * ").concat(n.height):[n.length||n.length===0?"\u957F\uFF1A".concat(n.length):"",n.width||n.width===0?"\u5BBD\uFF1A".concat(n.width):"",n.height||n.height===0?"\u9AD8\uFF1A".concat(n.height):""].filter(Boolean).join(" ")},se=function(n){F()},ae=function(){F(),y([])},N=function(){F(),y([])},le=function(){I.history.push("/system/itemManage2?openDrawer=true")},ie=[{title:"\u5546\u54C1\u4FE1\u606F",render:function(n,r){var h,g,p,b;return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{children:(h=r.item)===null||h===void 0?void 0:h.itemName}),((g=r.item)===null||g===void 0?void 0:g.itemCode)&&(0,e.jsxs)("div",{children:["\u7F16\u53F7\uFF1A",r.item.itemCode]}),((p=r.item)===null||p===void 0?void 0:p.itemBrand)&&(0,e.jsxs)("div",{children:["\u54C1\u724C\uFF1A",(b=ue.get(r.item.itemBrand))===null||b===void 0?void 0:b.brandName]})]})}},{title:"\u89C4\u683C\u4FE1\u606F",render:function(n,r){return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{children:r.skuName}),r.skuCode&&(0,e.jsxs)("div",{children:["\u7F16\u53F7\uFF1A",r.skuCode]}),r.barcode&&(0,e.jsxs)("div",{children:["\u6761\u7801\uFF1A",r.barcode]})]})}},{title:"\u4EF7\u683C(\u5143)",width:160,align:"left",render:function(n,r){return(0,e.jsxs)("div",{children:[r.costPrice!==void 0&&(0,e.jsxs)("div",{className:"flex-space-between",children:[(0,e.jsx)("span",{children:"\u6210\u672C\u4EF7\uFF1A"}),(0,e.jsx)("div",{children:r.costPrice})]}),r.sellingPrice!==void 0&&(0,e.jsxs)("div",{className:"flex-space-between",children:[(0,e.jsx)("span",{children:"\u9500\u552E\u4EF7\uFF1A"}),(0,e.jsx)("div",{children:r.sellingPrice})]})]})}},{title:"\u91CD\u91CF(kg)",width:160,align:"left",render:function(n,r){return(0,e.jsxs)("div",{children:[r.netWeight!==void 0&&(0,e.jsxs)("div",{className:"flex-space-between",children:[(0,e.jsx)("span",{children:"\u51C0\u91CD\uFF1A"}),(0,e.jsx)("div",{children:r.netWeight})]}),r.grossWeight!==void 0&&(0,e.jsxs)("div",{className:"flex-space-between",children:[(0,e.jsx)("span",{children:"\u6BDB\u91CD\uFF1A"}),(0,e.jsx)("div",{children:r.grossWeight})]})]})}},{title:"\u957F\u5BBD\u9AD8(cm)",align:"right",width:250,render:function(n,r){return(0,e.jsx)("div",{children:_e(r)})}}].concat(C()(B?[{title:"\u64CD\u4F5C",width:100,align:"right",render:function(n,r){return(0,e.jsx)(l.ZP,{type:"link",onClick:function(){return se(r)},children:"\u9009\u62E9"})}}]:[]));return(0,e.jsxs)(W.Z,{title:"\u5546\u54C1\u9009\u62E9",width:J,open:X,onClose:N,destroyOnClose:!0,footer:(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(l.ZP,{icon:(0,e.jsx)(_.Z,{}),onClick:le,children:"\u521B\u5EFA\u5546\u54C1"}),(0,e.jsx)(l.ZP,{icon:(0,e.jsx)(a.Z,{}),onClick:function(){var n;return(n=x.current)===null||n===void 0?void 0:n.reload()},style:{marginLeft:8},children:"\u5237\u65B0"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(l.ZP,{onClick:N,style:{marginRight:8},children:"\u53D6\u6D88"}),!B&&(0,e.jsx)(l.ZP,{type:"primary",onClick:ae,children:"\u786E\u8BA4"})]})]}),children:[(0,e.jsxs)(m.Z,{form:Z,layout:"inline",labelAlign:"left",children:[(0,e.jsxs)(E.Z,{gutter:20,style:{width:"100%"},children:[(0,e.jsx)(c.Z,{span:8,children:(0,e.jsx)(m.Z.Item,{label:"\u5546\u54C1\u540D\u79F0",name:"itemName",children:(0,e.jsx)(o.Z,{placeholder:"\u5546\u54C1\u540D\u79F0",allowClear:!0})})}),(0,e.jsx)(c.Z,{span:8,children:(0,e.jsx)(m.Z.Item,{label:"\u5546\u54C1\u7F16\u53F7",name:"itemCode",children:(0,e.jsx)(o.Z,{placeholder:"\u5546\u54C1\u7F16\u53F7",allowClear:!0})})}),(0,e.jsx)(c.Z,{span:8,children:(0,e.jsx)(m.Z.Item,{label:"\u89C4\u683C\u540D\u79F0",name:"skuName",children:(0,e.jsx)(o.Z,{placeholder:"\u89C4\u683C\u540D\u79F0",allowClear:!0})})})]}),(0,e.jsxs)(E.Z,{gutter:20,style:{width:"100%",marginTop:16},children:[(0,e.jsx)(c.Z,{span:8,children:(0,e.jsx)(m.Z.Item,{label:"\u89C4\u683C\u7F16\u53F7",name:"barcode",children:(0,e.jsx)(o.Z,{placeholder:"\u89C4\u683C\u7F16\u53F7",allowClear:!0})})}),(0,e.jsx)(c.Z,{span:8,children:(0,e.jsx)(l.ZP,{type:"primary",icon:(0,e.jsx)(v.Z,{}),onClick:function(){var n;return(n=x.current)===null||n===void 0?void 0:n.reload()},children:"\u67E5\u8BE2"})})]})]}),(0,e.jsx)(u.Z,{style:{marginTop:16},actionRef:x,rowKey:"id",search:!1,options:!1,request:function(){var s=S()(d()().mark(function n(r){var h,g,p;return d()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return $(!0),i.prev=1,h=Z.getFieldsValue(),g=j()(j()({},h),{},{pageNum:r.current,pageSize:r.pageSize}),i.next=6,(0,z.uE)(g);case 6:return p=i.sent,i.abrupt("return",{data:p.rows,total:p.total,success:!0});case 8:return i.prev=8,$(!1),i.finish(8);case 11:case"end":return i.stop()}},n,null,[[1,,8,11]])}));return function(n){return s.apply(this,arguments)}}(),columns:ie,rowSelection:B?void 0:{selectedRowKeys:ee.map(function(s){return s.id}),onChange:function(n,r){return y(r)}},loading:te,pagination:{showSizeChanger:!0,pageSizeOptions:["5","10","20","50"]}})]})});P.default=V},3057:function(G,P,t){t.d(P,{pe:function(){return c},uE:function(){return A}});var R=t(15009),d=t.n(R),T=t(99289),j=t.n(T),M=t(76772),S=t(30964);function A(_){return C.apply(this,arguments)}function C(){return C=j()(d()().mark(function _(a){return d()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,M.request)("/api/wms/itemSku/list",{method:"GET",params:a}));case 1:case"end":return u.stop()}},_)})),C.apply(this,arguments)}function L(_){return D.apply(this,arguments)}function D(){return D=_asyncToGenerator(_regeneratorRuntime().mark(function _(a){return _regeneratorRuntime().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",request("/api/wms/itemSku/listNoPage",{method:"GET",params:a}));case 1:case"end":return u.stop()}},_)})),D.apply(this,arguments)}function f(_,a){return downLoadXlsx("/api/wms/itemSku/export",{params:_},"itemSku_".concat(new Date().getTime(),".xlsx"))}function I(_){return request("/api/wms/itemSku/".concat(_),{method:"GET"})}function m(_){return l.apply(this,arguments)}function l(){return l=_asyncToGenerator(_regeneratorRuntime().mark(function _(a){return _regeneratorRuntime().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",request("/api/wms/itemSku",{method:"POST",data:a}));case 1:case"end":return u.stop()}},_)})),l.apply(this,arguments)}function W(_){return E.apply(this,arguments)}function E(){return E=_asyncToGenerator(_regeneratorRuntime().mark(function _(a){return _regeneratorRuntime().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",request("/api/wms/itemSku",{method:"PUT",data:a}));case 1:case"end":return u.stop()}},_)})),E.apply(this,arguments)}function c(_){return o.apply(this,arguments)}function o(){return o=j()(d()().mark(function _(a){return d()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,M.request)("/api/wms/itemSku/".concat(a),{method:"DELETE"}));case 1:case"end":return u.stop()}},_)})),o.apply(this,arguments)}}}]);
