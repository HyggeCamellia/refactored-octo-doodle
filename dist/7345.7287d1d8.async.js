"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7345,3370],{33370:function(Ce,R,a){a.r(R);var S=a(67294),I=a(47116),ae=a.n(I),z=a(78566),H=a.n(z),e=a(85893),Q=(0,S.forwardRef)(function(K,x){var g,u=K.data;return(0,e.jsxs)("div",{ref:x,style:{padding:"20px",fontFamily:'"Microsoft YaHei", sans-serif',fontSize:"14px"},children:[(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",borderBottom:"1px solid #eee",paddingBottom:"15px"},children:[(0,e.jsx)("div",{children:(0,e.jsxs)("h1",{style:{fontSize:"22px",fontWeight:"bold",marginBottom:"8px"},children:["\u5165\u5E93\u5355\uFF1A",u.receiptOrderNo]})}),(0,e.jsx)("div",{children:(0,e.jsx)(H(),{value:u.receiptOrderNo,options:{displayValue:!1,width:1,height:50,format:"CODE128"}})})]}),(0,e.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"15px",marginBottom:"20px"},children:[(0,e.jsxs)("div",{children:[(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u5165\u5E93\u7C7B\u578B\uFF1A"}),u.receiptOrderType]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u4F9B\u5E94\u5546\uFF1A"}),u.merchantName]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u4ED3\u5E93\uFF1A"}),u.warehouseName]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u6570\u91CF\uFF1A"}),u.totalQuantity]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u521B\u5EFA\u4EBA\uFF1A"}),u.createBy]}),u.updateBy&&(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u64CD\u4F5C\u4EBA\uFF1A"}),u.updateBy]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u5907\u6CE8\uFF1A"}),u.remark]})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u5165\u5E93\u72B6\u6001\uFF1A"}),u.receiptOrderStatus]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u8BA2\u5355\u53F7\uFF1A"}),u.orderNo]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u5E93\u533A\uFF1A"}),u.areaName]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u91D1\u989D\uFF1A"}),u.payableAmount]}),(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u521B\u5EFA\u65F6\u95F4\uFF1A"}),u.createTime]}),u.updateTime&&(0,e.jsxs)("p",{children:[(0,e.jsx)("strong",{children:"\u64CD\u4F5C\u65F6\u95F4\uFF1A"}),u.updateTime]})]})]}),((g=u.table)===null||g===void 0?void 0:g.length)>0?(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",margin:"15px 0",border:"1px solid #ddd"},children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px",textAlign:"left"},children:"\u5546\u54C1\u540D\u79F0"}),(0,e.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px",textAlign:"left"},children:"\u89C4\u683C"}),(0,e.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px",textAlign:"left"},children:"\u5E93\u533A"}),(0,e.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px",textAlign:"left"},children:"\u6279\u53F7"}),(0,e.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px",textAlign:"left"},children:"\u751F\u4EA7\u65E5\u671F"}),(0,e.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px",textAlign:"left"},children:"\u8FC7\u671F\u65E5\u671F"}),(0,e.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px",textAlign:"right"},children:"\u6570\u91CF"}),(0,e.jsx)("th",{style:{border:"1px solid #ddd",padding:"10px",textAlign:"right"},children:"\u4EF7\u683C(\u5143)"})]})}),(0,e.jsxs)("tbody",{children:[u.table.map(function(s,E){return(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:s.itemName}),(0,e.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:s.skuName}),(0,e.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:s.areaName}),(0,e.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:s.batchNo||"-"}),(0,e.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:s.productionDate||"-"}),(0,e.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px"},children:s.expirationDate||"-"}),(0,e.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"right"},children:s.quantity}),(0,e.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"right"},children:s.amount})]},E)}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{colSpan:6,style:{border:"1px solid #ddd",padding:"8px",textAlign:"right",fontWeight:500},children:"\u5408\u8BA1"}),(0,e.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"right",fontWeight:500},children:u.table.reduce(function(s,E){return s+(Number(E.quantity)||0)},0)||0}),(0,e.jsx)("td",{style:{border:"1px solid #ddd",padding:"8px",textAlign:"right",fontWeight:500},children:u.table.reduce(function(s,E){return s+(Number(E.amount)||0)},0).toFixed(2)||"0.00"})]})]})]})}):(0,e.jsx)("div",{style:{textAlign:"center",padding:"20px",color:"#999"},children:"\u6682\u65E0\u5165\u5E93\u660E\u7EC6\u6570\u636E"})]})}),c=function(x){var g=x.data,u=x.onClose,s=x.loading,E=s===void 0?!1:s,v=x.visible,O=(0,S.useRef)(null),F=(0,I.useReactToPrint)({contentRef:O});return(0,S.useEffect)(function(){if(v){var N=setTimeout(function(){F()},100);return function(){return clearTimeout(N)}}},[v,F]),(0,e.jsxs)("div",{children:[(0,e.jsx)("button",{onClick:function(){return F()},children:"\u6253\u5370"}),(0,e.jsx)(Q,{ref:O,data:g})]})};R.default=c},57345:function(Ce,R,a){a.r(R);var S=a(9783),I=a.n(S),ae=a(19632),z=a.n(ae),H=a(15009),e=a.n(H),Q=a(97857),c=a.n(Q),K=a(99289),x=a.n(K),g=a(5574),u=a.n(g),s=a(67294),E=a(76772),v=a(77569),O=a(17788),F=a(2453),N=a(66309),U=a(53531),de=a(55241),y=a(83622),ie=a(4393),M=a(78045),ue=a(25278),le=a(96154),Ae=a(48296),be=a(33160),Be=a(24969),Te=a(6110),G=a(10107),se=a(73817),oe=a(92982),Re=a(27484),j=a.n(Re),Se=a(16157),Ie=a(33370),r=a(85893),Ne=function(){var V,Le=(0,s.useState)([]),ce=u()(Le,2),k=ce[0],We=ce[1],Ke=(0,s.useState)([]),_e=u()(Ke,2),X=_e[0],Ue=_e[1],P=(0,E.useModel)("wms");P.getWarehouseList();var J=P.warehouseMap;P.getAreaList();var Z=P.areaMap;P.getMerchantList();var pe=P.merchantMap,Ze=v.Z.useForm(),$e=u()(Ze,1),De=$e[0],we=(0,s.useState)(!1),me=u()(we,2),Ye=me[0],C=me[1],ze=(0,s.useState)([]),he=u()(ze,2),He=he[0],fe=he[1],Qe=(0,s.useState)(0),xe=u()(Qe,2),Ge=xe[0],Ve=xe[1],ke=(0,s.useState)([]),ve=u()(ke,2),A=ve[0],$=ve[1],Xe=(0,s.useState)({}),Ee=u()(Xe,2),Je=Ee[0],je=Ee[1],qe=(0,s.useState)({pageNum:1,pageSize:10,receiptOrderNo:void 0,receiptOrderType:-1,merchantId:void 0,orderNo:void 0,payableAmount:void 0,receiptOrderStatus:-2}),ge=u()(qe,2),b=ge[0],L=ge[1],et=(0,s.useState)({visible:!1,currentOrder:null}),Oe=u()(et,2),q=Oe[0],w=Oe[1];(0,s.useEffect)(function(){Promise.all([(0,oe.pX)("wms_receipt_status"),(0,oe.pX)("wms_receipt_type")]).then(function(i){var n=u()(i,2),t=n[0],d=n[1];We(Object.values(t)),Ue(Object.values(d))}),Y()},[b.pageNum,b.pageSize]),(0,s.useEffect)(function(){Y()},[b.receiptOrderStatus]);var Y=function(){var i=x()(e()().mark(function n(){var t,d;return e()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return C(!0),p.prev=1,t=c()({},b),t.receiptOrderStatus===-2&&(t.receiptOrderStatus=void 0),t.receiptOrderType===-1&&(t.receiptOrderType=void 0),p.next=7,(0,G.Ug)(t);case 7:d=p.sent,fe(d.rows),Ve(d.total),$([]);case 11:return p.prev=11,C(!1),p.finish(11);case 14:case"end":return p.stop()}},n,null,[[1,,11,14]])}));return function(){return i.apply(this,arguments)}}(),W=function(){L(function(n){return c()(c()({},n),{},{pageNum:1})}),Y()},tt=function(){De.resetFields(),L({pageNum:1,pageSize:10,receiptOrderNo:void 0,receiptOrderType:-1,merchantId:void 0,orderNo:void 0,payableAmount:void 0,receiptOrderStatus:-2})},rt=function(){w({visible:!0,currentOrder:null})},nt=function(){var i=x()(e()().mark(function n(t){return e()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:O.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u786E\u8BA4\u5220\u9664\u5165\u5E93\u5355\u3010".concat(t.receiptOrderNo,"\u3011\u5417\uFF1F"),onOk:function(){var p=x()(e()().mark(function m(){return e()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return C(!0),o.prev=1,o.next=4,(0,G.sr)(t.id);case 4:F.ZP.success("\u5220\u9664\u6210\u529F"),Y(),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(1),o.t0===409&&O.Z.error({title:"\u7CFB\u7EDF\u63D0\u793A",content:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:["\u5165\u5E93\u5355\u3010",t.receiptOrderNo,"\u3011\u5DF2\u5165\u5E93\uFF0C\u4E0D\u80FD\u5220\u9664\uFF01"]}),(0,r.jsx)("div",{children:"\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\u5904\u7406\uFF01"})]})});case 11:return o.prev=11,C(!1),o.finish(11);case 14:case"end":return o.stop()}},m,null,[[1,8,11,14]])}));function B(){return p.apply(this,arguments)}return B}()});case 1:case"end":return l.stop()}},n)}));return function(t){return i.apply(this,arguments)}}(),at=function(n){w({visible:!0,currentOrder:n})},ye=function(n){var t=A.indexOf(n.id);t!==-1?$(A.filter(function(d){return d!==n.id})):($([].concat(z()(A),[n.id])),dt(n))},dt=function(){var i=x()(e()().mark(function n(t){var d,l,p;return e()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return je(function(h){return c()(c()({},h),{},I()({},t.id,!0))}),m.prev=1,m.next=4,(0,se.dR)(t.id);case 4:l=m.sent,(d=l.data)!==null&&d!==void 0&&d.length&&(p=l.data.map(function(h){var o,_;return c()(c()({},h),{},{warehouseName:(o=J.get(h.warehouseId))===null||o===void 0?void 0:o.warehouseName,areaName:(_=Z.get(h.areaId))===null||_===void 0?void 0:_.areaName})}),fe(function(h){return h.map(function(o){return o.id===t.id?c()(c()({},o),{},{details:p}):o})}));case 6:return m.prev=6,je(function(h){return c()(c()({},h),{},I()({},t.id,!1))}),m.finish(6);case 9:case"end":return m.stop()}},n,null,[[1,,6,9]])}));return function(t){return i.apply(this,arguments)}}(),it=(0,s.useState)(null),Fe=u()(it,2),ee=Fe[0],te=Fe[1],ut=function(){var i=x()(e()().mark(function n(t){var d,l,p,B,m,h,o,_,Me,Pe;return e()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return C(!0),f.prev=1,f.next=4,Promise.all([(0,G.ud)(t.id),(0,se.dR)(t.id)]);case 4:h=f.sent,o=u()(h,2),_=o[0],Me=o[1],Pe=Me.data.map(function(D){var T,re,ne;return{itemName:((T=D.itemSku)===null||T===void 0||(T=T.item)===null||T===void 0?void 0:T.itemName)||"-",skuName:((re=D.itemSku)===null||re===void 0?void 0:re.skuName)||"-",areaName:((ne=Z.get(D.areaId))===null||ne===void 0?void 0:ne.areaName)||"-",quantity:Number(D.quantity).toFixed(0),amount:D.amount?Number(D.amount).toFixed(2):"-",batchNo:D.batchNo||"-",productionDate:D.productionDate?j()(D.productionDate).format("YYYY-MM-DD"):"-",expirationDate:D.expirationDate?j()(D.expirationDate).format("YYYY-MM-DD"):"-"}}),te({receiptOrderNo:_.data.receiptOrderNo,receiptOrderType:(d=X.find(function(D){return D.value==_.data.receiptOrderType}))===null||d===void 0?void 0:d.label,receiptOrderStatus:(l=k.find(function(D){return D.value==_.data.receiptOrderStatus}))===null||l===void 0?void 0:l.label,merchantName:((p=pe.get(_.data.merchantId))===null||p===void 0?void 0:p.merchantName)||"-",orderNo:_.data.orderNo||"-",warehouseName:((B=J.get(_.data.warehouseId))===null||B===void 0?void 0:B.warehouseName)||"-",areaName:((m=Z.get(_.data.areaId))===null||m===void 0?void 0:m.areaName)||"-",totalQuantity:Number(_.data.totalQuantity).toFixed(0),payableAmount:_.data.payableAmount?"".concat(_.data.payableAmount,"\u5143"):"",createBy:_.data.createBy,createTime:j()(_.data.createTime).format("MM-DD HH:mm"),updateBy:_.data.updateBy,updateTime:_.data.updateTime?j()(_.data.updateTime).format("MM-DD HH:mm"):"-",remark:_.data.remark,table:Pe}),f.next=16;break;case 12:f.prev=12,f.t0=f.catch(1),F.ZP.error("\u83B7\u53D6\u6253\u5370\u6570\u636E\u5931\u8D25"),console.error("Print error:",f.t0);case 16:return f.prev=16,C(!1),f.finish(16);case 19:case"end":return f.stop()}},n,null,[[1,12,16,19]])}));return function(t){return i.apply(this,arguments)}}(),lt=[{title:"\u5355\u53F7/\u8BA2\u5355\u53F7",align:"left",width:150,render:function(n,t){return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:["\u5355\u53F7\uFF1A",t.receiptOrderNo]}),t.orderNo&&(0,r.jsxs)("div",{children:["\u8BA2\u5355\u53F7\uFF1A",t.orderNo]})]})}},{title:"\u5165\u5E93\u7C7B\u578B",dataIndex:"receiptOrderType",align:"left",width:100,render:function(n,t){var d;return(0,r.jsx)(N.Z,{color:n==0?"blue":n==1?"green":"blue",children:(d=X.find(function(l){return l.value==n}))===null||d===void 0?void 0:d.label})}},{title:"\u4F9B\u5E94\u5546",align:"left",width:120,render:function(n,t){var d;return(0,r.jsx)("div",{children:(d=pe.get(t.merchantId))===null||d===void 0?void 0:d.merchantName})}},{title:"\u4ED3\u5E93/\u5E93\u533A",align:"left",width:150,render:function(n,t){var d,l;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:["\u4ED3\u5E93\uFF1A",(d=J.get(t.warehouseId))===null||d===void 0?void 0:d.warehouseName]}),t.areaId&&(0,r.jsxs)("div",{children:["\u5E93\u533A\uFF1A",(l=Z.get(t.areaId))===null||l===void 0?void 0:l.areaName]})]})}},{title:"\u5165\u5E93\u72B6\u6001",dataIndex:"receiptOrderStatus",align:"center",width:100,render:function(n,t){var d;return(0,r.jsx)(N.Z,{color:n==0?"blue":n==1?"green":"red",children:(d=k.find(function(l){return l.value==n}))===null||d===void 0?void 0:d.label})}},{title:"\u6570\u91CF/\u91D1\u989D(\u5143)",align:"left",width:120,render:function(n,t){return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,r.jsx)("span",{children:"\u6570\u91CF\uFF1A"}),(0,r.jsx)(U.Z,{value:Number(t.totalQuantity),precision:0})]}),(t.payableAmount||t.payableAmount===0)&&(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,r.jsx)("span",{children:"\u91D1\u989D\uFF1A"}),(0,r.jsx)(U.Z,{value:Number(t.payableAmount),precision:2})]})]})}},{title:"\u521B\u5EFA/\u64CD\u4F5C",align:"left",width:120,render:function(n,t){return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:["\u521B\u5EFA\uFF1A",t.createBy]}),t.updateBy&&(0,r.jsxs)("div",{children:["\u64CD\u4F5C\uFF1A",t.updateBy]})]})}},{title:"\u521B\u5EFA\u65F6\u95F4/\u64CD\u4F5C\u65F6\u95F4",align:"left",width:150,render:function(n,t){return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:["\u521B\u5EFA\uFF1A",j()(t.createTime).format("MM-DD HH:mm")]}),(0,r.jsxs)("div",{children:["\u64CD\u4F5C\uFF1A",j()(t.updateTime).format("MM-DD HH:mm")]})]})}},{title:"\u5907\u6CE8",dataIndex:"remark",width:120},{title:"\u64CD\u4F5C",align:"right",width:120,render:function(n,t){return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(de.Z,{content:"\u5165\u5E93\u5355\u3010".concat(t.receiptOrderNo,"\u3011\u5DF2").concat(t.receiptOrderStatus===1?"\u5165\u5E93":"\u4F5C\u5E9F","\uFF0C\u65E0\u6CD5\u4FEE\u6539\uFF01"),disabled:[-1,1].includes(t.receiptOrderStatus),children:(0,r.jsx)(y.ZP,{type:"link",onClick:function(){return at(t)},disabled:[-1,1].includes(t.receiptOrderStatus),children:"\u4FEE\u6539"})}),(0,r.jsx)(y.ZP,{type:"link",onClick:function(){return ye(t)},children:A.includes(t.id)?"\u6536\u8D77":"\u67E5\u770B"})]}),(0,r.jsxs)("div",{style:{marginTop:5},children:[(0,r.jsx)(de.Z,{content:"\u5165\u5E93\u5355\u3010".concat(t.receiptOrderNo,"\u3011\u5DF2\u5165\u5E93\uFF0C\u65E0\u6CD5\u5220\u9664\uFF01"),disabled:[-1,0].includes(t.receiptOrderStatus),children:(0,r.jsx)(y.ZP,{type:"link",danger:!0,onClick:function(){return nt(t)},disabled:t.receiptOrderStatus===1,children:"\u5220\u9664"})}),(0,r.jsx)(y.ZP,{type:"link",onClick:function(){return ut(t)},children:"\u6253\u5370"})]})]})}}];return(0,r.jsxs)(Te._z,{children:[(0,r.jsx)(ie.Z,{children:(0,r.jsxs)(v.Z,{form:De,layout:"inline",labelAlign:"left",style:{display:"flex",flexWrap:"nowrap",gap:16},children:[(0,r.jsx)(v.Z.Item,{label:"\u5165\u5E93\u72B6\u6001",name:"receiptOrderStatus",initialValue:-2,style:{marginBottom:0,flex:1},children:(0,r.jsxs)(M.ZP.Group,{onChange:function(n){L(function(t){return c()(c()({},t),{},{receiptOrderStatus:n.target.value})}),W()},style:{whiteSpace:"nowrap"},children:[(0,r.jsx)(M.ZP.Button,{value:-2,children:"\u5168\u90E8"}),k.map(function(i){return(0,r.jsx)(M.ZP.Button,{value:i.value,children:i.label},i.value)})]})}),(0,r.jsx)(v.Z.Item,{label:"\u5165\u5E93\u7C7B\u578B",name:"receiptOrderType",initialValue:-1,style:{marginBottom:0,flex:1},children:(0,r.jsxs)(M.ZP.Group,{onChange:function(n){L(function(t){return c()(c()({},t),{},{receiptOrderType:n.target.value})}),W()},style:{whiteSpace:"nowrap"},children:[(0,r.jsx)(M.ZP.Button,{value:-1,children:"\u5168\u90E8"}),X.map(function(i){return(0,r.jsx)(M.ZP.Button,{value:i.value,children:i.label},i.value)})]})}),(0,r.jsx)(v.Z.Item,{label:"\u5165\u5E93\u5355\u53F7",name:"receiptOrderNo",style:{marginBottom:0,flex:1},children:(0,r.jsx)(ue.Z,{placeholder:"\u8BF7\u8F93\u5165\u5165\u5E93\u5355\u53F7",allowClear:!0,onPressEnter:W,style:{minWidth:180}})}),(0,r.jsx)(v.Z.Item,{label:"\u8BA2\u5355\u53F7",name:"orderNo",style:{marginBottom:0,flex:1},children:(0,r.jsx)(ue.Z,{placeholder:"\u8BF7\u8F93\u5165\u8BA2\u5355\u53F7",allowClear:!0,onPressEnter:W,style:{minWidth:180}})}),(0,r.jsxs)(v.Z.Item,{style:{marginBottom:0},children:[(0,r.jsx)(y.ZP,{type:"primary",icon:(0,r.jsx)(Ae.Z,{}),onClick:W,children:"\u641C\u7D22"}),(0,r.jsx)(y.ZP,{icon:(0,r.jsx)(be.Z,{}),onClick:tt,style:{marginLeft:8},children:"\u91CD\u7F6E"})]})]})}),(0,r.jsxs)(ie.Z,{style:{marginTop:20},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:16},children:[(0,r.jsx)("span",{style:{fontSize:"large"},children:"\u5165\u5E93\u5355"}),(0,r.jsx)(y.ZP,{type:"primary",icon:(0,r.jsx)(Be.Z,{}),onClick:rt,children:"\u65B0\u589E"})]}),(0,r.jsx)(le.Z,{loading:Ye,dataSource:He,columns:lt,rowKey:"id",expandable:{expandedRowKeys:A,onExpand:function(n,t){n?ye(t):$(A.filter(function(d){return d!==t.id}))},expandedRowRender:function(n){return(0,r.jsxs)("div",{style:{padding:"0 50px 20px 50px"},children:[(0,r.jsx)("h3",{children:"\u5546\u54C1\u660E\u7EC6"}),(0,r.jsx)(le.Z,{loading:Je[n.id],dataSource:n.details||[],rowKey:"id",pagination:{current:b.pageNum,pageSize:b.pageSize,total:Ge,onChange:function(d,l){L(function(p){return c()(c()({},p),{},{pageNum:d,pageSize:l})})}},size:"small",columns:[{title:"\u5546\u54C1\u540D\u79F0",dataIndex:["itemSku","item","itemName"]},{title:"\u89C4\u683C\u540D\u79F0",dataIndex:["itemSku","skuName"]},{title:"\u5E93\u533A",dataIndex:"areaName"},{title:"\u6570\u91CF",align:"right",render:function(d,l){return(0,r.jsx)(U.Z,{value:Number(l.quantity),precision:0})}},{title:"\u4EF7\u683C(\u5143)",align:"right",render:function(d,l){return(0,r.jsx)(U.Z,{value:l.amount?Number(l.amount):0,precision:2})}},{title:"\u6279\u53F7",dataIndex:"batchNo"},{title:"\u751F\u4EA7\u65E5\u671F",render:function(d,l){return(0,r.jsx)("div",{children:l.productionDate?j()(l.productionDate).format("YYYY-MM-DD"):"-"})}},{title:"\u8FC7\u671F\u65E5\u671F",render:function(d,l){return(0,r.jsx)("div",{children:l.expirationDate?j()(l.expirationDate).format("YYYY-MM-DD"):"-"})}}]})]})}}})]}),(0,r.jsx)(O.Z,{title:q.currentOrder?"\u4FEE\u6539\u79FB\u5E93\u5355":"\u65B0\u589E\u79FB\u5E93\u5355",open:q.visible,onCancel:function(){return w(function(n){return c()(c()({},n),{},{editVisible:!1})})},footer:null,width:"95%",destroyOnClose:!0,children:(0,r.jsx)(Se.default,{id:(V=q.currentOrder)===null||V===void 0?void 0:V.id,onCancel:function(){return w(function(n){return c()(c()({},n),{},{editVisible:!1})})}})}),(0,r.jsx)(O.Z,{open:!!ee,onCancel:function(){return te(null)},footer:null,width:800,children:ee&&(0,r.jsx)(Ie.default,{data:ee,onClose:function(){return te(null)},visible:!1})})]})};R.default=Ne}}]);
