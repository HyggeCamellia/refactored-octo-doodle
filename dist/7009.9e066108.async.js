"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7009,3531,1122],{7009:function(re,V,r){r.r(V);var y=r(19632),g=r.n(y),G=r(15009),E=r.n(G),k=r(97857),U=r.n(k),Y=r(99289),I=r.n(Y),H=r(5574),L=r.n(H),N=r(67294),W=r(76772),z=r(25278),P=r(34041),T=r(77569),C=r(2453),Q=r(17788),S=r(29021),a=r(53531),_=r(13457),O=r(83622),t=r(4393),oe=r(71230),J=r(15746),de=r(96154),Oe=r(48689),ae=r(24969),ce=r(6110),q=r(23924),_e=r(41649),m=r(28206),f=r(27484),h=r.n(f),e=r(85893),v=z.Z.TextArea,b=P.Z.Option,A=function(j){var x=j.id,Z=j.onCancel,B=(0,W.useModel)("wms"),R=B.warehouseMap,M=B.areaMap,$=B.itemBrandMap,X=T.Z.useForm(),me=L()(X,1),D=me[0],Ie=(0,N.useRef)(),De=(0,N.useState)(!1),se=L()(De,2),ie=se[0],ee=se[1],fe=(0,N.useState)(!1),K=L()(fe,2),te=K[0],ue=K[1],pe=(0,N.useState)(!1),ne=L()(pe,2),he=ne[0],ve=ne[1],Ee=(0,N.useState)([]),Ce=L()(Ee,2),Ae=Ce[0],Be=Ce[1],xe=(0,N.useState)([]),je=L()(xe,2),ye=je[0],Pe=je[1];(0,N.useEffect)(function(){if(x)ue(!0),Te(x);else{var l=new Date().getTime();D.setFieldsValue({checkOrderNo:"PK".concat(l),checkOrderStatus:0,checkOrderTotal:0,details:[]})}},[x]);var Te=function(){var l=I()(E()().mark(function p(n){var i,o;return E()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return ee(!0),c.prev=1,c.next=4,(0,q.YT)(n);case 4:i=c.sent,o=i.data,o.details&&(o.details=o.details.map(function(u){var s;return U()(U()({},u),{},{areaName:(s=M.get(u.areaId))===null||s===void 0?void 0:s.areaName,newInventoryDetail:!u.inventoryDetailId,quantity:Number(u.quantity),checkQuantity:Number(u.checkQuantity)})})),D.setFieldsValue(o);case 8:return c.prev=8,ee(!1),c.finish(8);case 11:case"end":return c.stop()}},p,null,[[1,,8,11]])}));return function(n){return l.apply(this,arguments)}}(),be=function(){var l=I()(E()().mark(function p(){var n,i,o,d;return E()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,D.validateFields(["warehouseId"]);case 2:if(n=u.sent,n.warehouseId){u.next=6;break}return C.ZP.error("\u8BF7\u5148\u9009\u62E9\u4ED3\u5E93\uFF01"),u.abrupt("return");case 6:return ue(!0),ee(!0),u.prev=8,u.next=11,(0,m.tB)({warehouseId:n.warehouseId,areaId:n.areaId});case 11:i=u.sent,o=D.getFieldValue("details")||[],d=i.data.filter(function(s){return!o.find(function(w){return w.inventoryDetailId===s.id})}).map(function(s){var w;return{itemSku:s.itemSku,inventoryDetailId:s.id,skuId:s.itemSku.id,warehouseId:s.warehouseId,areaId:s.areaId,quantity:Number(s.remainQuantity),checkQuantity:Number(s.remainQuantity),areaName:(w=M.get(s.areaId))===null||w===void 0?void 0:w.areaName,batchNo:s.batchNo,productionDate:s.productionDate,expirationDate:s.expirationDate,receiptTime:s.createTime,newInventoryDetail:!1}}),D.setFieldsValue({details:[].concat(g()(o),g()(d))});case 15:return u.prev=15,ee(!1),u.finish(15);case 18:case"end":return u.stop()}},p,null,[[8,,15,18]])}));return function(){return l.apply(this,arguments)}}(),we=function(){var p=D.getFieldValue("details")||[],n=0;p.forEach(function(i){i.quantity!==i.checkQuantity&&(n+=i.checkQuantity-i.quantity)}),D.setFieldsValue({checkOrderTotal:n})},ke=function(){var l=I()(E()().mark(function p(n,i){var o;return E()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:n.id?Q.Z.confirm({title:"\u786E\u8BA4\u5220\u9664\u672C\u6761\u5546\u54C1\u660E\u7EC6\u5417\uFF1F",content:"\u5982\u786E\u8BA4\u4F1A\u7ACB\u5373\u6267\u884C\uFF01",onOk:function(){var u=I()(E()().mark(function w(){var ge;return E()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return le.next=2,(0,_e.mQ)(n.id);case 2:ge=D.getFieldValue("details"),ge.splice(i,1),D.setFieldsValue({details:ge}),C.ZP.success("\u5220\u9664\u6210\u529F");case 6:case"end":return le.stop()}},w)}));function s(){return u.apply(this,arguments)}return s}()}):(o=D.getFieldValue("details"),o.splice(i,1),D.setFieldsValue({details:o}));case 1:case"end":return c.stop()}},p)}));return function(n,i){return l.apply(this,arguments)}}(),Me=function(){var l=I()(E()().mark(function p(){var n,i,o,d,c=arguments;return E()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n=c.length>0&&c[0]!==void 0?c[0]:0,s.prev=1,s.next=4,D.validateFields();case 4:if(i=D.getFieldsValue(),o=(i.details||[]).map(function(w){return{id:w.id,checkOrderId:i.id,skuId:w.skuId,quantity:w.quantity,checkQuantity:w.checkQuantity,inventoryDetailId:w.inventoryDetailId,warehouseId:i.warehouseId,areaId:w.areaId,batchNo:w.batchNo,productionDate:w.productionDate,expirationDate:w.expirationDate,receiptTime:w.receiptTime}}),d=U()(U()({},i),{},{checkOrderStatus:n,details:o}),!i.id){s.next=12;break}return s.next=10,(0,q.tE)(d);case 10:s.next=14;break;case 12:return s.next=14,(0,q.Qz)(d);case 14:C.ZP.success("\u64CD\u4F5C\u6210\u529F"),Z(),s.next=21;break;case 18:s.prev=18,s.t0=s.catch(1),C.ZP.error("\u8BF7\u586B\u5199\u5B8C\u6574\u4FE1\u606F");case 21:case"end":return s.stop()}},p,null,[[1,18]])}));return function(){return l.apply(this,arguments)}}(),Se=function(){var l=I()(E()().mark(function p(){var n,i,o,d;return E()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,D.validateFields();case 3:if(n=D.getFieldsValue(),i=(n.details||[]).filter(function(s){return s.newInventoryDetail}),!(i.length&&i.some(function(s){return!s.areaId}))){u.next=8;break}return C.ZP.error("\u8BF7\u9009\u62E9\u5E93\u533A"),u.abrupt("return");case 8:return o=(n.details||[]).map(function(s){return{id:s.id,checkOrderId:n.id,skuId:s.skuId,quantity:s.quantity,checkQuantity:s.checkQuantity,warehouseId:n.warehouseId,areaId:s.areaId,batchNo:s.batchNo,productionDate:s.productionDate,expirationDate:s.expirationDate,receiptTime:s.receiptTime,inventoryDetailId:s.inventoryDetailId}}),d=U()(U()({},n),{},{details:o}),u.next=12,(0,q.BF)(d);case 12:C.ZP.success("\u76D8\u5E93\u6210\u529F"),Z(),u.next=19;break;case 16:u.prev=16,u.t0=u.catch(0),C.ZP.error("\u64CD\u4F5C\u5931\u8D25");case 19:case"end":return u.stop()}},p,null,[[0,16]])}));return function(){return l.apply(this,arguments)}}(),Fe=function(){var l=I()(E()().mark(function p(){return E()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:Q.Z.confirm({title:"\u786E\u8BA4\u4F5C\u5E9F\u76D8\u5E93\u5355\u5417\uFF1F",onOk:function(){return Me(-1)}});case 1:case"end":return i.stop()}},p)}));return function(){return l.apply(this,arguments)}}(),Re=[{title:"\u5546\u54C1\u4FE1\u606F",dataIndex:["itemSku","item","itemName"],render:function(p,n){var i,o,d,c;return(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{children:[(i=n.itemSku)===null||i===void 0||(i=i.item)===null||i===void 0?void 0:i.itemName,((o=n.itemSku)===null||o===void 0||(o=o.item)===null||o===void 0?void 0:o.itemCode)&&"(".concat(n.itemSku.item.itemCode,")")]}),((d=n.itemSku)===null||d===void 0||(d=d.item)===null||d===void 0?void 0:d.itemBrand)&&(0,e.jsxs)("div",{children:["\u54C1\u724C\uFF1A",(c=$.get(n.itemSku.item.itemBrand))===null||c===void 0?void 0:c.brandName]})]})}},{title:"\u89C4\u683C\u4FE1\u606F",render:function(p,n){return(0,e.jsx)("div",{children:n.itemSku?"".concat(n.itemSku.skuName).concat(n.itemSku.barcode?"(".concat(n.itemSku.barcode,")"):""):"\u8BF7\u9009\u62E9\u5546\u54C1"})}},{title:"\u5E93\u533A",render:function(p,n){return n.newInventoryDetail?(0,e.jsx)(P.Z,{value:n.areaId,onChange:function(o){var d=D.getFieldValue("details"),c=d.findIndex(function(s){return s.skuId===n.skuId});if(c!==-1){var u;d[c].areaId=o,d[c].areaName=(u=M.get(o))===null||u===void 0?void 0:u.areaName,D.setFieldsValue({details:d})}},style:{width:"100%"},children:ye.filter(function(i){return i.warehouseId===D.getFieldValue("warehouseId")}).map(function(i){return(0,e.jsx)(b,{value:i.id,children:i.areaName},i.id)})}):(0,e.jsx)("div",{children:n.areaName})}},{title:"\u6279\u53F7",render:function(p,n){return n.newInventoryDetail?(0,e.jsx)(z.Z,{value:n.batchNo,onChange:function(o){var d=D.getFieldValue("details"),c=d.findIndex(function(u){return u.skuId===n.skuId});c!==-1&&(d[c].batchNo=o.target.value,D.setFieldsValue({details:d}))}}):(0,e.jsx)("div",{children:n.batchNo})}},{title:"\u751F\u4EA7\u65E5\u671F/\u8FC7\u671F\u65E5\u671F",render:function(p,n){return n.newInventoryDetail?(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:8},children:[(0,e.jsx)("span",{style:{marginRight:8},children:"\u751F\u4EA7\u65E5\u671F\uFF1A"}),(0,e.jsx)(S.default,{value:n.productionDate?h()(n.productionDate):null,onChange:function(o){var d=D.getFieldValue("details"),c=d.findIndex(function(u){return u.skuId===n.skuId});c!==-1&&(d[c].productionDate=o?o.format("YYYY-MM-DD HH:mm:ss"):void 0,D.setFieldsValue({details:d}))},style:{width:150}})]}),(0,e.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,e.jsx)("span",{style:{marginRight:8},children:"\u8FC7\u671F\u65E5\u671F\uFF1A"}),(0,e.jsx)(S.default,{value:n.expirationDate?h()(n.expirationDate):null,onChange:function(o){var d=D.getFieldValue("details"),c=d.findIndex(function(u){return u.skuId===n.skuId});c!==-1&&(d[c].expirationDate=o?o.format("YYYY-MM-DD HH:mm:ss"):void 0,D.setFieldsValue({details:d}))},style:{width:150}})]})]}):(0,e.jsxs)("div",{children:[n.productionDate&&(0,e.jsxs)("div",{children:["\u751F\u4EA7\u65E5\u671F\uFF1A",n.productionDate.substring(0,10)]}),n.expirationDate&&(0,e.jsxs)("div",{children:["\u8FC7\u671F\u65E5\u671F\uFF1A",n.expirationDate.substring(0,10)]})]})}},{title:"\u5165\u5E93\u65E5\u671F",render:function(p,n){return n.newInventoryDetail?(0,e.jsx)(S.default,{value:n.receiptTime?h()(n.receiptTime):null,onChange:function(o){var d=D.getFieldValue("details"),c=d.findIndex(function(u){return u.skuId===n.skuId});c!==-1&&(d[c].receiptTime=o?o.format("YYYY-MM-DD HH:mm:ss"):void 0,D.setFieldsValue({details:d}))},style:{width:150}}):(0,e.jsx)("div",{children:h()(n.receiptTime).format("YYYY-MM-DD")})}},{title:"\u8D26\u9762\u5E93\u5B58",render:function(p,n){return(0,e.jsx)(a.Z,{value:Number(n.quantity),precision:0})}},{title:"\u76C8\u4E8F\u6570",render:function(p,n){return(0,e.jsx)(a.Z,{value:Number(n.checkQuantity)-Number(n.quantity),precision:0})}},{title:"\u5B9E\u9645\u5E93\u5B58",render:function(p,n){return(0,e.jsx)(_.Z,{value:n.checkQuantity,onChange:function(o){var d=D.getFieldValue("details"),c=d.findIndex(function(u){return u.skuId===n.skuId});c!==-1&&(d[c].checkQuantity=o,D.setFieldsValue({details:d}),we())},min:0,style:{width:"100%"}})}},{title:"\u64CD\u4F5C",render:function(p,n,i){return n.newInventoryDetail&&(0,e.jsx)(O.ZP,{icon:(0,e.jsx)(Oe.Z,{}),type:"link",danger:!0,onClick:function(){return ke(n,i)},children:"\u5220\u9664"})}}];return(0,e.jsx)(ce._z,{children:te?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.Z,{title:"\u76D8\u5E93\u5355\u57FA\u672C\u4FE1\u606F",loading:ie,style:{marginBottom:24},children:(0,e.jsx)(T.Z,{form:D,layout:"horizontal",labelCol:{span:6},wrapperCol:{span:18},labelAlign:"left",children:(0,e.jsxs)(oe.Z,{gutter:24,children:[(0,e.jsx)(J.Z,{xs:24,sm:12,md:8,children:(0,e.jsx)(T.Z.Item,{label:"\u76D8\u5E93\u5355\u53F7",name:"checkOrderNo",rules:[{required:!0,message:"\u76D8\u5E93\u5355\u53F7\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,e.jsx)(z.Z,{disabled:!!x,style:{width:"100%"}})})}),(0,e.jsx)(J.Z,{xs:24,sm:12,md:8,children:(0,e.jsx)(T.Z.Item,{label:"\u4ED3\u5E93",name:"warehouseId",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4ED3\u5E93"}],children:(0,e.jsx)(P.Z,{placeholder:"\u8BF7\u9009\u62E9\u4ED3\u5E93",disabled:te,style:{width:"100%"},onChange:function(p){D.setFieldsValue({areaId:void 0}),Pe(Array.from(M.values()).filter(function(n){return n.warehouseId===p}))},children:Array.from(R.values()).map(function(l){return(0,e.jsx)(b,{value:l.id,children:l.warehouseName},l.id)})})})}),(0,e.jsx)(J.Z,{xs:24,sm:12,md:8,children:(0,e.jsx)(T.Z.Item,{label:"\u5E93\u533A",name:"areaId",children:(0,e.jsx)(P.Z,{placeholder:"\u8BF7\u9009\u62E9\u5E93\u533A",disabled:!D.getFieldValue("warehouseId")||te,style:{width:"100%"},children:ye.filter(function(l){return l.warehouseId===D.getFieldValue("warehouseId")}).map(function(l){return(0,e.jsx)(b,{value:l.id,children:l.areaName},l.id)})})})}),(0,e.jsx)(J.Z,{span:16,children:(0,e.jsx)(T.Z.Item,{label:"\u5907\u6CE8",name:"remark",labelCol:{span:3},wrapperCol:{span:21},children:(0,e.jsx)(v,{placeholder:"\u5907\u6CE8...100\u4E2A\u5B57\u7B26\u4EE5\u5185",maxLength:100,rows:2,showCount:!0,style:{width:"100%"}})})}),(0,e.jsx)(J.Z,{xs:8,sm:8,md:8,children:(0,e.jsx)(T.Z.Item,{label:"\u76C8\u4E8F\u6570",name:"checkOrderTotal",children:(0,e.jsx)(_.Z,{disabled:!0,precision:0,style:{width:"100%"}})})})]})})}),(0,e.jsxs)(t.Z,{title:"\u5546\u54C1\u660E\u7EC6",className:"mt10",loading:ie,children:[(0,e.jsxs)("div",{style:{marginBottom:16},children:[(0,e.jsx)("span",{children:"\u4E00\u7269\u4E00\u7801/SN\u6A21\u5F0F\uFF1A"}),(0,e.jsx)(O.ZP,{type:"text",onClick:function(){Q.Z.info({title:"\u7CFB\u7EDF\u63D0\u793A",content:"\u4E00\u7269\u4E00\u7801/SN\u6A21\u5F0F\u8BF7\u53BBSaas\u7248\u672C\u4F53\u9A8C\uFF01"})},children:he?"\u5F00\u542F":"\u5173\u95ED"}),(0,e.jsx)(O.ZP,{type:"primary",style:{float:"right"},icon:(0,e.jsx)(ae.Z,{}),disabled:!D.getFieldValue("warehouseId"),onClick:function(){},children:"\u65B0\u589E\u5E93\u5B58"})]}),(0,e.jsx)(de.Z,{columns:Re,dataSource:D.getFieldValue("details")||[],rowKey:"skuId",pagination:!1,scroll:{x:"max-content"}})]}),(0,e.jsx)("div",{style:{position:"fixed",bottom:0,right:0,width:"100%",padding:"16px",background:"#fff",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.15)"},children:(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(O.ZP,{onClick:Se,type:"primary",style:{marginRight:8},children:"\u5B8C\u6210\u76D8\u5E93"}),x&&(0,e.jsx)(O.ZP,{onClick:Fe,danger:!0,children:"\u4F5C\u5E9F"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(O.ZP,{onClick:function(){return Me(0)},type:"primary",style:{marginRight:8},children:"\u6682\u5B58"}),(0,e.jsx)(O.ZP,{onClick:Z,children:"\u53D6\u6D88"})]})]})})]}):(0,e.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,e.jsx)(t.Z,{style:{width:"500px"},children:(0,e.jsxs)(T.Z,{form:D,layout:"vertical",children:[(0,e.jsx)(T.Z.Item,{label:"\u4ED3\u5E93",name:"warehouseId",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4ED3\u5E93"}],children:(0,e.jsx)(P.Z,{placeholder:"\u8BF7\u9009\u62E9\u4ED3\u5E93",onChange:function(p){D.setFieldsValue({areaId:void 0}),Pe(Array.from(M.values()).filter(function(n){return n.warehouseId===p}))},children:Array.from(R.values()).map(function(l){return(0,e.jsx)(b,{value:l.id,children:l.warehouseName},l.id)})})}),(0,e.jsx)(T.Z.Item,{label:"\u5E93\u533A",name:"areaId",children:(0,e.jsx)(P.Z,{placeholder:"\u8BF7\u9009\u62E9\u5E93\u533A",children:ye.map(function(l){return(0,e.jsx)(b,{value:l.id,children:l.areaName},l.id)})})}),(0,e.jsx)(T.Z.Item,{children:(0,e.jsx)(O.ZP,{type:"primary",onClick:be,style:{width:"100%"},children:"\u5F00\u59CB\u76D8\u5E93"})})]})})})})};V.default=A},23924:function(re,V,r){r.d(V,{BF:function(){return T},Qz:function(){return N},YT:function(){return L},_q:function(){return Q},rX:function(){return Y},tE:function(){return z}});var y=r(15009),g=r.n(y),G=r(99289),E=r.n(G),k=r(76772),U=r(30964);function Y(a){return I.apply(this,arguments)}function I(){return I=E()(g()().mark(function a(_){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,k.request)("/api/wms/checkOrder/list",{method:"GET",params:_}));case 1:case"end":return t.stop()}},a)})),I.apply(this,arguments)}function H(a,_){return downLoadXlsx("/api/wms/checkOrder/export",{params:a},"checkOrder_".concat(new Date().getTime(),".xlsx"))}function L(a){return(0,k.request)("/api/wms/checkOrder/".concat(a),{method:"GET"})}function N(a){return W.apply(this,arguments)}function W(){return W=E()(g()().mark(function a(_){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,k.request)("/api/wms/checkOrder",{method:"POST",data:_}));case 1:case"end":return t.stop()}},a)})),W.apply(this,arguments)}function z(a){return P.apply(this,arguments)}function P(){return P=E()(g()().mark(function a(_){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,k.request)("/api/wms/checkOrder",{method:"PUT",data:_}));case 1:case"end":return t.stop()}},a)})),P.apply(this,arguments)}function T(a){return C.apply(this,arguments)}function C(){return C=E()(g()().mark(function a(_){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,k.request)("/api/wms/checkOrder/check",{method:"POST",data:_}));case 1:case"end":return t.stop()}},a)})),C.apply(this,arguments)}function Q(a){return S.apply(this,arguments)}function S(){return S=E()(g()().mark(function a(_){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,k.request)("/api/wms/checkOrder/".concat(_),{method:"DELETE"}));case 1:case"end":return t.stop()}},a)})),S.apply(this,arguments)}},41649:function(re,V,r){r.d(V,{WB:function(){return Q},al:function(){return Y},kW:function(){return H},mQ:function(){return T}});var y=r(15009),g=r.n(y),G=r(99289),E=r.n(G),k=r(76772),U=r(30964);function Y(a){return I.apply(this,arguments)}function I(){return I=E()(g()().mark(function a(_){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,k.request)("/api/wms/checkOrderDetail/list",{method:"GET",params:_}));case 1:case"end":return t.stop()}},a)})),I.apply(this,arguments)}function H(a,_){return(0,U.su)("/api/wms/checkOrderDetail/export",{params:a},"checkOrderDetail_".concat(new Date().getTime(),".xlsx"))}function L(a){return request("/api/wms/checkOrderDetail/".concat(a),{method:"GET"})}function N(a){return W.apply(this,arguments)}function W(){return W=_asyncToGenerator(_regeneratorRuntime().mark(function a(_){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/wms/checkOrderDetail",{method:"POST",data:_}));case 1:case"end":return t.stop()}},a)})),W.apply(this,arguments)}function z(a){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark(function a(_){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/wms/checkOrderDetail",{method:"PUT",data:_}));case 1:case"end":return t.stop()}},a)})),P.apply(this,arguments)}function T(a){return C.apply(this,arguments)}function C(){return C=E()(g()().mark(function a(_){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,k.request)("/api/wms/checkOrderDetail/".concat(_),{method:"DELETE"}));case 1:case"end":return t.stop()}},a)})),C.apply(this,arguments)}function Q(a){return S.apply(this,arguments)}function S(){return S=E()(g()().mark(function a(_){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,k.request)("/api/wms/checkOrderDetail/list/".concat(_),{method:"GET"}));case 1:case"end":return t.stop()}},a)})),S.apply(this,arguments)}},28206:function(re,V,r){r.d(V,{fN:function(){return Y},tB:function(){return H}});var y=r(15009),g=r.n(y),G=r(99289),E=r.n(G),k=r(76772),U=r(30964);function Y(a){return I.apply(this,arguments)}function I(){return I=E()(g()().mark(function a(_){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,k.request)("/api/wms/inventoryDetail/list",{method:"GET",params:_}));case 1:case"end":return t.stop()}},a)})),I.apply(this,arguments)}function H(a){return L.apply(this,arguments)}function L(){return L=E()(g()().mark(function a(_){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,k.request)("/api/wms/inventoryDetail/listNoPage",{method:"GET",params:_}));case 1:case"end":return t.stop()}},a)})),L.apply(this,arguments)}function N(a,_){return downLoadXlsx("/api/wms/inventoryDetail/export",{params:a},"inventoryDetail_".concat(new Date().getTime(),".xlsx"))}function W(a){return request("/api/wms/inventoryDetail/".concat(a),{method:"GET"})}function z(a){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark(function a(_){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/wms/inventoryDetail",{method:"POST",data:_}));case 1:case"end":return t.stop()}},a)})),P.apply(this,arguments)}function T(a){return C.apply(this,arguments)}function C(){return C=_asyncToGenerator(_regeneratorRuntime().mark(function a(_){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/wms/inventoryDetail",{method:"PUT",data:_}));case 1:case"end":return t.stop()}},a)})),C.apply(this,arguments)}function Q(a){return S.apply(this,arguments)}function S(){return S=_asyncToGenerator(_regeneratorRuntime().mark(function a(_){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/wms/inventoryDetail/".concat(_),{method:"DELETE"}));case 1:case"end":return t.stop()}},a)})),S.apply(this,arguments)}},53531:function(re,V,r){r.d(V,{Z:function(){return _e}});var y=r(67294),g=r(56790),G=r(75164),E=r(96159),k=r(93967),U=r.n(k),Y=r(64217),I=r(53124),H=r(48054),N=m=>{const{value:f,formatter:h,precision:e,decimalSeparator:v,groupSeparator:b="",prefixCls:A}=m;let F;if(typeof h=="function")F=h(f);else{const j=String(f),x=j.match(/^(-?)(\d*)(\.(\d+))?$/);if(!x||j==="-")F=j;else{const Z=x[1];let B=x[2]||"0",R=x[4]||"";B=B.replace(/\B(?=(\d{3})+(?!\d))/g,b),typeof e=="number"&&(R=R.padEnd(e,"0").slice(0,e>0?e:0)),R&&(R=`${v}${R}`),F=[y.createElement("span",{key:"int",className:`${A}-content-value-int`},Z,B),R&&y.createElement("span",{key:"decimal",className:`${A}-content-value-decimal`},R)]}}return y.createElement("span",{className:`${A}-content-value`},F)},W=r(14747),z=r(83559),P=r(83262);const T=m=>{const{componentCls:f,marginXXS:h,padding:e,colorTextDescription:v,titleFontSize:b,colorTextHeading:A,contentFontSize:F,fontFamily:j}=m;return{[f]:Object.assign(Object.assign({},(0,W.Wf)(m)),{[`${f}-title`]:{marginBottom:h,color:v,fontSize:b},[`${f}-skeleton`]:{paddingTop:e},[`${f}-content`]:{color:A,fontSize:F,fontFamily:j,[`${f}-content-value`]:{display:"inline-block",direction:"ltr"},[`${f}-content-prefix, ${f}-content-suffix`]:{display:"inline-block"},[`${f}-content-prefix`]:{marginInlineEnd:h},[`${f}-content-suffix`]:{marginInlineStart:h}}})}},C=m=>{const{fontSizeHeading3:f,fontSize:h}=m;return{titleFontSize:h,contentFontSize:f}};var Q=(0,z.I$)("Statistic",m=>{const f=(0,P.IX)(m,{});return T(f)},C),S=function(m,f){var h={};for(var e in m)Object.prototype.hasOwnProperty.call(m,e)&&f.indexOf(e)<0&&(h[e]=m[e]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,e=Object.getOwnPropertySymbols(m);v<e.length;v++)f.indexOf(e[v])<0&&Object.prototype.propertyIsEnumerable.call(m,e[v])&&(h[e[v]]=m[e[v]]);return h},_=y.forwardRef((m,f)=>{const{prefixCls:h,className:e,rootClassName:v,style:b,valueStyle:A,value:F=0,title:j,valueRender:x,prefix:Z,suffix:B,loading:R=!1,formatter:M,precision:$,decimalSeparator:X=".",groupSeparator:me=",",onMouseEnter:D,onMouseLeave:Ie}=m,De=S(m,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:se,direction:ie,className:ee,style:fe}=(0,I.dj)("statistic"),K=se("statistic",h),[te,ue,pe]=Q(K),ne=y.createElement(N,{decimalSeparator:X,groupSeparator:me,prefixCls:K,formatter:M,precision:$,value:F}),he=U()(K,{[`${K}-rtl`]:ie==="rtl"},ee,e,v,ue,pe),ve=y.useRef(null);y.useImperativeHandle(f,()=>({nativeElement:ve.current}));const Ee=(0,Y.Z)(De,{aria:!0,data:!0});return te(y.createElement("div",Object.assign({},Ee,{ref:ve,className:he,style:Object.assign(Object.assign({},fe),b),onMouseEnter:D,onMouseLeave:Ie}),j&&y.createElement("div",{className:`${K}-title`},j),y.createElement(H.Z,{paragraph:!1,loading:R,className:`${K}-skeleton`},y.createElement("div",{style:A,className:`${K}-content`},Z&&y.createElement("span",{className:`${K}-content-prefix`},Z),x?x(ne):ne,B&&y.createElement("span",{className:`${K}-content-suffix`},B)))))});const O=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function t(m,f){let h=m;const e=/\[[^\]]*]/g,v=(f.match(e)||[]).map(j=>j.slice(1,-1)),b=f.replace(e,"[]"),A=O.reduce((j,[x,Z])=>{if(j.includes(x)){const B=Math.floor(h/Z);return h-=B*Z,j.replace(new RegExp(`${x}+`,"g"),R=>{const M=R.length;return B.toString().padStart(M,"0")})}return j},b);let F=0;return A.replace(e,()=>{const j=v[F];return F+=1,j})}function oe(m,f,h){const{format:e=""}=f,v=new Date(m).getTime(),b=Date.now(),A=Math.max(h?v-b:b-v,0);return t(A,e)}var J=function(m,f){var h={};for(var e in m)Object.prototype.hasOwnProperty.call(m,e)&&f.indexOf(e)<0&&(h[e]=m[e]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,e=Object.getOwnPropertySymbols(m);v<e.length;v++)f.indexOf(e[v])<0&&Object.prototype.propertyIsEnumerable.call(m,e[v])&&(h[e[v]]=m[e[v]]);return h};function de(m){return new Date(m).getTime()}var ae=m=>{const{value:f,format:h="HH:mm:ss",onChange:e,onFinish:v,type:b}=m,A=J(m,["value","format","onChange","onFinish","type"]),F=b==="countdown",[j,x]=y.useState(null),Z=(0,g.zX)(()=>{const M=Date.now(),$=de(f);x({});const X=F?$-M:M-$;return e==null||e(X),F&&$<M?(v==null||v(),!1):!0});y.useEffect(()=>{let M;const $=()=>G.Z.cancel(M),X=()=>{M=(0,G.Z)(()=>{Z()&&X()})};return X(),$},[f,F]),y.useEffect(()=>{x({})},[]);const B=(M,$)=>j?oe(M,Object.assign(Object.assign({},$),{format:h}),F):"-",R=M=>(0,E.Tm)(M,{title:void 0});return y.createElement(_,Object.assign({},A,{value:f,valueRender:R,formatter:B}))};const ce=m=>y.createElement(ae,Object.assign({},m,{type:"countdown"}));var q=y.memo(ce);_.Timer=ae,_.Countdown=q;var _e=_}}]);
