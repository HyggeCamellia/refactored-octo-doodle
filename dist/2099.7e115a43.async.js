"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[2099],{72099:function(te,K,e){e.r(K);var V=e(19632),p=e.n(V),w=e(15009),_=e.n(w),C=e(97857),j=e.n(C),N=e(99289),v=e.n(N),W=e(5574),B=e.n(W),U=e(67294),I=e(76772),k=e(25278),O=e(77569),$=e(17788),f=e(2453),T=e(4393),A=e(71230),n=e(15746),d=e(34041),b=e(78045),t=e(13457),a=e(83622),De=e(72269),ce=e(55241),Z=e(96154),he=e(53531),pe=e(24969),le=e(48689),Y=e(96069),fe=e(96875),ve=e(78351),Ee=e(67768),r=e(85893),re=k.Z.TextArea,Oe=function(se){var Q=se.id,ne=se.onCancel,H=(0,I.useModel)("wms"),Ce=H.warehouseList,z=H.areaList,je=H.merchantList,de=H.itemBrandMap,ye=O.Z.useForm(),Ie=B()(ye,1),l=Ie[0],Fe=(0,U.useRef)(),X=(0,U.useRef)(),Pe=(0,U.useState)(!1),oe=B()(Pe,2),Me=oe[0],J=oe[1],be=(0,U.useState)(!1),ae=B()(be,2),y=ae[0],g=ae[1],m=(0,U.useState)(!1),P=B()(m,2),R=P[0],S=P[1],G=(0,U.useState)([]),q=B()(G,2),_e=q[0],L=q[1],ue=(0,U.useState)([]),ee=B()(ue,2),ie=ee[0],Ne=ee[1];(0,U.useEffect)(function(){Q?xe(Q):l.setFieldsValue({shipmentOrderNo:"CK".concat((0,Ee.v)()),shipmentOrderType:"2",shipmentOrderStatus:0,totalQuantity:0,details:[]})},[Q]);var xe=function(){var s=v()(_()().mark(function o(u){var i,c,E;return _()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return J(!0),F.prev=1,F.next=4,(0,Y.kl)(u);case 4:c=F.sent,E=c.data,(i=E.details)!==null&&i!==void 0&&i.length&&(E.details=E.details.map(function(h){var D;return j()(j()({},h),{},{areaName:(D=z.find(function(x){return x.id===h.areaId}))===null||D===void 0?void 0:D.areaName,itemSku:j()(j()({},h.itemSku),{},{item:h.itemSku.item}),remainQuantity:h.quantity})}),L(E.details.map(function(h){return{id:h.inventoryDetailId,areaId:h.areaId}}))),l.setFieldsValue(E);case 8:return F.prev=8,J(!1),F.finish(8);case 11:case"end":return F.stop()}},o,null,[[1,,8,11]])}));return function(u){return s.apply(this,arguments)}}(),Re=function(o){l.setFieldsValue({areaId:void 0,details:[]}),L([])},Se=function(o){l.setFieldsValue({details:l.getFieldValue("details").filter(function(u){return u.areaId===o})}),L(_e.filter(function(u){return u.areaId===o}))},Te=function(){var o=l.getFieldValue("details")||[],u=0;o.forEach(function(i){i.quantity&&(u+=Number(i.quantity))}),l.setFieldsValue({totalQuantity:u})},we=function(){var s=v()(_()().mark(function o(u,i){var c;return _()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:u.id?$.Z.confirm({title:"\u786E\u8BA4\u5220\u9664\u672C\u6761\u5546\u54C1\u660E\u7EC6\u5417\uFF1F",content:"\u5982\u786E\u8BA4\u4F1A\u7ACB\u5373\u6267\u884C\uFF01",onOk:function(){var F=v()(_()().mark(function D(){var x;return _()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return me.next=2,(0,fe.xr)(u.id);case 2:x=l.getFieldValue("details"),x.splice(i,1),l.setFieldsValue({details:x}),f.ZP.success("\u5220\u9664\u6210\u529F"),Te();case 7:case"end":return me.stop()}},D)}));function h(){return F.apply(this,arguments)}return h}()}):(c=l.getFieldValue("details"),c.splice(i,1),l.setFieldsValue({details:c}),L(_e.filter(function(F){return F.id!==u.inventoryDetailId})),Te());case 1:case"end":return M.stop()}},o)}));return function(u,i){return s.apply(this,arguments)}}(),Be=function(){var o;if(!l.getFieldValue("warehouseId")){f.ZP.warning("\u8BF7\u5148\u9009\u62E9\u4ED3\u5E93\uFF01");return}(o=X.current)===null||o===void 0||o.getList(),S(!0)},Ze=function(o){S(!1),L(p()(o));var u=l.getFieldValue("details")||[],i=o.filter(function(c){return!u.find(function(E){return E.inventoryDetailId===c.id})}).map(function(c){var E;return{itemSku:j()(j()({},c.itemSku),{},{item:c.item}),skuId:c.skuId,amount:void 0,quantity:void 0,remainQuantity:c.remainQuantity,batchNo:c.batchNo,productionDate:c.productionDate,expirationDate:c.expirationDate,warehouseId:l.getFieldValue("warehouseId"),areaId:l.getFieldValue("areaId")||c.areaId,inventoryDetailId:c.id,areaName:(E=z.find(function(M){return M.id===(l.getFieldValue("areaId")||c.areaId)}))===null||E===void 0?void 0:E.areaName}});l.setFieldsValue({details:[].concat(p()(u),p()(i))})},Ae=function(){var s=v()(_()().mark(function o(){var u,i,c,E,M=arguments;return _()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return u=M.length>0&&M[0]!==void 0?M[0]:0,h.prev=1,h.next=4,l.validateFields();case 4:if(i=l.getFieldsValue(),c=(i.details||[]).map(function(D){return{id:D.id,shipmentOrderId:i.id,skuId:D.skuId,amount:D.amount,quantity:D.quantity,batchNo:D.batchNo,productionDate:D.productionDate,expirationDate:D.expirationDate,inventoryDetailId:D.inventoryDetailId,warehouseId:i.warehouseId,areaId:D.areaId}}),E=j()(j()({},i),{},{shipmentOrderStatus:u,details:c}),!i.id){h.next=12;break}return h.next=10,(0,Y.yT)(E);case 10:h.next=14;break;case 12:return h.next=14,(0,Y.Z9)(E);case 14:f.ZP.success("\u64CD\u4F5C\u6210\u529F"),ne(),h.next=22;break;case 18:h.prev=18,h.t0=h.catch(1),console.error("Save error:",h.t0),f.ZP.error("\u8BF7\u586B\u5199\u5B8C\u6574\u4FE1\u606F");case 22:case"end":return h.stop()}},o,null,[[1,18]])}));return function(){return s.apply(this,arguments)}}(),Le=function(){var s=v()(_()().mark(function o(){var u,i,c,E,M,F;return _()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.prev=0,D.next=3,l.validateFields();case 3:if(i=l.getFieldsValue(),(u=i.details)!==null&&u!==void 0&&u.length){D.next=7;break}return f.ZP.error("\u8BF7\u9009\u62E9\u5546\u54C1"),D.abrupt("return");case 7:if(c=i.details.filter(function(x){return!x.quantity}),!(c!=null&&c.length)){D.next=11;break}return f.ZP.error("\u8BF7\u9009\u62E9\u51FA\u5E93\u6570\u91CF"),D.abrupt("return");case 11:return E=(i.details||[]).map(function(x){return{id:x.id,shipmentOrderId:i.id,skuId:x.skuId,amount:x.amount,quantity:x.quantity,batchNo:x.batchNo,productionDate:x.productionDate,expirationDate:x.expirationDate,inventoryDetailId:x.inventoryDetailId,warehouseId:i.warehouseId,areaId:x.areaId}}),M=j()(j()({},i),{},{details:E}),J(!0),D.next=16,(0,Y.qc)(M);case 16:F=D.sent,F.code===200?(f.ZP.success("\u51FA\u5E93\u6210\u529F"),ne()):f.ZP.error(F.msg),D.next=24;break;case 20:D.prev=20,D.t0=D.catch(0),console.error("Shipment error:",D.t0),f.ZP.error("\u51FA\u5E93\u5931\u8D25");case 24:return D.prev=24,J(!1),D.finish(24);case 27:case"end":return D.stop()}},o,null,[[0,20,24,27]])}));return function(){return s.apply(this,arguments)}}(),We=function(){var s=v()(_()().mark(function o(){return _()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:$.Z.confirm({title:"\u786E\u8BA4\u4F5C\u5E9F\u51FA\u5E93\u5355\u5417\uFF1F",onOk:function(){var c=v()(_()().mark(function M(){return _()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,Ae(-1);case 2:case"end":return h.stop()}},M)}));function E(){return c.apply(this,arguments)}return E}()});case 1:case"end":return i.stop()}},o)}));return function(){return s.apply(this,arguments)}}(),Ue=function(){var o=l.getFieldValue("details")||[],u=0;o.forEach(function(i){i.amount&&(u+=Number(i.amount))}),l.setFieldsValue({receivableAmount:u})},Ke=function(){return $.Z.info({title:"\u7CFB\u7EDF\u63D0\u793A",content:"\u4E00\u7269\u4E00\u7801/SN\u6A21\u5F0F\u8BF7\u53BBSaas\u7248\u672C\u4F53\u9A8C\uFF01"}),!1};return(0,r.jsxs)(T.Z,{loading:Me,children:[(0,r.jsx)(T.Z,{title:"\u51FA\u5E93\u5355\u57FA\u672C\u4FE1\u606F",children:(0,r.jsxs)(O.Z,{form:l,labelCol:{span:6},wrapperCol:{span:18},children:[(0,r.jsxs)(A.Z,{gutter:24,children:[(0,r.jsx)(n.Z,{span:11,children:(0,r.jsx)(O.Z.Item,{label:"\u51FA\u5E93\u5355\u53F7",name:"shipmentOrderNo",rules:[{required:!0,message:"\u51FA\u5E93\u5355\u53F7\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,r.jsx)(k.Z,{disabled:!!l.getFieldValue("id"),style:{width:"100%"},placeholder:"\u51FA\u5E93\u5355\u53F7"})})}),(0,r.jsx)(n.Z,{span:6,children:(0,r.jsx)(O.Z.Item,{label:"\u4ED3\u5E93",name:"warehouseId",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4ED3\u5E93"}],children:(0,r.jsx)(d.Z,{placeholder:"\u8BF7\u9009\u62E9\u4ED3\u5E93",options:Ce.map(function(s){return{value:s.id,label:s.warehouseName}}),onChange:Re,style:{width:"100%"},filterable:!0})})}),(0,r.jsx)(n.Z,{span:6,children:(0,r.jsx)(O.Z.Item,{label:"\u5E93\u533A",name:"areaId",children:(0,r.jsx)(d.Z,{placeholder:"\u8BF7\u9009\u62E9\u5E93\u533A",options:z.filter(function(s){return s.warehouseId===l.getFieldValue("warehouseId")}).map(function(s){return{value:s.id,label:s.areaName}}),onChange:Se,disabled:!l.getFieldValue("warehouseId"),style:{width:"100%"},filterable:!0,allowClear:!0})})})]}),(0,r.jsxs)(A.Z,{gutter:24,children:[(0,r.jsx)(n.Z,{span:11,children:(0,r.jsx)(O.Z.Item,{label:"\u51FA\u5E93\u7C7B\u578B",name:"shipmentOrderType",rules:[{required:!0,message:"\u51FA\u5E93\u7C7B\u578B\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,r.jsx)(b.ZP.Group,{children:ie.map(function(s){return(0,r.jsx)(b.ZP.Button,{value:s.value,children:s.label},s.value)})})})}),(0,r.jsx)(n.Z,{span:6,children:(0,r.jsx)(O.Z.Item,{label:"\u5BA2\u6237",name:"merchantId",children:(0,r.jsx)(d.Z,{placeholder:"\u8BF7\u9009\u62E9\u5BA2\u6237",options:je.map(function(s){return{value:s.id,label:s.merchantName}}),style:{width:"100%"},filterable:!0,allowClear:!0})})}),(0,r.jsx)(n.Z,{span:6,children:(0,r.jsx)(O.Z.Item,{label:"\u8BA2\u5355\u53F7",name:"orderNo",children:(0,r.jsx)(k.Z,{placeholder:"\u8BF7\u8F93\u5165\u8BA2\u5355\u53F7",style:{width:"100%"}})})})]}),(0,r.jsxs)(A.Z,{gutter:24,children:[(0,r.jsx)(n.Z,{span:11,children:(0,r.jsx)(O.Z.Item,{label:"\u5907\u6CE8",name:"remark",children:(0,r.jsx)(re,{placeholder:"\u5907\u6CE8...100\u4E2A\u5B57\u7B26\u4EE5\u5185",rows:4,maxLength:100,style:{width:"100%"},showCount:!0})})}),(0,r.jsx)(n.Z,{span:6,children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[(0,r.jsx)(O.Z.Item,{label:"\u91D1\u989D",name:"receivableAmount",style:{marginBottom:0},children:(0,r.jsx)(t.Z,{precision:2,min:0,style:{width:"100%"}})}),(0,r.jsx)(a.ZP,{type:"link",onClick:Ue,style:{marginLeft:20,lineHeight:"32px"},children:"\u81EA\u52A8\u8BA1\u7B97"})]})}),(0,r.jsx)(n.Z,{span:6,children:(0,r.jsx)(O.Z.Item,{label:"\u6570\u91CF",name:"totalQuantity",children:(0,r.jsx)(t.Z,{precision:0,disabled:!0,style:{width:"100%"},controls:!1})})})]})]})}),(0,r.jsxs)(T.Z,{title:"\u5546\u54C1\u660E\u7EC6",style:{marginTop:16},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:16},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:"\u4E00\u7269\u4E00\u7801/SN\u6A21\u5F0F\uFF1A"}),(0,r.jsx)(De.Z,{checkedChildren:"\u5F00\u542F",unCheckedChildren:"\u5173\u95ED",checked:y,onChange:g,beforeChange:Ke})]}),(0,r.jsx)(ce.Z,{content:"\u8BF7\u5148\u9009\u62E9\u4ED3\u5E93\uFF01",disabled:!!l.getFieldValue("warehouseId"),children:(0,r.jsx)(a.ZP,{type:"primary",icon:(0,r.jsx)(pe.Z,{}),onClick:Be,disabled:!l.getFieldValue("warehouseId"),children:"\u6DFB\u52A0\u5546\u54C1"})})]}),(0,r.jsxs)(Z.Z,{dataSource:l.getFieldValue("details"),rowKey:"id",bordered:!0,pagination:!1,locale:{emptyText:"\u6682\u65E0\u5546\u54C1\u660E\u7EC6"},children:[(0,r.jsx)(Z.Z.Column,{title:"\u5546\u54C1\u4FE1\u606F",render:function(o,u){var i;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:[u.itemSku.item.itemName,u.itemSku.item.itemCode&&"(".concat(u.itemSku.item.itemCode,")")]}),u.itemSku.item.itemBrand&&(0,r.jsxs)("div",{children:["\u54C1\u724C\uFF1A",(i=de.get(u.itemSku.item.itemBrand))===null||i===void 0?void 0:i.brandName]})]})}}),(0,r.jsx)(Z.Z.Column,{title:"\u89C4\u683C\u4FE1\u606F",render:function(o,u){return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:u.itemSku.skuName}),u.itemSku.barcode&&(0,r.jsxs)("div",{children:["\u6761\u7801\uFF1A",u.itemSku.barcode]})]})}}),(0,r.jsx)(Z.Z.Column,{title:"\u5E93\u533A",dataIndex:"areaName",width:200}),(0,r.jsx)(Z.Z.Column,{title:"\u6279\u53F7",dataIndex:"batchNo"}),(0,r.jsx)(Z.Z.Column,{title:"\u751F\u4EA7\u65E5\u671F",render:function(o,u){return u.productionDate?u.productionDate.substring(0,10):null}}),(0,r.jsx)(Z.Z.Column,{title:"\u8FC7\u671F\u65E5\u671F",render:function(o,u){return u.expirationDate?u.expirationDate.substring(0,10):null}}),(0,r.jsx)(Z.Z.Column,{title:"\u5269\u4F59\u5E93\u5B58",align:"right",width:150,render:function(o,u){return(0,r.jsx)(he.Z,{value:Number(u.remainQuantity),precision:0})}}),(0,r.jsx)(Z.Z.Column,{title:"\u51FA\u5E93\u6570\u91CF",width:180,render:function(o,u,i){return(0,r.jsx)(t.Z,{value:u.quantity,onChange:function(E){var M=l.getFieldValue("details");M[i].quantity=E,l.setFieldsValue({details:M}),Te()},min:1,max:u.remainQuantity,precision:0})}}),(0,r.jsx)(Z.Z.Column,{title:"\u4EF7\u683C",width:180,render:function(o,u,i){return(0,r.jsx)(t.Z,{value:u.amount,onChange:function(E){var M=l.getFieldValue("details");M[i].amount=E,l.setFieldsValue({details:M})},min:0,precision:2})}}),(0,r.jsx)(Z.Z.Column,{title:"\u64CD\u4F5C",width:100,align:"right",render:function(o,u,i){return(0,r.jsx)(a.ZP,{icon:(0,r.jsx)(le.Z,{}),type:"link",danger:!0,onClick:function(){return we(u,i)},children:"\u5220\u9664"})}})]})]}),(0,r.jsx)(ve.default,{ref:X,open:R,onCancel:function(){return S(!1)},onOk:Ze,width:"90%",selectWarehouseDisable:!1,selectAreaDisable:!!l.getFieldValue("areaId"),warehouseId:l.getFieldValue("warehouseId"),areaId:l.getFieldValue("areaId"),selectedInventory:_e}),(0,r.jsxs)("div",{style:{position:"fixed",bottom:0,right:0,width:"calc(100% - 200px)",padding:"16px",background:"#fff",borderTop:"1px solid #f0f0f0",display:"flex",justifyContent:"space-between"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(a.ZP,{type:"primary",onClick:Le,children:"\u5B8C\u6210\u51FA\u5E93"}),l.getFieldValue("id")&&(0,r.jsx)(a.ZP,{danger:!0,onClick:We,style:{marginLeft:16},children:"\u4F5C\u5E9F"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(a.ZP,{type:"primary",onClick:function(){return Ae()},children:"\u6682\u5B58"}),(0,r.jsx)(a.ZP,{onClick:function(){return ne()},style:{marginLeft:16},children:"\u53D6\u6D88"})]})]})]})};K.default=Oe},78351:function(te,K,e){e.r(K);var V=e(15009),p=e.n(V),w=e(97857),_=e.n(w),C=e(99289),j=e.n(C),N=e(5574),v=e.n(N),W=e(67294),B=e(76772),U=e(29021),I=e(77569),k=e(53531),O=e(85265),$=e(83622),f=e(25278),T=e(34041),A=e(48296),n=e(65385),d=e(28206),b=e(27484),t=e.n(b),a=e(85893),De=U.default.RangePicker,ce=(0,W.forwardRef)(function(Z,he){var pe=Z.open,le=Z.onCancel,Y=Z.selectedInventory,fe=Y===void 0?[]:Y,ve=I.Z.useForm(),Ee=v()(ve,1),r=Ee[0],re=(0,W.useRef)(),Oe=(0,W.useState)([]),ge=v()(Oe,2),se=ge[0],Q=ge[1],ne=(0,W.useState)(!1),H=v()(ne,2),Ce=H[0],z=H[1],je=(0,W.useState)(!1),de=v()(je,2),ye=de[0],Ie=de[1],l=(0,B.useModel)("wms"),Fe=l.warehouseMap,X=l.areaMap,Pe=l.itemBrandMap;(0,W.useImperativeHandle)(he,function(){return{setWarehouseIdAndAreaId:oe,getList:function(){var g;(g=re.current)===null||g===void 0||g.reload()}}});var oe=function(g,m){r.setFieldsValue({warehouseId:g,areaId:m}),Ie(!!m)},Me=function(g){return!fe.some(function(m){return m.id===g.id})},J=[{title:"\u5E93\u533A",dataIndex:"areaName",render:function(g,m){var P;return(P=X.get(m.areaId))===null||P===void 0?void 0:P.areaName}},{title:"\u5546\u54C1\u4FE1\u606F",render:function(g,m){var P,R,S,G;return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(P=m.item)===null||P===void 0?void 0:P.itemName}),((R=m.item)===null||R===void 0?void 0:R.itemCode)&&(0,a.jsxs)("div",{children:["\u7F16\u53F7\uFF1A",m.item.itemCode]}),((S=m.item)===null||S===void 0?void 0:S.itemBrand)&&(0,a.jsxs)("div",{children:["\u54C1\u724C\uFF1A",(G=Pe.get(m.item.itemBrand))===null||G===void 0?void 0:G.brandName]})]})}},{title:"\u89C4\u683C\u4FE1\u606F",render:function(g,m){var P,R,S;return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(P=m.itemSku)===null||P===void 0?void 0:P.skuName}),((R=m.itemSku)===null||R===void 0?void 0:R.skuCode)&&(0,a.jsxs)("div",{children:["\u7F16\u53F7\uFF1A",m.itemSku.skuCode]}),((S=m.itemSku)===null||S===void 0?void 0:S.barcode)&&(0,a.jsxs)("div",{children:["\u6761\u7801\uFF1A",m.itemSku.barcode]})]})}},{title:"\u6279\u53F7",dataIndex:"batchNo",align:"left"},{title:"\u751F\u4EA7\u65E5\u671F/\u8FC7\u671F\u65E5\u671F",align:"left",width:180,render:function(g,m){return(0,a.jsxs)("div",{children:[m.productionDate&&(0,a.jsxs)("div",{children:["\u751F\u4EA7\u65E5\u671F\uFF1A",t()(m.productionDate).format("YYYY-MM-DD")]}),m.expirationDate&&(0,a.jsxs)("div",{children:["\u8FC7\u671F\u65E5\u671F\uFF1A",t()(m.expirationDate).format("YYYY-MM-DD")]})]})}},{title:"\u5165\u5E93\u65E5\u671F",align:"left",width:140,render:function(g,m){return(0,a.jsx)("div",{children:t()(m.createTime).format("YYYY-MM-DD")})}},{title:"\u5269\u4F59\u5E93\u5B58",align:"right",render:function(g,m){return(0,a.jsx)(k.Z,{value:Number(m.remainQuantity),precision:0})}}],be=function(){le(),Q([])},ae=function(){le(),Q([])};return(0,a.jsxs)(O.Z,{title:"\u9009\u62E9\u5E93\u5B58",width:1200,open:pe,onClose:ae,destroyOnClose:!0,footer:(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[(0,a.jsx)($.ZP,{onClick:ae,style:{marginRight:8},children:"\u53D6\u6D88"}),(0,a.jsx)($.ZP,{type:"primary",onClick:be,children:"\u786E\u8BA4"})]}),children:[(0,a.jsxs)(I.Z,{form:r,layout:"inline",labelAlign:"left",children:[(0,a.jsx)(I.Z.Item,{label:"\u5546\u54C1\u540D\u79F0",name:"itemName",children:(0,a.jsx)(f.Z,{placeholder:"\u5546\u54C1\u540D\u79F0",allowClear:!0})}),(0,a.jsx)(I.Z.Item,{label:"\u5546\u54C1\u7F16\u53F7",name:"itemCode",children:(0,a.jsx)(f.Z,{placeholder:"\u5546\u54C1\u7F16\u53F7",allowClear:!0,style:{width:180}})}),(0,a.jsx)(I.Z.Item,{label:"\u5E93\u533A",name:"areaId",children:(0,a.jsx)(T.Z,{placeholder:"\u8BF7\u9009\u62E9\u5E93\u533A",disabled:ye,allowClear:!0,style:{width:180},children:Array.from(X.values()).map(function(y){return(0,a.jsx)(T.Z.Option,{value:y.id,children:y.areaName},y.id)})})}),(0,a.jsx)(I.Z.Item,{label:"\u89C4\u683C\u540D\u79F0",name:"skuName",children:(0,a.jsx)(f.Z,{placeholder:"\u89C4\u683C\u540D\u79F0",allowClear:!0,style:{width:180}})}),(0,a.jsx)(I.Z.Item,{label:"\u89C4\u683C\u7F16\u53F7",name:"barcode",children:(0,a.jsx)(f.Z,{placeholder:"\u89C4\u683C\u7F16\u53F7",allowClear:!0,style:{width:180}})}),(0,a.jsx)(I.Z.Item,{label:"\u6279\u53F7",name:"batchNo",children:(0,a.jsx)(f.Z,{placeholder:"\u6279\u53F7",allowClear:!0,style:{width:180}})}),(0,a.jsx)(I.Z.Item,{label:"\u5165\u5E93\u65E5\u671F",name:"createTimeRange",children:(0,a.jsx)(De,{format:"YYYY-MM-DD",placeholder:["\u5F00\u59CB\u65E5\u671F","\u7ED3\u675F\u65E5\u671F"]})}),(0,a.jsx)(I.Z.Item,{label:"\u591A\u5C11\u5929\u5185\u8FC7\u671F",name:"daysToExpires",children:(0,a.jsxs)(T.Z,{placeholder:"\u8BF7\u9009\u62E9",allowClear:!0,style:{width:120},children:[(0,a.jsx)(T.Z.Option,{value:30,children:"30\u5929\u5185"}),(0,a.jsx)(T.Z.Option,{value:60,children:"60\u5929\u5185"}),(0,a.jsx)(T.Z.Option,{value:90,children:"90\u5929\u5185"}),(0,a.jsx)(T.Z.Option,{value:120,children:"120\u5929\u5185"}),(0,a.jsx)(T.Z.Option,{value:180,children:"180\u5929\u5185"}),(0,a.jsx)(T.Z.Option,{value:365,children:"365\u5929\u5185"})]})}),(0,a.jsx)(I.Z.Item,{children:(0,a.jsx)($.ZP,{type:"primary",icon:(0,a.jsx)(A.Z,{}),onClick:function(){var g;return(g=re.current)===null||g===void 0?void 0:g.reload()},children:"\u67E5\u8BE2"})})]}),(0,a.jsx)(n.Z,{style:{marginTop:16},actionRef:re,rowKey:"id",search:!1,options:!1,request:function(){var y=j()(p()().mark(function g(m){var P,R,S,G,q;return p()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return z(!0),L.prev=1,S=r.getFieldsValue(),G=_()(_()({},S),{},{createStartTime:(P=S.createTimeRange)===null||P===void 0||(P=P[0])===null||P===void 0?void 0:P.format("YYYY-MM-DD HH:mm:ss"),createEndTime:(R=S.createTimeRange)===null||R===void 0||(R=R[1])===null||R===void 0?void 0:R.format("YYYY-MM-DD HH:mm:ss"),pageNum:m.current,pageSize:m.pageSize}),L.next=6,(0,d.fN)(G);case 6:return q=L.sent,L.abrupt("return",{data:q.rows.map(function(ue){var ee,ie;return _()(_()({},ue),{},{warehouseName:(ee=Fe.get(ue.warehouseId))===null||ee===void 0?void 0:ee.warehouseName,areaName:(ie=X.get(ue.areaId))===null||ie===void 0?void 0:ie.areaName})}),total:q.total,success:!0});case 8:return L.prev=8,z(!1),L.finish(8);case 11:case"end":return L.stop()}},g,null,[[1,,8,11]])}));return function(g){return y.apply(this,arguments)}}(),columns:J,rowSelection:{selectedRowKeys:se.map(function(y){return y.id}),onChange:function(g,m){return Q(m)},getCheckboxProps:function(g){return{disabled:!Me(g)}}},loading:Ce,pagination:{showSizeChanger:!0}})]})});K.default=ce},28206:function(te,K,e){e.d(K,{fN:function(){return N},tB:function(){return W}});var V=e(15009),p=e.n(V),w=e(99289),_=e.n(w),C=e(76772),j=e(30964);function N(n){return v.apply(this,arguments)}function v(){return v=_()(p()().mark(function n(d){return p()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/wms/inventoryDetail/list",{method:"GET",params:d}));case 1:case"end":return t.stop()}},n)})),v.apply(this,arguments)}function W(n){return B.apply(this,arguments)}function B(){return B=_()(p()().mark(function n(d){return p()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/wms/inventoryDetail/listNoPage",{method:"GET",params:d}));case 1:case"end":return t.stop()}},n)})),B.apply(this,arguments)}function U(n,d){return downLoadXlsx("/api/wms/inventoryDetail/export",{params:n},"inventoryDetail_".concat(new Date().getTime(),".xlsx"))}function I(n){return request("/api/wms/inventoryDetail/".concat(n),{method:"GET"})}function k(n){return O.apply(this,arguments)}function O(){return O=_asyncToGenerator(_regeneratorRuntime().mark(function n(d){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/wms/inventoryDetail",{method:"POST",data:d}));case 1:case"end":return t.stop()}},n)})),O.apply(this,arguments)}function $(n){return f.apply(this,arguments)}function f(){return f=_asyncToGenerator(_regeneratorRuntime().mark(function n(d){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/wms/inventoryDetail",{method:"PUT",data:d}));case 1:case"end":return t.stop()}},n)})),f.apply(this,arguments)}function T(n){return A.apply(this,arguments)}function A(){return A=_asyncToGenerator(_regeneratorRuntime().mark(function n(d){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/wms/inventoryDetail/".concat(d),{method:"DELETE"}));case 1:case"end":return t.stop()}},n)})),A.apply(this,arguments)}},96069:function(te,K,e){e.d(K,{C6:function(){return T},Z9:function(){return U},kl:function(){return B},qc:function(){return $},r:function(){return N},yT:function(){return k}});var V=e(15009),p=e.n(V),w=e(99289),_=e.n(w),C=e(76772),j=e(30964);function N(n){return v.apply(this,arguments)}function v(){return v=_()(p()().mark(function n(d){return p()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/wms/shipmentOrder/list",{method:"GET",params:d}));case 1:case"end":return t.stop()}},n)})),v.apply(this,arguments)}function W(n,d){return downLoadXlsx("/api/wms/shipmentOrder/export",{params:n},"shipmentOrder_".concat(new Date().getTime(),".xlsx"))}function B(n){return(0,C.request)("/api/wms/shipmentOrder/".concat(n),{method:"GET"})}function U(n){return I.apply(this,arguments)}function I(){return I=_()(p()().mark(function n(d){return p()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/wms/shipmentOrder",{method:"POST",data:d}));case 1:case"end":return t.stop()}},n)})),I.apply(this,arguments)}function k(n){return O.apply(this,arguments)}function O(){return O=_()(p()().mark(function n(d){return p()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/wms/shipmentOrder",{method:"PUT",data:d}));case 1:case"end":return t.stop()}},n)})),O.apply(this,arguments)}function $(n){return f.apply(this,arguments)}function f(){return f=_()(p()().mark(function n(d){return p()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/wms/shipmentOrder/shipment",{method:"PUT",data:d}));case 1:case"end":return t.stop()}},n)})),f.apply(this,arguments)}function T(n){return A.apply(this,arguments)}function A(){return A=_()(p()().mark(function n(d){return p()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/wms/shipmentOrder/".concat(d),{method:"DELETE"}));case 1:case"end":return t.stop()}},n)})),A.apply(this,arguments)}},96875:function(te,K,e){e.d(K,{RN:function(){return T},xr:function(){return $}});var V=e(15009),p=e.n(V),w=e(99289),_=e.n(w),C=e(76772),j=e(30964);function N(n){return v.apply(this,arguments)}function v(){return v=_asyncToGenerator(_regeneratorRuntime().mark(function n(d){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/wms/shipmentOrderDetail/list",{method:"GET",params:d}));case 1:case"end":return t.stop()}},n)})),v.apply(this,arguments)}function W(n,d){return downLoadXlsx("/api/wms/shipmentOrderDetail/export",{params:n},"shipmentOrderDetail_".concat(new Date().getTime(),".xlsx"))}function B(n){return request("/api/wms/shipmentOrderDetail/".concat(n),{method:"GET"})}function U(n){return I.apply(this,arguments)}function I(){return I=_asyncToGenerator(_regeneratorRuntime().mark(function n(d){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/wms/shipmentOrderDetail",{method:"POST",data:d}));case 1:case"end":return t.stop()}},n)})),I.apply(this,arguments)}function k(n){return O.apply(this,arguments)}function O(){return O=_asyncToGenerator(_regeneratorRuntime().mark(function n(d){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/wms/shipmentOrderDetail",{method:"PUT",data:d}));case 1:case"end":return t.stop()}},n)})),O.apply(this,arguments)}function $(n){return f.apply(this,arguments)}function f(){return f=_()(p()().mark(function n(d){return p()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/wms/shipmentOrderDetail/".concat(d),{method:"DELETE"}));case 1:case"end":return t.stop()}},n)})),f.apply(this,arguments)}function T(n){return A.apply(this,arguments)}function A(){return A=_()(p()().mark(function n(d){return p()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/wms/shipmentOrderDetail/list/".concat(d),{method:"GET"}));case 1:case"end":return t.stop()}},n)})),A.apply(this,arguments)}},67768:function(te,K,e){e.d(K,{f:function(){return V},v:function(){return p}});function V(w,_){var C,j;try{C=w.toString().split(".")[1].length}catch(W){C=0}try{j=_.toString().split(".")[1].length}catch(W){j=0}var N=Math.pow(10,Math.max(C,j)),v=C>=j?C:j;return Number(((w*N-_*N)/N).toFixed(v))}function p(){var w=new Date,_=String(w.getMonth()+1).padStart(2,"0"),C=String(w.getDate()).padStart(2,"0"),j=Math.floor(Math.random()*1e4);return _+C+String(j).padStart(4,"0")}}}]);
