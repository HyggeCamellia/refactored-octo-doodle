"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8760],{78760:function(se,Z,e){e.r(Z);var U=e(19632),h=e.n(U),N=e(15009),v=e.n(N),T=e(97857),A=e.n(T),k=e(99289),O=e.n(k),S=e(5574),B=e.n(S),W=e(67294),y=e(76772),Y=e(25278),I=e(77569),w=e(17788),f=e(2453),g=e(34041),F=e(53531),a=e(13457),m=e(83622),b=e(4393),r=e(71230),u=e(15746),he=e(72269),pe=e(55241),q=e(96154),fe=e(48689),Ee=e(24969),oe=e(6110),G=e(83688),ge=e(91022),Oe=e(78351),t=e(85893),ee=Y.Z.TextArea,re=function(te){var Q=te.id,z=te.onCancel,ae=(0,y.useModel)("wms"),ne=ae.warehouseMap,$=ae.areaMap,de=ae.itemBrandMap,Ie=I.Z.useForm(),_e=B()(Ie,1),s=_e[0],be=(0,W.useRef)(),X=(0,W.useRef)(),Me=(0,W.useState)(!1),J=B()(Me,2),me=J[0],De=J[1],ye=(0,W.useState)(!1),ce=B()(ye,2),Ce=ce[0],je=ce[1],M=(0,W.useState)(!1),E=B()(M,2),c=E[0],C=E[1],x=(0,W.useState)([]),R=B()(x,2),K=R[0],V=R[1];(0,W.useEffect)(function(){if(Q)Te(Q);else{var l=new Date().getTime();s.setFieldsValue({movementOrderNo:"YK".concat(l),movementOrderStatus:0,totalQuantity:0,details:[]})}},[Q]);var Te=function(){var l=O()(v()().mark(function _(i){var n,o,D;return v()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return De(!0),P.prev=1,P.next=4,(0,G.fp)(i);case 4:o=P.sent,D=o.data,(n=D.details)!==null&&n!==void 0&&n.length&&(D.details=D.details.map(function(d){var p,H;return A()(A()({},d),{},{sourceAreaName:(p=$.get(d.sourceAreaId))===null||p===void 0?void 0:p.areaName,targetAreaName:(H=$.get(d.targetAreaId))===null||H===void 0?void 0:H.areaName,itemSku:A()(A()({},d.itemSku),{},{item:d.itemSku.item}),remainQuantity:d.quantity})}),V(D.details.map(function(d){return{id:d.inventoryDetailId,areaId:d.sourceAreaId}}))),s.setFieldsValue(D);case 8:return P.prev=8,De(!1),P.finish(8);case 11:case"end":return P.stop()}},_,null,[[1,,8,11]])}));return function(i){return l.apply(this,arguments)}}(),L=function(_){s.setFieldsValue({sourceAreaId:void 0,details:[]}),V([])},ue=function(_){s.setFieldsValue({details:s.getFieldValue("details").filter(function(i){return i.sourceAreaId===_})}),V(K.filter(function(i){return i.areaId===_}))},le=function(_){s.setFieldsValue({targetAreaId:void 0,details:s.getFieldValue("details").map(function(i){return A()(A()({},i),{},{targetWarehouseId:_,targetAreaId:void 0})})})},ie=function(_){s.setFieldsValue({details:s.getFieldValue("details").map(function(i){return A()(A()({},i),{},{targetAreaId:_})})})},Pe=function(){var _=s.getFieldValue("details")||[],i=0;_.forEach(function(n){n.quantity&&(i+=Number(n.quantity))}),s.setFieldsValue({totalQuantity:i})},Fe=function(){var l=O()(v()().mark(function _(i,n){var o;return v()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:i.id?w.Z.confirm({title:"\u786E\u8BA4\u5220\u9664\u672C\u6761\u5546\u54C1\u660E\u7EC6\u5417\uFF1F",content:"\u5982\u786E\u8BA4\u4F1A\u7ACB\u5373\u6267\u884C\uFF01",onOk:function(){var P=O()(v()().mark(function p(){var H;return v()().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return ve.next=2,(0,ge.I0)(i.id);case 2:H=s.getFieldValue("details"),H.splice(n,1),s.setFieldsValue({details:H}),f.ZP.success("\u5220\u9664\u6210\u529F"),Pe();case 7:case"end":return ve.stop()}},p)}));function d(){return P.apply(this,arguments)}return d}()}):(o=s.getFieldValue("details"),o.splice(n,1),s.setFieldsValue({details:o}),V(K.filter(function(P){return P.id!==i.inventoryDetailId})),Pe());case 1:case"end":return j.stop()}},_)}));return function(i,n){return l.apply(this,arguments)}}(),Re=function(){var _;if(!s.getFieldValue("sourceWarehouseId")||!s.getFieldValue("targetWarehouseId")){f.ZP.warning("\u8BF7\u5148\u9009\u62E9\u6E90\u4ED3\u5E93\u548C\u76EE\u6807\u4ED3\u5E93\uFF01");return}(_=X.current)===null||_===void 0||_.getList(),C(!0)},Be=function(_){C(!1),V(h()(_));var i=s.getFieldValue("details")||[],n=_.filter(function(o){return!i.find(function(D){return D.inventoryDetailId===o.id})}).map(function(o){var D;return{itemSku:A()(A()({},o.itemSku),{},{item:o.item}),skuId:o.skuId,quantity:void 0,remainQuantity:o.remainQuantity,batchNo:o.batchNo,productionDate:o.productionDate,expirationDate:o.expirationDate,sourceWarehouseId:s.getFieldValue("sourceWarehouseId"),sourceAreaId:s.getFieldValue("sourceAreaId")||o.areaId,inventoryDetailId:o.id,targetAreaId:s.getFieldValue("targetAreaId"),sourceAreaName:(D=$.get(s.getFieldValue("sourceAreaId")||o.areaId))===null||D===void 0?void 0:D.areaName}});s.setFieldsValue({details:[].concat(h()(i),h()(n))})},xe=function(){var l=O()(v()().mark(function _(){var i,n,o,D,j=arguments;return v()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return i=j.length>0&&j[0]!==void 0?j[0]:0,d.prev=1,d.next=4,s.validateFields();case 4:if(n=s.getFieldsValue(),o=(n.details||[]).map(function(p){return{id:p.id,movementOrderId:n.id,skuId:p.skuId,quantity:p.quantity,batchNo:p.batchNo,productionDate:p.productionDate,expirationDate:p.expirationDate,inventoryDetailId:p.inventoryDetailId,sourceWarehouseId:n.sourceWarehouseId,sourceAreaId:p.sourceAreaId,targetWarehouseId:n.targetWarehouseId,targetAreaId:p.targetAreaId}}),D=A()(A()({},n),{},{movementOrderStatus:i,details:o}),!n.id){d.next=12;break}return d.next=10,(0,G.qn)(D);case 10:d.next=14;break;case 12:return d.next=14,(0,G.ny)(D);case 14:f.ZP.success("\u64CD\u4F5C\u6210\u529F"),z(),d.next=22;break;case 18:d.prev=18,d.t0=d.catch(1),console.error("Save error:",d.t0),f.ZP.error("\u8BF7\u586B\u5199\u5B8C\u6574\u4FE1\u606F");case 22:case"end":return d.stop()}},_,null,[[1,18]])}));return function(){return l.apply(this,arguments)}}(),We=function(){var l=O()(v()().mark(function _(){var i,n,o,D,j;return v()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,s.validateFields();case 3:if(n=s.getFieldsValue(),(i=n.details)!==null&&i!==void 0&&i.length){d.next=7;break}return f.ZP.error("\u8BF7\u9009\u62E9\u5546\u54C1"),d.abrupt("return");case 7:if(o=n.details.filter(function(p){return!p.quantity}),!(o!=null&&o.length)){d.next=11;break}return f.ZP.error("\u8BF7\u9009\u62E9\u79FB\u5E93\u6570\u91CF"),d.abrupt("return");case 11:return D=(n.details||[]).map(function(p){return{id:p.id,movementOrderId:n.id,skuId:p.skuId,quantity:p.quantity,batchNo:p.batchNo,productionDate:p.productionDate,expirationDate:p.expirationDate,inventoryDetailId:p.inventoryDetailId,sourceWarehouseId:n.sourceWarehouseId,sourceAreaId:p.sourceAreaId,targetWarehouseId:n.targetWarehouseId,targetAreaId:p.targetAreaId}}),j=A()(A()({},n),{},{details:D}),d.next=15,(0,G.tb)(j);case 15:f.ZP.success("\u79FB\u5E93\u6210\u529F"),z(),d.next=23;break;case 19:d.prev=19,d.t0=d.catch(0),console.error("Movement error:",d.t0),f.ZP.error("\u64CD\u4F5C\u5931\u8D25");case 23:case"end":return d.stop()}},_,null,[[0,19]])}));return function(){return l.apply(this,arguments)}}(),we=function(){var l=O()(v()().mark(function _(){return v()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:w.Z.confirm({title:"\u786E\u8BA4\u4F5C\u5E9F\u79FB\u5E93\u5355\u5417\uFF1F",onOk:function(){return xe(-1)}});case 1:case"end":return n.stop()}},_)}));return function(){return l.apply(this,arguments)}}(),Ze=function(){return w.Z.info({title:"\u7CFB\u7EDF\u63D0\u793A",content:"\u4E00\u7269\u4E00\u7801/SN\u6A21\u5F0F\u8BF7\u53BBSaas\u7248\u672C\u4F53\u9A8C\uFF01"}),!1},Se=[{title:"\u5546\u54C1\u4FE1\u606F",dataIndex:["itemSku","item","itemName"],render:function(_,i){var n,o,D,j;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{children:[(n=i.itemSku)===null||n===void 0||(n=n.item)===null||n===void 0?void 0:n.itemName,((o=i.itemSku)===null||o===void 0||(o=o.item)===null||o===void 0?void 0:o.itemCode)&&"(".concat(i.itemSku.item.itemCode,")")]}),((D=i.itemSku)===null||D===void 0||(D=D.item)===null||D===void 0?void 0:D.itemBrand)&&(0,t.jsxs)("div",{children:["\u54C1\u724C\uFF1A",(j=de.get(i.itemSku.item.itemBrand))===null||j===void 0?void 0:j.brandName]})]})}},{title:"\u89C4\u683C\u4FE1\u606F",render:function(_,i){var n,o;return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:(n=i.itemSku)===null||n===void 0?void 0:n.skuName}),((o=i.itemSku)===null||o===void 0?void 0:o.barcode)&&(0,t.jsxs)("div",{children:["\u6761\u7801\uFF1A",i.itemSku.barcode]})]})}},{title:"\u6E90\u5E93\u533A",dataIndex:"sourceAreaName"},{title:"\u76EE\u6807\u5E93\u533A",render:function(_,i){return(0,t.jsx)(g.Z,{value:i.targetAreaId,onChange:function(o){var D=s.getFieldValue("details"),j=D.findIndex(function(d){return d.inventoryDetailId===i.inventoryDetailId});if(j!==-1){var P;D[j].targetAreaId=o,D[j].targetAreaName=(P=$.get(o))===null||P===void 0?void 0:P.areaName,s.setFieldsValue({details:D})}},disabled:!!s.getFieldValue("targetAreaId"),style:{width:"100%"},children:Array.from($.values()).filter(function(n){return n.warehouseId===s.getFieldValue("targetWarehouseId")}).map(function(n){return(0,t.jsx)(g.Z.Option,{value:n.id,children:n.areaName},n.id)})})}},{title:"\u6279\u53F7",dataIndex:"batchNo"},{title:"\u751F\u4EA7\u65E5\u671F",dataIndex:"productionDate",render:function(_){return _?_.substring(0,10):"-"}},{title:"\u8FC7\u671F\u65E5\u671F",dataIndex:"expirationDate",render:function(_){return _?_.substring(0,10):"-"}},{title:"\u5269\u4F59\u5E93\u5B58",render:function(_,i){return(0,t.jsx)(F.Z,{value:Number(i.remainQuantity),precision:0})}},{title:"\u79FB\u5E93\u6570\u91CF",render:function(_,i){return(0,t.jsx)(a.Z,{value:i.quantity,onChange:function(o){var D=s.getFieldValue("details"),j=D.findIndex(function(P){return P.inventoryDetailId===i.inventoryDetailId});j!==-1&&(D[j].quantity=o,s.setFieldsValue({details:D}),Pe())},min:1,max:i.remainQuantity,precision:0,style:{width:"100%"}})}},{title:"\u64CD\u4F5C",render:function(_,i,n){return(0,t.jsx)(m.ZP,{icon:(0,t.jsx)(fe.Z,{}),type:"link",danger:!0,onClick:function(){return Fe(i,n)},children:"\u5220\u9664"})}}];return(0,t.jsxs)(oe._z,{children:[(0,t.jsxs)("div",{className:"app-container",style:{marginBottom:60},children:[(0,t.jsx)(b.Z,{title:"\u79FB\u5E93\u5355\u57FA\u672C\u4FE1\u606F",loading:me,children:(0,t.jsxs)(I.Z,{form:s,layout:"horizontal",labelCol:{span:6},wrapperCol:{span:18},children:[(0,t.jsxs)(r.Z,{gutter:24,children:[(0,t.jsx)(u.Z,{span:8,children:(0,t.jsx)(I.Z.Item,{label:"\u79FB\u5E93\u5355\u53F7",name:"movementOrderNo",rules:[{required:!0,message:"\u79FB\u5E93\u5355\u53F7\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,t.jsx)(Y.Z,{disabled:!!Q})})}),(0,t.jsx)(u.Z,{span:8,children:(0,t.jsx)(I.Z.Item,{label:"\u6E90\u4ED3\u5E93",name:"sourceWarehouseId",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u6E90\u4ED3\u5E93"}],children:(0,t.jsx)(g.Z,{placeholder:"\u8BF7\u9009\u62E9\u6E90\u4ED3\u5E93",onChange:L,children:Array.from(ne.values()).map(function(l){return(0,t.jsx)(g.Z.Option,{value:l.id,children:l.warehouseName},l.id)})})})}),(0,t.jsx)(u.Z,{span:8,children:(0,t.jsx)(I.Z.Item,{label:"\u6E90\u5E93\u533A",name:"sourceAreaId",children:(0,t.jsx)(g.Z,{placeholder:"\u8BF7\u9009\u62E9\u6E90\u5E93\u533A",disabled:!s.getFieldValue("sourceWarehouseId"),onChange:ue,allowClear:!0,children:Array.from($.values()).filter(function(l){return l.warehouseId===s.getFieldValue("sourceWarehouseId")}).map(function(l){return(0,t.jsx)(g.Z.Option,{value:l.id,children:l.areaName},l.id)})})})})]}),(0,t.jsxs)(r.Z,{gutter:24,children:[(0,t.jsx)(u.Z,{span:8,children:(0,t.jsx)(I.Z.Item,{label:"\u76EE\u6807\u4ED3\u5E93",name:"targetWarehouseId",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u76EE\u6807\u4ED3\u5E93"}],children:(0,t.jsx)(g.Z,{placeholder:"\u8BF7\u9009\u62E9\u76EE\u6807\u4ED3\u5E93",onChange:le,children:Array.from(ne.values()).map(function(l){return(0,t.jsx)(g.Z.Option,{value:l.id,children:l.warehouseName},l.id)})})})}),(0,t.jsx)(u.Z,{span:8,children:(0,t.jsx)(I.Z.Item,{label:"\u76EE\u6807\u5E93\u533A",name:"targetAreaId",children:(0,t.jsx)(g.Z,{placeholder:"\u8BF7\u9009\u62E9\u76EE\u6807\u5E93\u533A",disabled:!s.getFieldValue("targetWarehouseId"),onChange:ie,allowClear:!0,children:Array.from($.values()).filter(function(l){return l.warehouseId===s.getFieldValue("targetWarehouseId")}).map(function(l){return(0,t.jsx)(g.Z.Option,{value:l.id,children:l.areaName},l.id)})})})}),(0,t.jsx)(u.Z,{span:8,children:(0,t.jsx)(I.Z.Item,{label:"\u6570\u91CF",name:"totalQuantity",labelCol:{span:6},wrapperCol:{span:18},children:(0,t.jsx)(a.Z,{disabled:!0,precision:0,style:{width:"100%"}})})})]}),(0,t.jsx)(r.Z,{gutter:24,children:(0,t.jsx)(u.Z,{span:24,children:(0,t.jsx)(I.Z.Item,{label:"\u5907\u6CE8",name:"remark",labelCol:{span:2},wrapperCol:{span:22},children:(0,t.jsx)(ee,{placeholder:"\u5907\u6CE8...100\u4E2A\u5B57\u7B26\u4EE5\u5185",maxLength:100,rows:4,showCount:!0})})})})]})}),(0,t.jsxs)(b.Z,{title:"\u5546\u54C1\u660E\u7EC6",className:"mt10",loading:me,children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:16},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"\u4E00\u7269\u4E00\u7801/SN\u6A21\u5F0F\uFF1A"}),(0,t.jsx)(he.Z,{checkedChildren:"\u5F00\u542F",unCheckedChildren:"\u5173\u95ED",checked:Ce,onChange:function(){w.Z.info({title:"\u7CFB\u7EDF\u63D0\u793A",content:"\u4E00\u7269\u4E00\u7801/SN\u6A21\u5F0F\u8BF7\u53BBSaas\u7248\u672C\u4F53\u9A8C\uFF01"})},style:{margin:"0 8px"}})]}),(0,t.jsx)(pe.Z,{placement:"left",title:"\u63D0\u793A",content:"\u8BF7\u5148\u9009\u62E9\u6E90\u4ED3\u5E93\u548C\u76EE\u6807\u4ED3\u5E93\uFF01",open:!s.getFieldValue("sourceWarehouseId")||!s.getFieldValue("targetWarehouseId")?void 0:!1,children:(0,t.jsx)(m.ZP,{type:"primary",icon:(0,t.jsx)(Ee.Z,{}),onClick:Re,disabled:!s.getFieldValue("sourceWarehouseId")||!s.getFieldValue("targetWarehouseId"),children:"\u6DFB\u52A0\u5546\u54C1"})})]}),(0,t.jsx)(q.Z,{columns:Se,dataSource:s.getFieldValue("details")||[],rowKey:"inventoryDetailId",pagination:!1,scroll:{x:"max-content"}})]}),(0,t.jsx)(Oe.default,{ref:X,open:c,onOk:Be,onCancel:function(){return C(!1)},width:"90%",selectWarehouseDisable:!1,selectAreaDisable:!!s.getFieldValue("sourceAreaId"),warehouseId:s.getFieldValue("sourceWarehouseId"),areaId:s.getFieldValue("sourceAreaId"),selectedInventory:K})]}),(0,t.jsxs)("div",{style:{position:"fixed",bottom:0,right:0,width:"100%",padding:"16px",background:"#fff",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.15)",display:"flex",justifyContent:"space-between"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(m.ZP,{type:"primary",onClick:We,style:{marginRight:8},children:"\u5B8C\u6210\u79FB\u5E93"}),Q&&(0,t.jsx)(m.ZP,{danger:!0,onClick:we,children:"\u4F5C\u5E9F"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(m.ZP,{type:"primary",onClick:function(){return xe(0)},style:{marginRight:8},children:"\u6682\u5B58"}),(0,t.jsx)(m.ZP,{onClick:z,children:"\u53D6\u6D88"})]})]})]})};Z.default=re},78351:function(se,Z,e){e.r(Z);var U=e(15009),h=e.n(U),N=e(97857),v=e.n(N),T=e(99289),A=e.n(T),k=e(5574),O=e.n(k),S=e(67294),B=e(76772),W=e(29021),y=e(77569),Y=e(53531),I=e(85265),w=e(83622),f=e(25278),g=e(34041),F=e(48296),a=e(65385),m=e(28206),b=e(27484),r=e.n(b),u=e(85893),he=W.default.RangePicker,pe=(0,S.forwardRef)(function(q,fe){var Ee=q.open,oe=q.onCancel,G=q.selectedInventory,ge=G===void 0?[]:G,Oe=y.Z.useForm(),t=O()(Oe,1),ee=t[0],re=(0,S.useRef)(),Ae=(0,S.useState)([]),te=O()(Ae,2),Q=te[0],z=te[1],ae=(0,S.useState)(!1),ne=O()(ae,2),$=ne[0],de=ne[1],Ie=(0,S.useState)(!1),_e=O()(Ie,2),s=_e[0],be=_e[1],X=(0,B.useModel)("wms"),Me=X.warehouseMap,J=X.areaMap,me=X.itemBrandMap;(0,S.useImperativeHandle)(fe,function(){return{setWarehouseIdAndAreaId:De,getList:function(){var E;(E=re.current)===null||E===void 0||E.reload()}}});var De=function(E,c){ee.setFieldsValue({warehouseId:E,areaId:c}),be(!!c)},ye=function(E){return!ge.some(function(c){return c.id===E.id})},ce=[{title:"\u5E93\u533A",dataIndex:"areaName",render:function(E,c){var C;return(C=J.get(c.areaId))===null||C===void 0?void 0:C.areaName}},{title:"\u5546\u54C1\u4FE1\u606F",render:function(E,c){var C,x,R,K;return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{children:(C=c.item)===null||C===void 0?void 0:C.itemName}),((x=c.item)===null||x===void 0?void 0:x.itemCode)&&(0,u.jsxs)("div",{children:["\u7F16\u53F7\uFF1A",c.item.itemCode]}),((R=c.item)===null||R===void 0?void 0:R.itemBrand)&&(0,u.jsxs)("div",{children:["\u54C1\u724C\uFF1A",(K=me.get(c.item.itemBrand))===null||K===void 0?void 0:K.brandName]})]})}},{title:"\u89C4\u683C\u4FE1\u606F",render:function(E,c){var C,x,R;return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{children:(C=c.itemSku)===null||C===void 0?void 0:C.skuName}),((x=c.itemSku)===null||x===void 0?void 0:x.skuCode)&&(0,u.jsxs)("div",{children:["\u7F16\u53F7\uFF1A",c.itemSku.skuCode]}),((R=c.itemSku)===null||R===void 0?void 0:R.barcode)&&(0,u.jsxs)("div",{children:["\u6761\u7801\uFF1A",c.itemSku.barcode]})]})}},{title:"\u6279\u53F7",dataIndex:"batchNo",align:"left"},{title:"\u751F\u4EA7\u65E5\u671F/\u8FC7\u671F\u65E5\u671F",align:"left",width:180,render:function(E,c){return(0,u.jsxs)("div",{children:[c.productionDate&&(0,u.jsxs)("div",{children:["\u751F\u4EA7\u65E5\u671F\uFF1A",r()(c.productionDate).format("YYYY-MM-DD")]}),c.expirationDate&&(0,u.jsxs)("div",{children:["\u8FC7\u671F\u65E5\u671F\uFF1A",r()(c.expirationDate).format("YYYY-MM-DD")]})]})}},{title:"\u5165\u5E93\u65E5\u671F",align:"left",width:140,render:function(E,c){return(0,u.jsx)("div",{children:r()(c.createTime).format("YYYY-MM-DD")})}},{title:"\u5269\u4F59\u5E93\u5B58",align:"right",render:function(E,c){return(0,u.jsx)(Y.Z,{value:Number(c.remainQuantity),precision:0})}}],Ce=function(){oe(),z([])},je=function(){oe(),z([])};return(0,u.jsxs)(I.Z,{title:"\u9009\u62E9\u5E93\u5B58",width:1200,open:Ee,onClose:je,destroyOnClose:!0,footer:(0,u.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[(0,u.jsx)(w.ZP,{onClick:je,style:{marginRight:8},children:"\u53D6\u6D88"}),(0,u.jsx)(w.ZP,{type:"primary",onClick:Ce,children:"\u786E\u8BA4"})]}),children:[(0,u.jsxs)(y.Z,{form:ee,layout:"inline",labelAlign:"left",children:[(0,u.jsx)(y.Z.Item,{label:"\u5546\u54C1\u540D\u79F0",name:"itemName",children:(0,u.jsx)(f.Z,{placeholder:"\u5546\u54C1\u540D\u79F0",allowClear:!0})}),(0,u.jsx)(y.Z.Item,{label:"\u5546\u54C1\u7F16\u53F7",name:"itemCode",children:(0,u.jsx)(f.Z,{placeholder:"\u5546\u54C1\u7F16\u53F7",allowClear:!0,style:{width:180}})}),(0,u.jsx)(y.Z.Item,{label:"\u5E93\u533A",name:"areaId",children:(0,u.jsx)(g.Z,{placeholder:"\u8BF7\u9009\u62E9\u5E93\u533A",disabled:s,allowClear:!0,style:{width:180},children:Array.from(J.values()).map(function(M){return(0,u.jsx)(g.Z.Option,{value:M.id,children:M.areaName},M.id)})})}),(0,u.jsx)(y.Z.Item,{label:"\u89C4\u683C\u540D\u79F0",name:"skuName",children:(0,u.jsx)(f.Z,{placeholder:"\u89C4\u683C\u540D\u79F0",allowClear:!0,style:{width:180}})}),(0,u.jsx)(y.Z.Item,{label:"\u89C4\u683C\u7F16\u53F7",name:"barcode",children:(0,u.jsx)(f.Z,{placeholder:"\u89C4\u683C\u7F16\u53F7",allowClear:!0,style:{width:180}})}),(0,u.jsx)(y.Z.Item,{label:"\u6279\u53F7",name:"batchNo",children:(0,u.jsx)(f.Z,{placeholder:"\u6279\u53F7",allowClear:!0,style:{width:180}})}),(0,u.jsx)(y.Z.Item,{label:"\u5165\u5E93\u65E5\u671F",name:"createTimeRange",children:(0,u.jsx)(he,{format:"YYYY-MM-DD",placeholder:["\u5F00\u59CB\u65E5\u671F","\u7ED3\u675F\u65E5\u671F"]})}),(0,u.jsx)(y.Z.Item,{label:"\u591A\u5C11\u5929\u5185\u8FC7\u671F",name:"daysToExpires",children:(0,u.jsxs)(g.Z,{placeholder:"\u8BF7\u9009\u62E9",allowClear:!0,style:{width:120},children:[(0,u.jsx)(g.Z.Option,{value:30,children:"30\u5929\u5185"}),(0,u.jsx)(g.Z.Option,{value:60,children:"60\u5929\u5185"}),(0,u.jsx)(g.Z.Option,{value:90,children:"90\u5929\u5185"}),(0,u.jsx)(g.Z.Option,{value:120,children:"120\u5929\u5185"}),(0,u.jsx)(g.Z.Option,{value:180,children:"180\u5929\u5185"}),(0,u.jsx)(g.Z.Option,{value:365,children:"365\u5929\u5185"})]})}),(0,u.jsx)(y.Z.Item,{children:(0,u.jsx)(w.ZP,{type:"primary",icon:(0,u.jsx)(F.Z,{}),onClick:function(){var E;return(E=re.current)===null||E===void 0?void 0:E.reload()},children:"\u67E5\u8BE2"})})]}),(0,u.jsx)(a.Z,{style:{marginTop:16},actionRef:re,rowKey:"id",search:!1,options:!1,request:function(){var M=A()(h()().mark(function E(c){var C,x,R,K,V;return h()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return de(!0),L.prev=1,R=ee.getFieldsValue(),K=v()(v()({},R),{},{createStartTime:(C=R.createTimeRange)===null||C===void 0||(C=C[0])===null||C===void 0?void 0:C.format("YYYY-MM-DD HH:mm:ss"),createEndTime:(x=R.createTimeRange)===null||x===void 0||(x=x[1])===null||x===void 0?void 0:x.format("YYYY-MM-DD HH:mm:ss"),pageNum:c.current,pageSize:c.pageSize}),L.next=6,(0,m.fN)(K);case 6:return V=L.sent,L.abrupt("return",{data:V.rows.map(function(ue){var le,ie;return v()(v()({},ue),{},{warehouseName:(le=Me.get(ue.warehouseId))===null||le===void 0?void 0:le.warehouseName,areaName:(ie=J.get(ue.areaId))===null||ie===void 0?void 0:ie.areaName})}),total:V.total,success:!0});case 8:return L.prev=8,de(!1),L.finish(8);case 11:case"end":return L.stop()}},E,null,[[1,,8,11]])}));return function(E){return M.apply(this,arguments)}}(),columns:ce,rowSelection:{selectedRowKeys:Q.map(function(M){return M.id}),onChange:function(E,c){return z(c)},getCheckboxProps:function(E){return{disabled:!ye(E)}}},loading:$,pagination:{showSizeChanger:!0}})]})});Z.default=pe},28206:function(se,Z,e){e.d(Z,{fN:function(){return k},tB:function(){return S}});var U=e(15009),h=e.n(U),N=e(99289),v=e.n(N),T=e(76772),A=e(30964);function k(a){return O.apply(this,arguments)}function O(){return O=v()(h()().mark(function a(m){return h()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,T.request)("/api/wms/inventoryDetail/list",{method:"GET",params:m}));case 1:case"end":return r.stop()}},a)})),O.apply(this,arguments)}function S(a){return B.apply(this,arguments)}function B(){return B=v()(h()().mark(function a(m){return h()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,T.request)("/api/wms/inventoryDetail/listNoPage",{method:"GET",params:m}));case 1:case"end":return r.stop()}},a)})),B.apply(this,arguments)}function W(a,m){return downLoadXlsx("/api/wms/inventoryDetail/export",{params:a},"inventoryDetail_".concat(new Date().getTime(),".xlsx"))}function y(a){return request("/api/wms/inventoryDetail/".concat(a),{method:"GET"})}function Y(a){return I.apply(this,arguments)}function I(){return I=_asyncToGenerator(_regeneratorRuntime().mark(function a(m){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/wms/inventoryDetail",{method:"POST",data:m}));case 1:case"end":return r.stop()}},a)})),I.apply(this,arguments)}function w(a){return f.apply(this,arguments)}function f(){return f=_asyncToGenerator(_regeneratorRuntime().mark(function a(m){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/wms/inventoryDetail",{method:"PUT",data:m}));case 1:case"end":return r.stop()}},a)})),f.apply(this,arguments)}function g(a){return F.apply(this,arguments)}function F(){return F=_asyncToGenerator(_regeneratorRuntime().mark(function a(m){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/wms/inventoryDetail/".concat(m),{method:"DELETE"}));case 1:case"end":return r.stop()}},a)})),F.apply(this,arguments)}},83688:function(se,Z,e){e.d(Z,{K:function(){return k},fp:function(){return B},ny:function(){return W},qn:function(){return Y},tb:function(){return w},w2:function(){return g}});var U=e(15009),h=e.n(U),N=e(99289),v=e.n(N),T=e(76772),A=e(30964);function k(a){return O.apply(this,arguments)}function O(){return O=v()(h()().mark(function a(m){return h()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,T.request)("/api/wms/movementOrder/list",{method:"GET",params:m}));case 1:case"end":return r.stop()}},a)})),O.apply(this,arguments)}function S(a,m){return downLoadXlsx("/api/wms/movementOrder/export",{params:a},"movementOrder_".concat(new Date().getTime(),".xlsx"))}function B(a){return(0,T.request)("/api/wms/movementOrder/".concat(a),{method:"GET"})}function W(a){return y.apply(this,arguments)}function y(){return y=v()(h()().mark(function a(m){return h()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,T.request)("/api/wms/movementOrder",{method:"POST",data:m}));case 1:case"end":return r.stop()}},a)})),y.apply(this,arguments)}function Y(a){return I.apply(this,arguments)}function I(){return I=v()(h()().mark(function a(m){return h()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,T.request)("/api/wms/movementOrder",{method:"PUT",data:m}));case 1:case"end":return r.stop()}},a)})),I.apply(this,arguments)}function w(a){return f.apply(this,arguments)}function f(){return f=v()(h()().mark(function a(m){return h()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,T.request)("/api/wms/movementOrder/move",{method:"POST",data:m}));case 1:case"end":return r.stop()}},a)})),f.apply(this,arguments)}function g(a){return F.apply(this,arguments)}function F(){return F=v()(h()().mark(function a(m){return h()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,T.request)("/api/wms/movementOrder/".concat(m),{method:"DELETE"}));case 1:case"end":return r.stop()}},a)})),F.apply(this,arguments)}},91022:function(se,Z,e){e.d(Z,{I0:function(){return w},hS:function(){return g}});var U=e(15009),h=e.n(U),N=e(99289),v=e.n(N),T=e(76772),A=e(30964);function k(a){return O.apply(this,arguments)}function O(){return O=_asyncToGenerator(_regeneratorRuntime().mark(function a(m){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/wms/movementOrderDetail/list",{method:"GET",params:m}));case 1:case"end":return r.stop()}},a)})),O.apply(this,arguments)}function S(a,m){return downLoadXlsx("/api/wms/movementOrderDetail/export",{params:a},"movementOrderDetail_".concat(new Date().getTime(),".xlsx"))}function B(a){return request("/api/wms/movementOrderDetail/".concat(a),{method:"GET"})}function W(a){return y.apply(this,arguments)}function y(){return y=_asyncToGenerator(_regeneratorRuntime().mark(function a(m){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/wms/movementOrderDetail",{method:"POST",data:m}));case 1:case"end":return r.stop()}},a)})),y.apply(this,arguments)}function Y(a){return I.apply(this,arguments)}function I(){return I=_asyncToGenerator(_regeneratorRuntime().mark(function a(m){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/api/wms/movementOrderDetail",{method:"PUT",data:m}));case 1:case"end":return r.stop()}},a)})),I.apply(this,arguments)}function w(a){return f.apply(this,arguments)}function f(){return f=v()(h()().mark(function a(m){return h()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,T.request)("/api/wms/movementOrderDetail/".concat(m),{method:"DELETE"}));case 1:case"end":return r.stop()}},a)})),f.apply(this,arguments)}function g(a){return F.apply(this,arguments)}function F(){return F=v()(h()().mark(function a(m){return h()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,T.request)("/api/wms/movementOrderDetail/list/".concat(m),{method:"GET"}));case 1:case"end":return r.stop()}},a)})),F.apply(this,arguments)}}}]);
