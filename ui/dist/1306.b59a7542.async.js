"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1306,6492],{94162:function(ee,y,r){var S=r(64599),i=r.n(S),W=r(67294),e=r(66309),c=r(85893),F=function(t){function A(d){switch(d){case"primary":return"blue";case"success":return"success";case"info":return"green";case"warning":return"warning";case"danger":return"error";case"default":default:return"default"}}function _(d){if(d===void 0)return"";if(t.enums){var I=t.enums[d];return I.label}if(t.options){if(!Array.isArray(t.options))return console.log("DictTag options is no array!"),"";var b=i()(t.options),P;try{for(b.s();!(P=b.n()).done;){var s=P.value;if(s.value===d)return s.text}}catch(f){b.e(f)}finally{b.f()}}return String(t.value)}function L(d){if(d===void 0)return"default";if(t.enums){var I=t.enums[d];return I.listClass||"default"}if(t.options){if(!Array.isArray(t.options))return console.log("DictTag options is no array!"),"default";var b=i()(t.options),P;try{for(b.s();!(P=b.n()).done;){var s=P.value;if(s.value===d)return s.listClass||"default"}}catch(f){b.e(f)}finally{b.f()}}return String(t.value)}var M=function(){return A(L(t.value).toLowerCase())},o=function(){return _(t.value)};return(0,c.jsx)(e.Z,{color:M(),children:o()})};y.Z=F},33867:function(ee,y,r){r.d(y,{iK:function(){return S},zc:function(){return W}});var S=function(e){return e[e.SUCCESS=200]="SUCCESS",e[e.ERROR=-1]="ERROR",e[e.TIMEOUT=401]="TIMEOUT",e.TYPE="success",e}({}),i=function(e){return e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE",e}({}),W=function(e){return e.JSON="application/json;charset=UTF-8",e.FORM_URLENCODED="application/x-www-form-urlencoded;charset=UTF-8",e.FORM_DATA="multipart/form-data;charset=UTF-8",e}({})},46492:function(ee,y,r){r.r(y);var S=r(67294),i=r(17788),W=r(83622),e=r(26412),c=r(76772),F=r(61314),u=r(85893),t=function(_){var L,M=_.values,o=_.statusOptions;(0,S.useEffect)(function(){},[_]);var d=(0,c.useIntl)(),I={0:"\u9ED8\u8BA4\u7B56\u7565",1:"\u7ACB\u5373\u6267\u884C",2:"\u6267\u884C\u4E00\u6B21",3:"\u653E\u5F03\u6267\u884C"},b=function(){_.onCancel()};return(0,u.jsx)(i.Z,{width:800,title:d.formatMessage({id:"monitor.job.detail",defaultMessage:"\u64CD\u4F5C\u65E5\u5FD7\u8BE6\u7EC6\u4FE1\u606F"}),open:_.open,destroyOnClose:!0,onCancel:b,footer:[(0,u.jsx)(W.ZP,{onClick:b,children:"\u5173\u95ED"},"back")],children:(0,u.jsxs)(e.Z,{column:24,children:[(0,u.jsx)(e.Z.Item,{span:12,label:(0,u.jsx)(c.FormattedMessage,{id:"monitor.job.job_id",defaultMessage:"\u4EFB\u52A1\u7F16\u53F7"}),children:M.jobId}),(0,u.jsx)(e.Z.Item,{span:12,label:(0,u.jsx)(c.FormattedMessage,{id:"monitor.job.job_name",defaultMessage:"\u4EFB\u52A1\u540D\u79F0"}),children:M.jobName}),(0,u.jsx)(e.Z.Item,{span:12,label:(0,u.jsx)(c.FormattedMessage,{id:"monitor.job.job_group",defaultMessage:"\u4EFB\u52A1\u7EC4\u540D"}),children:M.jobGroup}),(0,u.jsx)(e.Z.Item,{span:12,label:(0,u.jsx)(c.FormattedMessage,{id:"monitor.job.concurrent",defaultMessage:"\u662F\u5426\u5E76\u53D1\u6267\u884C"}),children:M.concurrent==="1"?"\u7981\u6B62":"\u5141\u8BB8"}),(0,u.jsx)(e.Z.Item,{span:12,label:(0,u.jsx)(c.FormattedMessage,{id:"monitor.job.misfire_policy",defaultMessage:"\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565"}),children:I[M.misfirePolicy?M.misfirePolicy:"0"]}),(0,u.jsx)(e.Z.Item,{span:12,label:(0,u.jsx)(c.FormattedMessage,{id:"monitor.job.create_time",defaultMessage:"\u521B\u5EFA\u65F6\u95F4"}),children:(L=M.createTime)===null||L===void 0?void 0:L.toString()}),(0,u.jsx)(e.Z.Item,{span:12,label:(0,u.jsx)(c.FormattedMessage,{id:"monitor.job.status",defaultMessage:"\u72B6\u6001"}),children:(0,F.n)(o,M.status,"\u672A\u77E5")}),(0,u.jsx)(e.Z.Item,{span:12,label:(0,u.jsx)(c.FormattedMessage,{id:"monitor.job.next_valid_time",defaultMessage:"\u4E0B\u6B21\u6267\u884C\u65F6\u95F4"}),children:M.nextValidTime}),(0,u.jsx)(e.Z.Item,{span:24,label:(0,u.jsx)(c.FormattedMessage,{id:"monitor.job.cron_expression",defaultMessage:"cron\u6267\u884C\u8868\u8FBE\u5F0F"}),children:M.cronExpression}),(0,u.jsx)(e.Z.Item,{span:24,label:(0,u.jsx)(c.FormattedMessage,{id:"monitor.job.invoke_target",defaultMessage:"\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32"}),children:M.invokeTarget})]})})};y.default=t},18299:function(ee,y,r){r.r(y);var S=r(15009),i=r.n(S),W=r(99289),e=r.n(W),c=r(5574),F=r.n(c),u=r(67294),t=r(97269),A=r(31199),_=r(5966),L=r(64317),M=r(90672),o=r(16434),d=r(86615),I=r(77569),b=r(17788),P=r(76772),s=r(85893),f=function(D){var l=I.Z.useForm(),ae=F()(l,1),O=ae[0],q=D.jobGroupOptions,p=D.statusOptions;(0,u.useEffect)(function(){O.resetFields(),O.setFieldsValue({jobId:D.values.jobId,jobName:D.values.jobName,jobGroup:D.values.jobGroup,invokeTarget:D.values.invokeTarget,cronExpression:D.values.cronExpression,misfirePolicy:D.values.misfirePolicy,concurrent:D.values.concurrent,status:D.values.status,createBy:D.values.createBy,createTime:D.values.createTime,updateBy:D.values.updateBy,updateTime:D.values.updateTime,remark:D.values.remark})},[O,D]);var m=(0,P.useIntl)(),w=function(){O.submit()},n=function(){D.onCancel(),O.resetFields()},N=function(){var X=e()(i()().mark(function j(g){return i()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:D.onSubmit(g);case 1:case"end":return se.stop()}},j)}));return function(g){return X.apply(this,arguments)}}();return(0,s.jsx)(b.Z,{width:640,title:m.formatMessage({id:"monitor.job.title",defaultMessage:"\u7F16\u8F91\u5B9A\u65F6\u4EFB\u52A1\u8C03\u5EA6"}),open:D.open,forceRender:!0,destroyOnClose:!0,onOk:w,onCancel:n,children:(0,s.jsxs)(t.A,{form:O,grid:!0,submitter:!1,layout:"horizontal",onFinish:N,children:[(0,s.jsx)(A.Z,{name:"jobId",label:m.formatMessage({id:"monitor.job.job_id",defaultMessage:"\u4EFB\u52A1\u7F16\u53F7"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7F16\u53F7",disabled:!0,hidden:!0,rules:[{required:!1,message:(0,s.jsx)(P.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7F16\u53F7\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7F16\u53F7\uFF01"})}]}),(0,s.jsx)(_.Z,{name:"jobName",label:m.formatMessage({id:"monitor.job.job_name",defaultMessage:"\u4EFB\u52A1\u540D\u79F0"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0",rules:[{required:!1,message:(0,s.jsx)(P.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0\uFF01"})}]}),(0,s.jsx)(L.Z,{name:"jobGroup",options:q,label:m.formatMessage({id:"monitor.job.job_group",defaultMessage:"\u4EFB\u52A1\u7EC4\u540D"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D",rules:[{required:!1,message:(0,s.jsx)(P.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u7EC4\u540D\uFF01"})}]}),(0,s.jsx)(M.Z,{name:"invokeTarget",label:m.formatMessage({id:"monitor.job.invoke_target",defaultMessage:"\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32",rules:[{required:!0,message:(0,s.jsx)(P.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32\uFF01"})}]}),(0,s.jsx)(o.Z,{name:"cronExpression",label:m.formatMessage({id:"monitor.job.cron_expression",defaultMessage:"cron\u6267\u884C\u8868\u8FBE\u5F0F"}),captchaTextRender:function(){return"\u751F\u6210\u8868\u8FBE\u5F0F"},onGetCaptcha:function(){return new Promise(function(j,g){g()})}}),(0,s.jsx)(d.Z.Group,{name:"misfirePolicy",label:m.formatMessage({id:"monitor.job.misfire_policy",defaultMessage:"\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565",valueEnum:{0:"\u7ACB\u5373\u6267\u884C",1:"\u6267\u884C\u4E00\u6B21",3:"\u653E\u5F03\u6267\u884C"},rules:[{required:!1,message:(0,s.jsx)(P.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u8BA1\u5212\u6267\u884C\u9519\u8BEF\u7B56\u7565\uFF01"})}],fieldProps:{optionType:"button",buttonStyle:"solid"}}),(0,s.jsx)(d.Z.Group,{name:"concurrent",label:m.formatMessage({id:"monitor.job.concurrent",defaultMessage:"\u662F\u5426\u5E76\u53D1\u6267\u884C"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C",valueEnum:{0:"\u5141\u8BB8",1:"\u7981\u6B62"},rules:[{required:!1,message:(0,s.jsx)(P.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u662F\u5426\u5E76\u53D1\u6267\u884C\uFF01"})}],fieldProps:{optionType:"button",buttonStyle:"solid"}}),(0,s.jsx)(d.Z.Group,{valueEnum:p,name:"status",label:m.formatMessage({id:"monitor.job.status",defaultMessage:"\u72B6\u6001"}),colProps:{md:24},placeholder:"\u8BF7\u8F93\u5165\u72B6\u6001",rules:[{required:!1,message:(0,s.jsx)(P.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u72B6\u6001\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u72B6\u6001\uFF01"})}]})]})})};y.default=f},61306:function(ee,y,r){r.r(y);var S=r(5574),i=r.n(S),W=r(15009),e=r.n(W),c=r(97857),F=r.n(c),u=r(99289),t=r.n(u),A=r(67294),_=r(76772),L=r(85418),M=r(78957),o=r(2453),d=r(83622),I=r(17788),b=r(6110),P=r(65385),s=r(2236),f=r(86548),R=r(48689),D=r(80882),l=r(24969),ae=r(11475),O=r(91646),q=r(92982),p=r(18299),m=r(46492),w=r(94162),n=r(85893),N=function(){var z=t()(e()().mark(function x(C){var B,h;return e()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return B=o.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),a.prev=1,a.next=4,(0,O.Y$)(F()({},C));case 4:return h=a.sent,B(),h.code===200?o.ZP.success("\u6DFB\u52A0\u6210\u529F"):o.ZP.error(h.msg),a.abrupt("return",!0);case 10:return a.prev=10,a.t0=a.catch(1),B(),o.ZP.error("\u6DFB\u52A0\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),a.abrupt("return",!1);case 15:case"end":return a.stop()}},x,null,[[1,10]])}));return function(C){return z.apply(this,arguments)}}(),X=function(){var z=t()(e()().mark(function x(C){var B,h;return e()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return B=o.ZP.loading("\u6B63\u5728\u66F4\u65B0"),a.prev=1,a.next=4,(0,O.gK)(C);case 4:return h=a.sent,B(),h.code===200?o.ZP.success("\u66F4\u65B0\u6210\u529F"):o.ZP.error(h.msg),a.abrupt("return",!0);case 10:return a.prev=10,a.t0=a.catch(1),B(),o.ZP.error("\u914D\u7F6E\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),a.abrupt("return",!1);case 15:case"end":return a.stop()}},x,null,[[1,10]])}));return function(C){return z.apply(this,arguments)}}(),j=function(){var z=t()(e()().mark(function x(C){var B,h;return e()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(B=o.ZP.loading("\u6B63\u5728\u5220\u9664"),C){a.next=3;break}return a.abrupt("return",!0);case 3:return a.prev=3,a.next=6,(0,O.eX)(C.map(function(U){return U.jobId}).join(","));case 6:return h=a.sent,B(),h.code===200?o.ZP.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):o.ZP.error(h.msg),a.abrupt("return",!0);case 12:return a.prev=12,a.t0=a.catch(3),B(),o.ZP.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),a.abrupt("return",!1);case 17:case"end":return a.stop()}},x,null,[[3,12]])}));return function(C){return z.apply(this,arguments)}}(),g=function(){var z=t()(e()().mark(function x(C){var B,h,k;return e()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(B=o.ZP.loading("\u6B63\u5728\u5220\u9664"),C){U.next=3;break}return U.abrupt("return",!0);case 3:return U.prev=3,h=[C.jobId],U.next=7,(0,O.eX)(h.join(","));case 7:return k=U.sent,B(),k.code===200?o.ZP.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"):o.ZP.error(k.msg),U.abrupt("return",!0);case 13:return U.prev=13,U.t0=U.catch(3),B(),o.ZP.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),U.abrupt("return",!1);case 18:case"end":return U.stop()}},x,null,[[3,13]])}));return function(C){return z.apply(this,arguments)}}(),de=function(){var z=t()(e()().mark(function x(){var C;return e()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return C=o.ZP.loading("\u6B63\u5728\u5BFC\u51FA"),h.prev=1,h.next=4,(0,O.Q$)();case 4:return C(),o.ZP.success("\u5BFC\u51FA\u6210\u529F"),h.abrupt("return",!0);case 9:return h.prev=9,h.t0=h.catch(1),C(),o.ZP.error("\u5BFC\u51FA\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),h.abrupt("return",!1);case 14:case"end":return h.stop()}},x,null,[[1,9]])}));return function(){return z.apply(this,arguments)}}(),se=function(){var x=(0,A.useRef)(),C=(0,A.useState)(!1),B=i()(C,2),h=B[0],k=B[1],a=(0,A.useState)(!1),U=i()(a,2),Ee=U[0],le=U[1],re=(0,A.useRef)(),he=(0,A.useState)(),ce=i()(he,2),De=ce[0],ne=ce[1],ve=(0,A.useState)([]),me=i()(ve,2),Q=me[0],ie=me[1],je=(0,A.useState)([]),fe=i()(je,2),_e=fe[0],ge=fe[1],be=(0,A.useState)([]),pe=i()(be,2),oe=pe[0],Me=pe[1],ue=(0,_.useAccess)(),Pe=(0,_.useIntl)();(0,A.useEffect)(function(){(0,q.Hr)("sys_job_group").then(function(Z){ge(Z)}),(0,q.pX)("sys_normal_disable").then(function(Z){Me(Z)})},[]);var Oe=[{title:(0,n.jsx)(_.FormattedMessage,{id:"monitor.job.job_id",defaultMessage:"\u4EFB\u52A1\u7F16\u53F7"}),dataIndex:"jobId",valueType:"text",hideInSearch:!0},{title:(0,n.jsx)(_.FormattedMessage,{id:"monitor.job.job_name",defaultMessage:"\u4EFB\u52A1\u540D\u79F0"}),dataIndex:"jobName",valueType:"text",render:function(K,E){return(0,n.jsx)("a",{onClick:function(){le(!0),ne(E)},children:K})}},{title:(0,n.jsx)(_.FormattedMessage,{id:"monitor.job.job_group",defaultMessage:"\u4EFB\u52A1\u7EC4\u540D"}),dataIndex:"jobGroup",valueType:"text",valueEnum:_e,render:function(K,E){return(0,n.jsx)(w.Z,{options:_e,value:E.jobGroup})}},{title:(0,n.jsx)(_.FormattedMessage,{id:"monitor.job.invoke_target",defaultMessage:"\u8C03\u7528\u76EE\u6807\u5B57\u7B26\u4E32"}),dataIndex:"invokeTarget",valueType:"textarea"},{title:(0,n.jsx)(_.FormattedMessage,{id:"monitor.job.cron_expression",defaultMessage:"cron\u6267\u884C\u8868\u8FBE\u5F0F"}),dataIndex:"cronExpression",valueType:"text"},{title:(0,n.jsx)(_.FormattedMessage,{id:"monitor.job.status",defaultMessage:"\u72B6\u6001"}),dataIndex:"status",valueType:"select",valueEnum:oe,render:function(K,E){return(0,n.jsx)(w.Z,{enums:oe,value:E.status})}},{title:(0,n.jsx)(_.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",width:"220px",valueType:"option",render:function(K,E){return[(0,n.jsx)(d.ZP,{type:"link",size:"small",icon:(0,n.jsx)(f.Z,{}),hidden:!ue.hasPerms("monitor:job:edit"),onClick:function(){k(!0),ne(E)},children:"\u7F16\u8F91"},"edit"),(0,n.jsx)(d.ZP,{type:"link",size:"small",danger:!0,icon:(0,n.jsx)(R.Z,{}),hidden:!ue.hasPerms("monitor:job:remove"),onClick:t()(e()().mark(function v(){return e()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:I.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var H=t()(e()().mark(function J(){var te;return e()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,g(E);case 2:te=V.sent,te&&re.current&&re.current.reload();case 4:case"end":return V.stop()}},J)}));function $(){return H.apply(this,arguments)}return $}()});case 1:case"end":return T.stop()}},v)})),children:"\u5220\u9664"},"batchRemove"),(0,n.jsx)(L.Z,{menu:{items:[{label:"\u6267\u884C\u4E00\u6B21",key:"runOnce"},{label:"\u8BE6\u7EC6",key:"detail"},{label:"\u5386\u53F2",key:"log"}],onClick:function(Y){var T=Y.key;T==="runOnce"?I.Z.confirm({title:"\u8B66\u544A",content:"\u786E\u8BA4\u8981\u7ACB\u5373\u6267\u884C\u4E00\u6B21\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var H=t()(e()().mark(function J(){var te;return e()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,(0,O.uu)(E.jobId,E.jobGroup);case 2:te=V.sent,te&&o.ZP.success("\u6267\u884C\u6210\u529F");case 4:case"end":return V.stop()}},J)}));function $(){return H.apply(this,arguments)}return $}()}):T==="detail"?(le(!0),ne(E)):T==="log"&&_.history.push("/monitor/job-log/index/".concat(E.jobId))}},children:(0,n.jsx)("a",{className:"ant-dropdown-link",onClick:function(Y){return Y.preventDefault()},children:(0,n.jsxs)(M.Z,{children:[(0,n.jsx)(D.Z,{}),"\u66F4\u591A"]})})},"more")]}}];return(0,n.jsxs)(b._z,{children:[(0,n.jsx)("div",{style:{width:"100%",float:"right"},children:(0,n.jsx)(P.Z,{headerTitle:Pe.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u4FE1\u606F"}),actionRef:re,formRef:x,rowKey:"jobId",search:{labelWidth:120},toolBarRender:function(){return[(0,n.jsxs)(d.ZP,{type:"primary",hidden:!ue.hasPerms("monitor:job:add"),onClick:t()(e()().mark(function K(){return e()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:ne(void 0),k(!0);case 2:case"end":return v.stop()}},K)})),children:[(0,n.jsx)(l.Z,{})," ",(0,n.jsx)(_.FormattedMessage,{id:"pages.searchTable.new",defaultMessage:"\u65B0\u5EFA"})]},"add"),(0,n.jsxs)(d.ZP,{type:"primary",danger:!0,hidden:(Q==null?void 0:Q.length)===0||!ue.hasPerms("monitor:job:remove"),onClick:t()(e()().mark(function K(){return e()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:I.Z.confirm({title:"\u662F\u5426\u786E\u8BA4\u5220\u9664\u6240\u9009\u6570\u636E\u9879?",icon:(0,n.jsx)(ae.Z,{}),content:"\u8BF7\u8C28\u614E\u64CD\u4F5C",onOk:function(){return t()(e()().mark(function T(){var H,$,J;return e()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,j(Q);case 2:H=G.sent,H&&(ie([]),($=re.current)===null||$===void 0||(J=$.reloadAndRest)===null||J===void 0||J.call($));case 4:case"end":return G.stop()}},T)}))()},onCancel:function(){}});case 1:case"end":return v.stop()}},K)})),children:[(0,n.jsx)(R.Z,{}),(0,n.jsx)(_.FormattedMessage,{id:"pages.searchTable.delete",defaultMessage:"\u5220\u9664"})]},"remove"),(0,n.jsxs)(d.ZP,{type:"primary",hidden:!ue.hasPerms("monitor:job:export"),onClick:t()(e()().mark(function K(){return e()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:de();case 1:case"end":return v.stop()}},K)})),children:[(0,n.jsx)(l.Z,{}),(0,n.jsx)(_.FormattedMessage,{id:"pages.searchTable.export",defaultMessage:"\u5BFC\u51FA"})]},"export")]},request:function(K){return(0,O.Go)(F()({},K)).then(function(E){var v={data:E.rows,total:E.total,success:!0};return v})},columns:Oe,rowSelection:{onChange:function(K,E){ie(E)}}},"jobList")}),(Q==null?void 0:Q.length)>0&&(0,n.jsx)(s.S,{extra:(0,n.jsxs)("div",{children:[(0,n.jsx)(_.FormattedMessage,{id:"pages.searchTable.chosen",defaultMessage:"\u5DF2\u9009\u62E9"}),(0,n.jsx)("a",{style:{fontWeight:600},children:Q.length}),(0,n.jsx)(_.FormattedMessage,{id:"pages.searchTable.item",defaultMessage:"\u9879"})]}),children:(0,n.jsx)(d.ZP,{danger:!0,hidden:!ue.hasPerms("monitor:job:del"),onClick:t()(e()().mark(function Z(){return e()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:I.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u9879\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){var v=t()(e()().mark(function T(){var H,$,J;return e()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,j(Q);case 2:H=G.sent,H&&(ie([]),($=re.current)===null||$===void 0||(J=$.reloadAndRest)===null||J===void 0||J.call($));case 4:case"end":return G.stop()}},T)}));function Y(){return v.apply(this,arguments)}return Y}()});case 1:case"end":return E.stop()}},Z)})),children:(0,n.jsx)(_.FormattedMessage,{id:"pages.searchTable.batchDeletion",defaultMessage:"\u6279\u91CF\u5220\u9664"})},"remove")}),(0,n.jsx)(p.default,{onSubmit:function(){var Z=t()(e()().mark(function K(E){var v;return e()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(v=!1,!E.jobId){T.next=7;break}return T.next=4,X(F()({},E));case 4:v=T.sent,T.next=10;break;case 7:return T.next=9,N(F()({},E));case 9:v=T.sent;case 10:v&&(k(!1),ne(void 0),re.current&&re.current.reload());case 11:case"end":return T.stop()}},K)}));return function(K){return Z.apply(this,arguments)}}(),onCancel:function(){k(!1),ne(void 0)},open:h,values:De||{},jobGroupOptions:_e||{},statusOptions:oe}),(0,n.jsx)(m.default,{onCancel:function(){le(!1),ne(void 0)},open:Ee,values:De||{},statusOptions:oe})]})};y.default=se},91646:function(ee,y,r){r.d(y,{Go:function(){return u},Q$:function(){return b},Y$:function(){return _},Zn:function(){return A},eX:function(){return d},gK:function(){return M},uu:function(){return P}});var S=r(15009),i=r.n(S),W=r(99289),e=r.n(W),c=r(76772),F=r(30964);function u(f){return t.apply(this,arguments)}function t(){return t=e()(i()().mark(function f(R){return i()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,c.request)("/api/monitor/job/list",{method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"},params:R}));case 1:case"end":return l.stop()}},f)})),t.apply(this,arguments)}function A(f){return(0,c.request)("/api/monitor/job/".concat(f),{method:"GET"})}function _(f){return L.apply(this,arguments)}function L(){return L=e()(i()().mark(function f(R){return i()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,c.request)("/api/monitor/job",{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},data:R}));case 1:case"end":return l.stop()}},f)})),L.apply(this,arguments)}function M(f){return o.apply(this,arguments)}function o(){return o=e()(i()().mark(function f(R){return i()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,c.request)("/api/monitor/job",{method:"PUT",headers:{"Content-Type":"application/json;charset=UTF-8"},data:R}));case 1:case"end":return l.stop()}},f)})),o.apply(this,arguments)}function d(f){return I.apply(this,arguments)}function I(){return I=e()(i()().mark(function f(R){return i()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,c.request)("/api/monitor/job/".concat(R),{method:"DELETE"}));case 1:case"end":return l.stop()}},f)})),I.apply(this,arguments)}function b(f){return(0,F.su)("/api/monitor/job/export",{params:f},"job_".concat(new Date().getTime(),".xlsx"))}function P(f,R){return s.apply(this,arguments)}function s(){return s=e()(i()().mark(function f(R,D){var l;return i()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return l={jobId:R,jobGroup:D},O.abrupt("return",(0,c.request)("/api/monitor/job/run",{method:"PUT",data:l}));case 2:case"end":return O.stop()}},f)})),s.apply(this,arguments)}},92982:function(ee,y,r){r.d(y,{Hr:function(){return I},QK:function(){return O},Vd:function(){return M},a7:function(){return f},jK:function(){return _},n2:function(){return ae},oH:function(){return P},pX:function(){return o},sF:function(){return D}});var S=r(97857),i=r.n(S),W=r(15009),e=r.n(W),c=r(99289),F=r.n(c),u=r(76772),t=r(33867),A=r(30964);function _(p){return L.apply(this,arguments)}function L(){return L=F()(e()().mark(function p(m){return e()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("/api/system/dict/type/list",{method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"},params:m}));case 1:case"end":return n.stop()}},p)})),L.apply(this,arguments)}function M(p){return(0,u.request)("/api/system/dict/type/".concat(p),{method:"GET"})}function o(p,m){return d.apply(this,arguments)}function d(){return d=F()(e()().mark(function p(m,w){var n,N;return e()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return console.log("getDictValueEnum resp:",m),j.next=3,(0,u.request)("/api/system/dict/data/type/".concat(m),{method:"GET"});case 3:if(n=j.sent,console.log("getDictValueEnum resp:",m,n),n.code!==t.iK.SUCCESS){j.next=11;break}return N={},n.data.forEach(function(g){N[g.dictValue]={text:g.dictLabel,label:g.dictLabel,value:w?Number(g.dictValue):g.dictValue,key:g.dictCode,listClass:g.listClass,status:g.listClass}}),j.abrupt("return",N);case 11:return j.abrupt("return",{});case 12:case"end":return j.stop()}},p)})),d.apply(this,arguments)}function I(p,m){return b.apply(this,arguments)}function b(){return b=F()(e()().mark(function p(m,w){var n,N;return e()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,(0,u.request)("/api/system/dict/data/type/".concat(m),{method:"GET"});case 2:if(n=j.sent,n.code!==200){j.next=6;break}return N=n.data.map(function(g){return{text:g.dictLabel,label:g.dictLabel,value:w?Number(g.dictValue):g.dictValue,key:g.dictCode,listClass:g.listClass,status:g.listClass}}),j.abrupt("return",N);case 6:return j.abrupt("return",[]);case 7:case"end":return j.stop()}},p)})),b.apply(this,arguments)}function P(p){return s.apply(this,arguments)}function s(){return s=F()(e()().mark(function p(m){return e()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("/api/system/dict/type",{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},data:m}));case 1:case"end":return n.stop()}},p)})),s.apply(this,arguments)}function f(p){return R.apply(this,arguments)}function R(){return R=F()(e()().mark(function p(m){return e()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("/api/system/dict/type",{method:"PUT",headers:{"Content-Type":"application/json;charset=UTF-8"},data:m}));case 1:case"end":return n.stop()}},p)})),R.apply(this,arguments)}function D(p){return l.apply(this,arguments)}function l(){return l=F()(e()().mark(function p(m){return e()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("/api/system/dict/type/".concat(m),{method:"DELETE"}));case 1:case"end":return n.stop()}},p)})),l.apply(this,arguments)}function ae(p){return(0,A.su)("/api/system/dict/type/export",{params:p},"dict_type_".concat(new Date().getTime(),".xlsx"))}function O(p){return q.apply(this,arguments)}function q(){return q=F()(e()().mark(function p(m){return e()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.request)("/api/system/dict/type/optionselect",{params:i()({},m),method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return n.stop()}},p)})),q.apply(this,arguments)}},61314:function(ee,y,r){r.d(y,{n:function(){return S}});function S(i,W,e){if(W!==void 0){var c=i[W];if(c)return c.text}return e||W}}}]);
