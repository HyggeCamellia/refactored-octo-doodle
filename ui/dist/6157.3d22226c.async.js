"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[6157,6525],{33867:function(ee,U,e){e.d(U,{iK:function(){return $},zc:function(){return L}});var $=function(u){return u[u.SUCCESS=200]="SUCCESS",u[u.ERROR=-1]="ERROR",u[u.TIMEOUT=401]="TIMEOUT",u.TYPE="success",u}({}),g=function(u){return u.GET="GET",u.POST="POST",u.PUT="PUT",u.DELETE="DELETE",u}({}),L=function(u){return u.JSON="application/json;charset=UTF-8",u.FORM_URLENCODED="application/x-www-form-urlencoded;charset=UTF-8",u.FORM_DATA="multipart/form-data;charset=UTF-8",u}({})},16157:function(ee,U,e){e.r(U);var $=e(19632),g=e.n($),L=e(97857),u=e.n(L),C=e(15009),h=e.n(C),I=e(99289),P=e.n(I),z=e(5574),A=e.n(z),T=e(67294),W=e(76772),k=e(25278),O=e(34041),B=e(77569),y=e(17788),x=e(2453),M=e(55241),d=e(13457),f=e(29021),D=e(83622),n=e(4393),K=e(71230),t=e(15746),J=e(78045),v=e(72269),R=e(96154),N=e(48689),m=e(24969),G=e(6110),X=e(10107),b=e(73817),F=e(92982),me=e(36525),le=e(67768),r=e(85893),re=k.Z.TextArea,ne=O.Z.Option,de=function(ue){var te=ue.id,Q=(0,W.useModel)("wms"),pe=Q.warehouseList,he=Q.warehouseMap,oe=Q.areaList,je=Q.areaMap,fe=Q.merchantList,Ce=Q.merchantMap,Ee=Q.itemBrandMap,_e=(0,T.useState)([]),ce=A()(_e,2),Pe=ce[0],S=ce[1],_=(0,T.useState)([]),E=A()(_,2),Y=E[0],q=E[1],H=B.Z.useForm(),ae=A()(H,1),i=ae[0],Qe=(0,T.useRef)(),xe=(0,T.useState)(!1),ye=A()(xe,2),Me=ye[0],Te=ye[1],Re=(0,T.useState)(!1),be=A()(Re,2),Fe=be[0],Ae=be[1],Be=(0,T.useState)(!1),Ie=A()(Be,2),Se=Ie[0],ve=Ie[1];(0,T.useEffect)(function(){Promise.all([(0,F.pX)("wms_receipt_status"),(0,F.pX)("wms_receipt_type")]).then(function(l){var p=A()(l,2),s=p[0],a=p[1];S(Object.values(s)),q(Object.values(a))})},[]),(0,T.useEffect)(function(){te?we(te):i.setFieldsValue({receiptOrderNo:"RK".concat((0,le.v)()),receiptOrderType:"2",receiptOrderStatus:0,totalQuantity:0,details:[]})},[te]);var we=function(){var l=P()(h()().mark(function p(s){var a;return h()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return Te(!0),c.prev=1,c.next=4,(0,X.ud)(s);case 4:a=c.sent,i.setFieldsValue(a.data);case 6:return c.prev=6,Te(!1),c.finish(6);case 9:case"end":return c.stop()}},p,null,[[1,,6,9]])}));return function(s){return l.apply(this,arguments)}}(),Le=function(p){var s;i.setFieldsValue({areaId:void 0,details:(s=i.getFieldValue("details"))===null||s===void 0?void 0:s.map(function(a){return u()(u()({},a),{},{areaId:void 0})})})},Ue=function(p){var s;i.setFieldsValue({details:(s=i.getFieldValue("details"))===null||s===void 0?void 0:s.map(function(a){return u()(u()({},a),{},{areaId:p})})})},We=function(){var p=i.getFieldValue("details")||[],s=0;p.forEach(function(a){a.quantity&&(s+=Number(a.quantity))}),i.setFieldsValue({totalQuantity:s})},Ke=function(){var p=i.getFieldValue("details")||[],s=0;p.forEach(function(a){a.amount>=0&&(s=(0,le.f)(s,-Number(a.amount)))}),i.setFieldsValue({payableAmount:s})},Ze=function(){var l=P()(h()().mark(function p(s,a){var o;return h()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:s.id?y.Z.confirm({title:"\u786E\u8BA4\u5220\u9664\u672C\u6761\u5546\u54C1\u660E\u7EC6\u5417\uFF1F",content:"\u5982\u786E\u8BA4\u4F1A\u7ACB\u5373\u6267\u884C\uFF01",onOk:function(){var V=P()(h()().mark(function ie(){var De;return h()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,(0,b.al)(s.id);case 2:De=i.getFieldValue("details"),De.splice(a,1),i.setFieldsValue({details:De}),x.ZP.success("\u5220\u9664\u6210\u529F");case 6:case"end":return Z.stop()}},ie)}));function se(){return V.apply(this,arguments)}return se}()}):(o=i.getFieldValue("details"),o.splice(a,1),i.setFieldsValue({details:o}));case 1:case"end":return j.stop()}},p)}));return function(s,a){return l.apply(this,arguments)}}(),ke=function(){if(!i.getFieldValue("warehouseId")){x.ZP.error("\u8BF7\u5148\u9009\u62E9\u4ED3\u5E93");return}ve(!0)},Ve=function(p){ve(!1);var s=i.getFieldValue("details")||[];i.setFieldsValue({details:[].concat(g()(s),g()(p.map(function(a){return{itemSku:u()({},a),amount:void 0,quantity:a.quantity,batchNo:void 0,productionDate:void 0,expirationDate:void 0,warehouseId:i.getFieldValue("warehouseId"),areaId:i.getFieldValue("areaId")}})))})},ge=function(){var l=P()(h()().mark(function p(){var s,a,o,c,j,V,se,ie=arguments;return h()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return s=ie.length>0&&ie[0]!==void 0?ie[0]:0,w.prev=1,w.next=4,i.validateFields();case 4:if(o=i.getFieldsValue(),(a=o.details)!==null&&a!==void 0&&a.length){w.next=8;break}return x.ZP.error("\u8BF7\u6DFB\u52A0\u5546\u54C1\u660E\u7EC6"),w.abrupt("return");case 8:if(c=o.details.filter(function(Z){return!Z.areaId}),!c.length){w.next=12;break}return x.ZP.error("\u8BF7\u4E3A\u6240\u6709\u5546\u54C1\u9009\u62E9\u5E93\u533A"),w.abrupt("return");case 12:if(j=o.details.filter(function(Z){return!Z.quantity}),!j.length){w.next=16;break}return x.ZP.error("\u8BF7\u4E3A\u6240\u6709\u5546\u54C1\u8BBE\u7F6E\u6570\u91CF"),w.abrupt("return");case 16:if(V=o.details.map(function(Z){return{id:Z.id,receiptOrderId:o.id,skuId:Z.itemSku.id,amount:Z.amount,quantity:Z.quantity,batchNo:Z.batchNo,productionDate:Z.productionDate,expirationDate:Z.expirationDate,warehouseId:o.warehouseId,areaId:Z.areaId}}),se=u()(u()({},o),{},{receiptOrderStatus:s,details:V}),!o.id){w.next=23;break}return w.next=21,(0,X.tu)(se);case 21:w.next=25;break;case 23:return w.next=25,(0,X.o)(se);case 25:x.ZP.success("\u64CD\u4F5C\u6210\u529F"),W.history.push("/receiptOrder"),w.next=32;break;case 29:w.prev=29,w.t0=w.catch(1),x.ZP.error("\u8BF7\u586B\u5199\u5B8C\u6574\u4FE1\u606F");case 32:case"end":return w.stop()}},p,null,[[1,29]])}));return function(){return l.apply(this,arguments)}}(),$e=function(){var l=P()(h()().mark(function p(){return h()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:y.Z.confirm({title:"\u786E\u8BA4\u6682\u5B58\u5165\u5E93\u5355\u5417\uFF1F",onOk:function(){return ge(0)}});case 1:case"end":return a.stop()}},p)}));return function(){return l.apply(this,arguments)}}(),Ne=function(){var l=P()(h()().mark(function p(){return h()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:y.Z.confirm({title:"\u786E\u8BA4\u4F5C\u5E9F\u5165\u5E93\u5355\u5417\uFF1F",onOk:function(){return ge(-1)}});case 1:case"end":return a.stop()}},p)}));return function(){return l.apply(this,arguments)}}(),Ge=function(){var l=P()(h()().mark(function p(){return h()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:y.Z.confirm({title:"\u786E\u8BA4\u5165\u5E93\u5417\uFF1F",onOk:function(){return ge(1)}});case 1:case"end":return a.stop()}},p)}));return function(){return l.apply(this,arguments)}}(),Ye=function(){return y.Z.info({title:"\u7CFB\u7EDF\u63D0\u793A",content:"\u4E00\u7269\u4E00\u7801/SN\u6A21\u5F0F\u8BF7\u53BBSaas\u7248\u672C\u4F53\u9A8C\uFF01"}),!1},ze=[{title:"\u5546\u54C1\u4FE1\u606F",render:function(p,s){var a,o,c,j;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:[(a=s.itemSku)===null||a===void 0||(a=a.item)===null||a===void 0?void 0:a.itemName,((o=s.itemSku)===null||o===void 0||(o=o.item)===null||o===void 0?void 0:o.itemCode)&&"(".concat(s.itemSku.item.itemCode,")")]}),((c=s.itemSku)===null||c===void 0||(c=c.item)===null||c===void 0?void 0:c.itemBrand)&&(0,r.jsxs)("div",{children:["\u54C1\u724C\uFF1A",(j=Ee.get(s.itemSku.item.itemBrand))===null||j===void 0?void 0:j.brandName]})]})}},{title:"\u89C4\u683C\u4FE1\u606F",render:function(p,s){var a,o;return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:(a=s.itemSku)===null||a===void 0?void 0:a.skuName}),((o=s.itemSku)===null||o===void 0?void 0:o.barcode)&&(0,r.jsxs)("div",{children:["\u6761\u7801\uFF1A",s.itemSku.barcode]})]})}},{title:"\u5E93\u533A",render:function(p,s){return(0,r.jsx)(M.Z,{placement:"left",title:"\u63D0\u793A",content:"\u8BF7\u5148\u9009\u62E9\u4ED3\u5E93\uFF01",open:i.getFieldValue("warehouseId")?!1:void 0,children:(0,r.jsx)(O.Z,{value:s.areaId,placeholder:"\u8BF7\u9009\u62E9\u5E93\u533A",disabled:!i.getFieldValue("warehouseId")||!!i.getFieldValue("areaId"),onChange:function(o){var c=i.getFieldValue("details"),j=c.findIndex(function(V){return V.skuId===s.skuId});j!==-1&&(c[j].areaId=o,i.setFieldsValue({details:c}))},style:{width:"100%"},children:oe.filter(function(a){return a.warehouseId===i.getFieldValue("warehouseId")}).map(function(a){return(0,r.jsx)(ne,{value:a.id,children:a.areaName},a.id)})})})}},{title:"\u6570\u91CF",render:function(p,s){return(0,r.jsx)(d.Z,{value:s.quantity,placeholder:"\u6570\u91CF",min:1,precision:0,onChange:function(o){var c=i.getFieldValue("details"),j=c.findIndex(function(V){return V.skuId===s.skuId});j!==-1&&(c[j].quantity=o,i.setFieldsValue({details:c}),We())},style:{width:"100%"}})}},{title:"\u4EF7\u683C",render:function(p,s){return(0,r.jsx)(d.Z,{value:s.amount,placeholder:"\u4EF7\u683C",precision:2,min:0,max:2147483647,onChange:function(o){var c=i.getFieldValue("details"),j=c.findIndex(function(V){return V.skuId===s.skuId});j!==-1&&(c[j].amount=o,i.setFieldsValue({details:c}))},style:{width:"100%"}})}},{title:"\u6279\u53F7",render:function(p,s){return(0,r.jsx)(k.Z,{value:s.batchNo,onChange:function(o){var c=i.getFieldValue("details"),j=c.findIndex(function(V){return V.skuId===s.skuId});j!==-1&&(c[j].batchNo=o.target.value,i.setFieldsValue({details:c}))}})}},{title:"\u751F\u4EA7\u65E5\u671F/\u8FC7\u671F\u65E5\u671F",render:function(p,s){return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:8},children:[(0,r.jsx)("span",{style:{marginRight:8},children:"\u751F\u4EA7\u65E5\u671F\uFF1A"}),(0,r.jsx)(f.default,{value:s.productionDate,format:"YYYY-MM-DD",onChange:function(o){var c=i.getFieldValue("details"),j=c.findIndex(function(V){return V.skuId===s.skuId});j!==-1&&(c[j].productionDate=o==null?void 0:o.format("YYYY-MM-DD HH:mm:ss"),i.setFieldsValue({details:c}))},style:{width:150}})]}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,r.jsx)("span",{style:{marginRight:8},children:"\u8FC7\u671F\u65E5\u671F\uFF1A"}),(0,r.jsx)(f.default,{value:s.expirationDate,format:"YYYY-MM-DD",onChange:function(o){var c=i.getFieldValue("details"),j=c.findIndex(function(V){return V.skuId===s.skuId});j!==-1&&(c[j].expirationDate=o==null?void 0:o.format("YYYY-MM-DD HH:mm:ss"),i.setFieldsValue({details:c}))},style:{width:150}})]})]})}},{title:"\u64CD\u4F5C",render:function(p,s,a){return(0,r.jsx)(D.ZP,{icon:(0,r.jsx)(N.Z,{}),type:"text",danger:!0,onClick:function(){return Ze(s,a)},children:"\u5220\u9664"})}}];return(0,r.jsxs)(G._z,{children:[(0,r.jsx)(n.Z,{title:"\u5165\u5E93\u5355\u57FA\u672C\u4FE1\u606F",loading:Me,style:{marginBottom:24},children:(0,r.jsxs)(B.Z,{form:i,layout:"horizontal",labelCol:{span:6},wrapperCol:{span:18},children:[(0,r.jsxs)(K.Z,{gutter:24,children:[(0,r.jsx)(t.Z,{xs:24,sm:12,md:8,children:(0,r.jsx)(B.Z.Item,{label:"\u5165\u5E93\u5355\u53F7",name:"receiptOrderNo",rules:[{required:!0,message:"\u5165\u5E93\u5355\u53F7\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,r.jsx)(k.Z,{disabled:!!te,style:{width:"100%"}})})}),(0,r.jsx)(t.Z,{xs:24,sm:12,md:8,children:(0,r.jsx)(B.Z.Item,{label:"\u4ED3\u5E93",name:"warehouseId",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4ED3\u5E93"}],children:(0,r.jsx)(O.Z,{placeholder:"\u8BF7\u9009\u62E9\u4ED3\u5E93",onChange:Le,style:{width:"100%"},children:pe.map(function(l){return(0,r.jsx)(ne,{value:l.id,children:l.warehouseName},l.id)})})})}),(0,r.jsx)(t.Z,{xs:24,sm:12,md:8,children:(0,r.jsx)(B.Z.Item,{label:"\u5E93\u533A",name:"areaId",children:(0,r.jsx)(M.Z,{placement:"left",title:"\u63D0\u793A",content:"\u8BF7\u5148\u9009\u62E9\u4ED3\u5E93\uFF01",open:i.getFieldValue("warehouseId")?!1:void 0,children:(0,r.jsx)(O.Z,{placeholder:"\u8BF7\u9009\u62E9\u5E93\u533A",disabled:!i.getFieldValue("warehouseId"),onChange:Ue,style:{width:"100%"},children:oe.filter(function(l){return l.warehouseId===i.getFieldValue("warehouseId")}).map(function(l){return(0,r.jsx)(ne,{value:l.id,children:l.areaName},l.id)})})})})})]}),(0,r.jsxs)(K.Z,{gutter:24,children:[(0,r.jsx)(t.Z,{xs:24,sm:12,md:8,children:(0,r.jsx)(B.Z.Item,{label:"\u5165\u5E93\u7C7B\u578B",name:"receiptOrderType",rules:[{required:!0,message:"\u5165\u5E93\u7C7B\u578B\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,r.jsx)(J.ZP.Group,{children:Y==null?void 0:Y.map(function(l){return(0,r.jsx)(J.ZP.Button,{value:l.value,children:l.label},l.value)})})})}),(0,r.jsx)(t.Z,{xs:24,sm:12,md:8,children:(0,r.jsx)(B.Z.Item,{label:"\u4F9B\u5E94\u5546",name:"merchantId",children:(0,r.jsx)(O.Z,{placeholder:"\u8BF7\u9009\u62E9\u4F9B\u5E94\u5546",style:{width:"100%"},children:fe.map(function(l){return(0,r.jsx)(ne,{value:l.id,children:l.merchantName},l.id)})})})}),(0,r.jsx)(t.Z,{xs:24,sm:12,md:8,children:(0,r.jsx)(B.Z.Item,{label:"\u8BA2\u5355\u53F7",name:"orderNo",children:(0,r.jsx)(k.Z,{placeholder:"\u8BF7\u8F93\u5165\u8BA2\u5355\u53F7",style:{width:"100%"}})})})]}),(0,r.jsxs)(K.Z,{gutter:24,children:[(0,r.jsx)(t.Z,{span:16,children:(0,r.jsx)(B.Z.Item,{label:"\u5907\u6CE8",name:"remark",labelCol:{span:3},wrapperCol:{span:21},children:(0,r.jsx)(re,{placeholder:"\u5907\u6CE8...100\u4E2A\u5B57\u7B26\u4EE5\u5185",maxLength:100,rows:2,showCount:!0,style:{width:"100%"}})})}),(0,r.jsx)(t.Z,{xs:24,sm:12,md:4,children:(0,r.jsx)(B.Z.Item,{label:"\u91D1\u989D",name:"payableAmount",children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(d.Z,{precision:2,min:0,style:{width:"100%"}}),(0,r.jsx)(D.ZP,{type:"link",onClick:Ke,style:{marginLeft:8},children:"\u81EA\u52A8\u8BA1\u7B97"})]})})}),(0,r.jsx)(t.Z,{xs:24,sm:12,md:4,children:(0,r.jsx)(B.Z.Item,{label:"\u6570\u91CF",name:"totalQuantity",children:(0,r.jsx)(d.Z,{disabled:!0,precision:0,style:{width:"100%"}})})})]})]})}),(0,r.jsxs)(n.Z,{title:"\u5546\u54C1\u660E\u7EC6",loading:Me,style:{marginBottom:24},children:[(0,r.jsxs)("div",{style:{marginBottom:16},children:[(0,r.jsx)("span",{children:"\u4E00\u7269\u4E00\u7801/SN\u6A21\u5F0F\uFF1A"}),(0,r.jsx)(v.Z,{checkedChildren:"\u5F00\u542F",unCheckedChildren:"\u5173\u95ED",checked:Fe,onChange:Ae,beforeChange:Ye,style:{margin:"0 8px"}}),(0,r.jsx)(M.Z,{placement:"left",title:"\u63D0\u793A",content:"\u8BF7\u5148\u9009\u62E9\u4ED3\u5E93\uFF01",open:i.getFieldValue("warehouseId")?!1:void 0,children:(0,r.jsx)(D.ZP,{type:"primary",icon:(0,r.jsx)(m.Z,{}),onClick:ke,disabled:!i.getFieldValue("warehouseId"),style:{float:"right"},children:"\u6DFB\u52A0\u5546\u54C1"})})]}),(0,r.jsx)(R.Z,{columns:ze,dataSource:i.getFieldValue("details")||[],rowKey:"skuId",pagination:!1,scroll:{x:"max-content"}})]}),(0,r.jsx)(me.default,{open:Se,onOk:Ve,onCancel:function(){return ve(!1)},width:"80%"}),(0,r.jsx)("div",{style:{position:"fixed",bottom:0,right:0,width:"100%",padding:"16px",background:"#fff",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.15)",zIndex:1},children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(D.ZP,{onClick:Ge,type:"primary",style:{marginRight:8},children:"\u5B8C\u6210\u5165\u5E93"}),te&&(0,r.jsx)(D.ZP,{onClick:Ne,danger:!0,children:"\u4F5C\u5E9F"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(D.ZP,{onClick:$e,type:"primary",style:{marginRight:8},children:"\u6682\u5B58"}),(0,r.jsx)(D.ZP,{onClick:function(){return W.history.push("/receiptOrder")},children:"\u53D6\u6D88"})]})]})})]})};U.default=de},36525:function(ee,U,e){e.r(U);var $=e(15009),g=e.n($),L=e(97857),u=e.n(L),C=e(99289),h=e.n(C),I=e(19632),P=e.n(I),z=e(5574),A=e.n(z),T=e(67294),W=e(76772),k=e(77569),O=e(83622),B=e(85265),y=e(71230),x=e(15746),M=e(25278),d=e(24969),f=e(33160),D=e(48296),n=e(65385),K=e(3057),t=e(85893),J=(0,T.forwardRef)(function(v,R){var N=v.open,m=v.onCancel,G=v.singleSelect,X=G===void 0?!1:G,b=v.size,F=b===void 0?"80%":b,me=k.Z.useForm(),le=A()(me,1),r=le[0],re=(0,T.useRef)(),ne=(0,T.useState)([]),de=A()(ne,2),Oe=de[0],ue=de[1],te=(0,T.useState)(!1),Q=A()(te,2),pe=Q[0],he=Q[1],oe=(0,W.useModel)("wms"),je=oe.itemBrandMap;(0,T.useImperativeHandle)(R,function(){return{getList:function(){var _;(_=re.current)===null||_===void 0||_.reload()}}});var fe=function(_){return(_.length||_.length===0)&&(_.width||_.width===0)&&(_.height||_.height===0)?"".concat(_.length," * ").concat(_.width," * ").concat(_.height):[_.length||_.length===0?"\u957F\uFF1A".concat(_.length):"",_.width||_.width===0?"\u5BBD\uFF1A".concat(_.width):"",_.height||_.height===0?"\u9AD8\uFF1A".concat(_.height):""].filter(Boolean).join(" ")},Ce=function(_){m()},Ee=function(){m(),ue([])},_e=function(){m(),ue([])},ce=function(){W.history.push("/system/itemManage2?openDrawer=true")},Pe=[{title:"\u5546\u54C1\u4FE1\u606F",render:function(_,E){var Y,q,H,ae;return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:(Y=E.item)===null||Y===void 0?void 0:Y.itemName}),((q=E.item)===null||q===void 0?void 0:q.itemCode)&&(0,t.jsxs)("div",{children:["\u7F16\u53F7\uFF1A",E.item.itemCode]}),((H=E.item)===null||H===void 0?void 0:H.itemBrand)&&(0,t.jsxs)("div",{children:["\u54C1\u724C\uFF1A",(ae=je.get(E.item.itemBrand))===null||ae===void 0?void 0:ae.brandName]})]})}},{title:"\u89C4\u683C\u4FE1\u606F",render:function(_,E){return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:E.skuName}),E.skuCode&&(0,t.jsxs)("div",{children:["\u7F16\u53F7\uFF1A",E.skuCode]}),E.barcode&&(0,t.jsxs)("div",{children:["\u6761\u7801\uFF1A",E.barcode]})]})}},{title:"\u4EF7\u683C(\u5143)",width:160,align:"left",render:function(_,E){return(0,t.jsxs)("div",{children:[E.costPrice!==void 0&&(0,t.jsxs)("div",{className:"flex-space-between",children:[(0,t.jsx)("span",{children:"\u6210\u672C\u4EF7\uFF1A"}),(0,t.jsx)("div",{children:E.costPrice})]}),E.sellingPrice!==void 0&&(0,t.jsxs)("div",{className:"flex-space-between",children:[(0,t.jsx)("span",{children:"\u9500\u552E\u4EF7\uFF1A"}),(0,t.jsx)("div",{children:E.sellingPrice})]})]})}},{title:"\u91CD\u91CF(kg)",width:160,align:"left",render:function(_,E){return(0,t.jsxs)("div",{children:[E.netWeight!==void 0&&(0,t.jsxs)("div",{className:"flex-space-between",children:[(0,t.jsx)("span",{children:"\u51C0\u91CD\uFF1A"}),(0,t.jsx)("div",{children:E.netWeight})]}),E.grossWeight!==void 0&&(0,t.jsxs)("div",{className:"flex-space-between",children:[(0,t.jsx)("span",{children:"\u6BDB\u91CD\uFF1A"}),(0,t.jsx)("div",{children:E.grossWeight})]})]})}},{title:"\u957F\u5BBD\u9AD8(cm)",align:"right",width:250,render:function(_,E){return(0,t.jsx)("div",{children:fe(E)})}}].concat(P()(X?[{title:"\u64CD\u4F5C",width:100,align:"right",render:function(_,E){return(0,t.jsx)(O.ZP,{type:"link",onClick:function(){return Ce(E)},children:"\u9009\u62E9"})}}]:[]));return(0,t.jsxs)(B.Z,{title:"\u5546\u54C1\u9009\u62E9",width:F,open:N,onClose:_e,destroyOnClose:!0,footer:(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(O.ZP,{icon:(0,t.jsx)(d.Z,{}),onClick:ce,children:"\u521B\u5EFA\u5546\u54C1"}),(0,t.jsx)(O.ZP,{icon:(0,t.jsx)(f.Z,{}),onClick:function(){var _;return(_=re.current)===null||_===void 0?void 0:_.reload()},style:{marginLeft:8},children:"\u5237\u65B0"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(O.ZP,{onClick:_e,style:{marginRight:8},children:"\u53D6\u6D88"}),!X&&(0,t.jsx)(O.ZP,{type:"primary",onClick:Ee,children:"\u786E\u8BA4"})]})]}),children:[(0,t.jsxs)(k.Z,{form:r,layout:"inline",labelAlign:"left",children:[(0,t.jsxs)(y.Z,{gutter:20,style:{width:"100%"},children:[(0,t.jsx)(x.Z,{span:8,children:(0,t.jsx)(k.Z.Item,{label:"\u5546\u54C1\u540D\u79F0",name:"itemName",children:(0,t.jsx)(M.Z,{placeholder:"\u5546\u54C1\u540D\u79F0",allowClear:!0})})}),(0,t.jsx)(x.Z,{span:8,children:(0,t.jsx)(k.Z.Item,{label:"\u5546\u54C1\u7F16\u53F7",name:"itemCode",children:(0,t.jsx)(M.Z,{placeholder:"\u5546\u54C1\u7F16\u53F7",allowClear:!0})})}),(0,t.jsx)(x.Z,{span:8,children:(0,t.jsx)(k.Z.Item,{label:"\u89C4\u683C\u540D\u79F0",name:"skuName",children:(0,t.jsx)(M.Z,{placeholder:"\u89C4\u683C\u540D\u79F0",allowClear:!0})})})]}),(0,t.jsxs)(y.Z,{gutter:20,style:{width:"100%",marginTop:16},children:[(0,t.jsx)(x.Z,{span:8,children:(0,t.jsx)(k.Z.Item,{label:"\u89C4\u683C\u7F16\u53F7",name:"barcode",children:(0,t.jsx)(M.Z,{placeholder:"\u89C4\u683C\u7F16\u53F7",allowClear:!0})})}),(0,t.jsx)(x.Z,{span:8,children:(0,t.jsx)(O.ZP,{type:"primary",icon:(0,t.jsx)(D.Z,{}),onClick:function(){var _;return(_=re.current)===null||_===void 0?void 0:_.reload()},children:"\u67E5\u8BE2"})})]})]}),(0,t.jsx)(n.Z,{style:{marginTop:16},actionRef:re,rowKey:"id",search:!1,options:!1,request:function(){var S=h()(g()().mark(function _(E){var Y,q,H;return g()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return he(!0),i.prev=1,Y=r.getFieldsValue(),q=u()(u()({},Y),{},{pageNum:E.current,pageSize:E.pageSize}),i.next=6,(0,K.uE)(q);case 6:return H=i.sent,i.abrupt("return",{data:H.rows,total:H.total,success:!0});case 8:return i.prev=8,he(!1),i.finish(8);case 11:case"end":return i.stop()}},_,null,[[1,,8,11]])}));return function(_){return S.apply(this,arguments)}}(),columns:Pe,rowSelection:X?void 0:{selectedRowKeys:Oe.map(function(S){return S.id}),onChange:function(_,E){return ue(E)}},loading:pe,pagination:{showSizeChanger:!0,pageSizeOptions:["5","10","20","50"]}})]})});U.default=J},92982:function(ee,U,e){e.d(U,{Hr:function(){return B},QK:function(){return t},Vd:function(){return W},a7:function(){return d},jK:function(){return A},n2:function(){return K},oH:function(){return x},pX:function(){return k},sF:function(){return D}});var $=e(97857),g=e.n($),L=e(15009),u=e.n(L),C=e(99289),h=e.n(C),I=e(76772),P=e(33867),z=e(30964);function A(v){return T.apply(this,arguments)}function T(){return T=h()(u()().mark(function v(R){return u()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,I.request)("/api/system/dict/type/list",{method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"},params:R}));case 1:case"end":return m.stop()}},v)})),T.apply(this,arguments)}function W(v){return(0,I.request)("/api/system/dict/type/".concat(v),{method:"GET"})}function k(v,R){return O.apply(this,arguments)}function O(){return O=h()(u()().mark(function v(R,N){var m,G;return u()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return console.log("getDictValueEnum resp:",R),b.next=3,(0,I.request)("/api/system/dict/data/type/".concat(R),{method:"GET"});case 3:if(m=b.sent,console.log("getDictValueEnum resp:",R,m),m.code!==P.iK.SUCCESS){b.next=11;break}return G={},m.data.forEach(function(F){G[F.dictValue]={text:F.dictLabel,label:F.dictLabel,value:N?Number(F.dictValue):F.dictValue,key:F.dictCode,listClass:F.listClass,status:F.listClass}}),b.abrupt("return",G);case 11:return b.abrupt("return",{});case 12:case"end":return b.stop()}},v)})),O.apply(this,arguments)}function B(v,R){return y.apply(this,arguments)}function y(){return y=h()(u()().mark(function v(R,N){var m,G;return u()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,(0,I.request)("/api/system/dict/data/type/".concat(R),{method:"GET"});case 2:if(m=b.sent,m.code!==200){b.next=6;break}return G=m.data.map(function(F){return{text:F.dictLabel,label:F.dictLabel,value:N?Number(F.dictValue):F.dictValue,key:F.dictCode,listClass:F.listClass,status:F.listClass}}),b.abrupt("return",G);case 6:return b.abrupt("return",[]);case 7:case"end":return b.stop()}},v)})),y.apply(this,arguments)}function x(v){return M.apply(this,arguments)}function M(){return M=h()(u()().mark(function v(R){return u()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,I.request)("/api/system/dict/type",{method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8"},data:R}));case 1:case"end":return m.stop()}},v)})),M.apply(this,arguments)}function d(v){return f.apply(this,arguments)}function f(){return f=h()(u()().mark(function v(R){return u()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,I.request)("/api/system/dict/type",{method:"PUT",headers:{"Content-Type":"application/json;charset=UTF-8"},data:R}));case 1:case"end":return m.stop()}},v)})),f.apply(this,arguments)}function D(v){return n.apply(this,arguments)}function n(){return n=h()(u()().mark(function v(R){return u()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,I.request)("/api/system/dict/type/".concat(R),{method:"DELETE"}));case 1:case"end":return m.stop()}},v)})),n.apply(this,arguments)}function K(v){return(0,z.su)("/api/system/dict/type/export",{params:v},"dict_type_".concat(new Date().getTime(),".xlsx"))}function t(v){return J.apply(this,arguments)}function J(){return J=h()(u()().mark(function v(R){return u()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,I.request)("/api/system/dict/type/optionselect",{params:g()({},R),method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"}}));case 1:case"end":return m.stop()}},v)})),J.apply(this,arguments)}},3057:function(ee,U,e){e.d(U,{pe:function(){return x},uE:function(){return I}});var $=e(15009),g=e.n($),L=e(99289),u=e.n(L),C=e(76772),h=e(30964);function I(d){return P.apply(this,arguments)}function P(){return P=u()(g()().mark(function d(f){return g()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,C.request)("/api/wms/itemSku/list",{method:"GET",params:f}));case 1:case"end":return n.stop()}},d)})),P.apply(this,arguments)}function z(d){return A.apply(this,arguments)}function A(){return A=_asyncToGenerator(_regeneratorRuntime().mark(function d(f){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/wms/itemSku/listNoPage",{method:"GET",params:f}));case 1:case"end":return n.stop()}},d)})),A.apply(this,arguments)}function T(d,f){return downLoadXlsx("/api/wms/itemSku/export",{params:d},"itemSku_".concat(new Date().getTime(),".xlsx"))}function W(d){return request("/api/wms/itemSku/".concat(d),{method:"GET"})}function k(d){return O.apply(this,arguments)}function O(){return O=_asyncToGenerator(_regeneratorRuntime().mark(function d(f){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/wms/itemSku",{method:"POST",data:f}));case 1:case"end":return n.stop()}},d)})),O.apply(this,arguments)}function B(d){return y.apply(this,arguments)}function y(){return y=_asyncToGenerator(_regeneratorRuntime().mark(function d(f){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/wms/itemSku",{method:"PUT",data:f}));case 1:case"end":return n.stop()}},d)})),y.apply(this,arguments)}function x(d){return M.apply(this,arguments)}function M(){return M=u()(g()().mark(function d(f){return g()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,C.request)("/api/wms/itemSku/".concat(f),{method:"DELETE"}));case 1:case"end":return n.stop()}},d)})),M.apply(this,arguments)}},10107:function(ee,U,e){e.d(U,{Ug:function(){return I},o:function(){return T},sr:function(){return x},tu:function(){return B},ud:function(){return A}});var $=e(15009),g=e.n($),L=e(99289),u=e.n(L),C=e(76772),h=e(30964);function I(D){return P.apply(this,arguments)}function P(){return P=u()(g()().mark(function D(n){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/wms/receiptOrder/list",{method:"GET",params:n}));case 1:case"end":return t.stop()}},D)})),P.apply(this,arguments)}function z(D,n){return downLoadXlsx("/api/wms/receiptOrder/export",{params:D},"receiptOrder_".concat(new Date().getTime(),".xlsx"))}function A(D){return(0,C.request)("/api/wms/receiptOrder/".concat(D),{method:"GET"})}function T(D){return W.apply(this,arguments)}function W(){return W=u()(g()().mark(function D(n){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/wms/receiptOrder",{method:"POST",data:n}));case 1:case"end":return t.stop()}},D)})),W.apply(this,arguments)}function k(D){return O.apply(this,arguments)}function O(){return O=_asyncToGenerator(_regeneratorRuntime().mark(function D(n){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/wms/receiptOrder/warehousing",{method:"POST",data:n}));case 1:case"end":return t.stop()}},D)})),O.apply(this,arguments)}function B(D){return y.apply(this,arguments)}function y(){return y=u()(g()().mark(function D(n){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/wms/receiptOrder",{method:"PUT",data:n}));case 1:case"end":return t.stop()}},D)})),y.apply(this,arguments)}function x(D){return M.apply(this,arguments)}function M(){return M=u()(g()().mark(function D(n){return g()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,C.request)("/api/wms/receiptOrder/".concat(n),{method:"DELETE"}));case 1:case"end":return t.stop()}},D)})),M.apply(this,arguments)}function d(){return f.apply(this,arguments)}function f(){return f=_asyncToGenerator(_regeneratorRuntime().mark(function D(){return _regeneratorRuntime().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.abrupt("return",request("/api/wms/receiptOrder/generate/no",{method:"GET"}));case 1:case"end":return K.stop()}},D)})),f.apply(this,arguments)}},73817:function(ee,U,e){e.d(U,{al:function(){return B},dR:function(){return x}});var $=e(15009),g=e.n($),L=e(99289),u=e.n(L),C=e(76772),h=e(30964);function I(d){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark(function d(f){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/wms/receiptOrderDetail/list",{method:"GET",params:f}));case 1:case"end":return n.stop()}},d)})),P.apply(this,arguments)}function z(d,f){return downLoadXlsx("/api/wms/receiptOrderDetail/export",{params:d},"receiptOrderDetail_".concat(new Date().getTime(),".xlsx"))}function A(d){return request("/api/wms/receiptOrderDetail/".concat(d),{method:"GET"})}function T(d){return W.apply(this,arguments)}function W(){return W=_asyncToGenerator(_regeneratorRuntime().mark(function d(f){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/wms/receiptOrderDetail",{method:"POST",data:f}));case 1:case"end":return n.stop()}},d)})),W.apply(this,arguments)}function k(d){return O.apply(this,arguments)}function O(){return O=_asyncToGenerator(_regeneratorRuntime().mark(function d(f){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/wms/receiptOrderDetail",{method:"PUT",data:f}));case 1:case"end":return n.stop()}},d)})),O.apply(this,arguments)}function B(d){return y.apply(this,arguments)}function y(){return y=u()(g()().mark(function d(f){return g()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,C.request)("/api/wms/receiptOrderDetail/".concat(f),{method:"DELETE"}));case 1:case"end":return n.stop()}},d)})),y.apply(this,arguments)}function x(d){return M.apply(this,arguments)}function M(){return M=u()(g()().mark(function d(f){return g()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,C.request)("/api/wms/receiptOrderDetail/list/".concat(f),{method:"GET"}));case 1:case"end":return n.stop()}},d)})),M.apply(this,arguments)}},67768:function(ee,U,e){e.d(U,{f:function(){return $},v:function(){return g}});function $(L,u){var C,h;try{C=L.toString().split(".")[1].length}catch(z){C=0}try{h=u.toString().split(".")[1].length}catch(z){h=0}var I=Math.pow(10,Math.max(C,h)),P=C>=h?C:h;return Number(((L*I-u*I)/I).toFixed(P))}function g(){var L=new Date,u=String(L.getMonth()+1).padStart(2,"0"),C=String(L.getDate()).padStart(2,"0"),h=Math.floor(Math.random()*1e4);return u+C+String(h).padStart(4,"0")}}}]);
