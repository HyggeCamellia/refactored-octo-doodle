"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[177],{31199:function(k,T,e){var E=e(1413),m=e(91),s=e(67294),h=e(45502),B=e(85893),j=["fieldProps","min","proFieldProps","max"],I=function(u,g){var K=u.fieldProps,v=u.min,P=u.proFieldProps,A=u.max,R=(0,m.Z)(u,j);return(0,B.jsx)(h.Z,(0,E.Z)({valueType:"digit",fieldProps:(0,E.Z)({min:v,max:A},K),ref:g,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:P},R))},M=s.forwardRef(I);T.Z=M},86615:function(k,T,e){var E=e(1413),m=e(91),s=e(22270),h=e(78045),B=e(67294),j=e(90789),I=e(45502),M=e(85893),F=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],u=B.forwardRef(function(P,A){var R=P.fieldProps,p=P.options,z=P.radioType,t=P.layout,n=P.proFieldProps,y=P.valueEnum,o=(0,m.Z)(P,F);return(0,M.jsx)(I.Z,(0,E.Z)((0,E.Z)({valueType:z==="button"?"radioButton":"radio",ref:A,valueEnum:(0,s.h)(y,void 0)},o),{},{fieldProps:(0,E.Z)({options:p,layout:t},R),proFieldProps:n,filedConfig:{customLightMode:!0}}))}),g=B.forwardRef(function(P,A){var R=P.fieldProps,p=P.children;return(0,M.jsx)(h.ZP,(0,E.Z)((0,E.Z)({},R),{},{ref:A,children:p}))}),K=(0,j.G)(g,{valuePropName:"checked",ignoreWidth:!0}),v=K;v.Group=u,v.Button=h.ZP.Button,v.displayName="ProFormComponent",T.Z=v},90672:function(k,T,e){var E=e(1413),m=e(91),s=e(67294),h=e(45502),B=e(85893),j=["fieldProps","proFieldProps"],I=function(F,u){var g=F.fieldProps,K=F.proFieldProps,v=(0,m.Z)(F,j);return(0,B.jsx)(h.Z,(0,E.Z)({ref:u,valueType:"textarea",fieldProps:g,proFieldProps:K},v))};T.Z=s.forwardRef(I)},5966:function(k,T,e){var E=e(97685),m=e(1413),s=e(91),h=e(21770),B=e(77569),j=e(55241),I=e(98423),M=e(67294),F=e(45502),u=e(85893),g=["fieldProps","proFieldProps"],K=["fieldProps","proFieldProps"],v="text",P=function(t){var n=t.fieldProps,y=t.proFieldProps,o=(0,s.Z)(t,g);return(0,u.jsx)(F.Z,(0,m.Z)({valueType:v,fieldProps:n,filedConfig:{valueType:v},proFieldProps:y},o))},A=function(t){var n=(0,h.Z)(t.open||!1,{value:t.open,onChange:t.onOpenChange}),y=(0,E.Z)(n,2),o=y[0],$=y[1];return(0,u.jsx)(B.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(C){var b,G=C.getFieldValue(t.name||[]);return(0,u.jsx)(j.Z,(0,m.Z)((0,m.Z)({getPopupContainer:function(f){return f&&f.parentNode?f.parentNode:f},onOpenChange:function(f){return $(f)},content:(0,u.jsxs)("div",{style:{padding:"4px 0"},children:[(b=t.statusRender)===null||b===void 0?void 0:b.call(t,G),t.strengthText?(0,u.jsx)("div",{style:{marginTop:10},children:(0,u.jsx)("span",{children:t.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},t.popoverProps),{},{open:o,children:t.children}))}})},R=function(t){var n=t.fieldProps,y=t.proFieldProps,o=(0,s.Z)(t,K),$=(0,M.useState)(!1),X=(0,E.Z)($,2),C=X[0],b=X[1];return n!=null&&n.statusRender&&o.name?(0,u.jsx)(A,{name:o.name,statusRender:n==null?void 0:n.statusRender,popoverProps:n==null?void 0:n.popoverProps,strengthText:n==null?void 0:n.strengthText,open:C,onOpenChange:b,children:(0,u.jsx)("div",{children:(0,u.jsx)(F.Z,(0,m.Z)({valueType:"password",fieldProps:(0,m.Z)((0,m.Z)({},(0,I.Z)(n,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(L){var f;n==null||(f=n.onBlur)===null||f===void 0||f.call(n,L),b(!1)},onClick:function(L){var f;n==null||(f=n.onClick)===null||f===void 0||f.call(n,L),b(!0)}}),proFieldProps:y,filedConfig:{valueType:v}},o))})}):(0,u.jsx)(F.Z,(0,m.Z)({valueType:"password",fieldProps:n,proFieldProps:y,filedConfig:{valueType:v}},o))},p=P;p.Password=R,p.displayName="ProFormComponent",T.Z=p},177:function(k,T,e){e.r(T);var E=e(15009),m=e.n(E),s=e(97857),h=e.n(s),B=e(99289),j=e.n(B),I=e(5574),M=e.n(I),F=e(67294),u=e(97269),g=e(31199),K=e(5966),v=e(86615),P=e(90672),A=e(77569),R=e(17788),p=e(76772),z=e(20863),t=e(85893),n=function(o){var $=A.Z.useForm(),X=M()($,1),C=X[0],b=o.menuTree,G=o.menuCheckedKeys,L=(0,F.useState)([]),f=M()(L,2),se=f[0],ce=f[1],ve=o.statusOptions;(0,F.useEffect)(function(){C.resetFields(),C.setFieldsValue({roleId:o.values.roleId,roleName:o.values.roleName,roleKey:o.values.roleKey,roleSort:o.values.roleSort,dataScope:o.values.dataScope,menuCheckStrictly:o.values.menuCheckStrictly,deptCheckStrictly:o.values.deptCheckStrictly,status:o.values.status,delFlag:o.values.delFlag,createBy:o.values.createBy,createTime:o.values.createTime,updateBy:o.values.updateBy,updateTime:o.values.updateTime,remark:o.values.remark})},[C,o]);var U=(0,p.useIntl)(),w=function(){C.submit()},_e=function(){o.onCancel()},d=function(){var c=j()(m()().mark(function a(l){return m()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:o.onSubmit(h()(h()({},l),{},{menuIds:se}));case 1:case"end":return r.stop()}},a)}));return function(l){return c.apply(this,arguments)}}();return(0,t.jsx)(R.Z,{width:640,title:U.formatMessage({id:"system.role.title",defaultMessage:"\u7F16\u8F91\u89D2\u8272\u4FE1\u606F"}),forceRender:!0,open:o.open,destroyOnClose:!0,onOk:w,onCancel:_e,children:(0,t.jsxs)(u.A,{form:C,grid:!0,layout:"horizontal",submitter:!1,onFinish:d,children:[(0,t.jsx)(g.Z,{name:"roleId",label:U.formatMessage({id:"system.role.role_id",defaultMessage:"\u89D2\u8272\u7F16\u53F7"}),placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u7F16\u53F7",disabled:!0,hidden:!0,rules:[{required:!1,message:(0,t.jsx)(p.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u89D2\u8272\u7F16\u53F7\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272\u7F16\u53F7\uFF01"})}]}),(0,t.jsx)(K.Z,{name:"roleName",label:U.formatMessage({id:"system.role.role_name",defaultMessage:"\u89D2\u8272\u540D\u79F0"}),placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",rules:[{required:!0,message:(0,t.jsx)(p.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0\uFF01"})}]}),(0,t.jsx)(K.Z,{name:"roleKey",label:U.formatMessage({id:"system.role.role_key",defaultMessage:"\u6743\u9650\u5B57\u7B26\u4E32"}),placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32",rules:[{required:!0,message:(0,t.jsx)(p.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272\u6743\u9650\u5B57\u7B26\u4E32\uFF01"})}]}),(0,t.jsx)(g.Z,{name:"roleSort",label:U.formatMessage({id:"system.role.role_sort",defaultMessage:"\u663E\u793A\u987A\u5E8F"}),placeholder:"\u8BF7\u8F93\u5165\u663E\u793A\u987A\u5E8F",rules:[{required:!0,message:(0,t.jsx)(p.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u663E\u793A\u987A\u5E8F\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u663E\u793A\u987A\u5E8F\uFF01"})}],fieldProps:{defaultValue:1}}),(0,t.jsx)(v.Z.Group,{valueEnum:ve,name:"status",label:U.formatMessage({id:"system.role.status",defaultMessage:"\u89D2\u8272\u72B6\u6001"}),placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u72B6\u6001",rules:[{required:!0,message:(0,t.jsx)(p.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u89D2\u8272\u72B6\u6001\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u89D2\u8272\u72B6\u6001\uFF01"})}],fieldProps:{defaultValue:"0"}}),(0,t.jsx)(u.A.Item,{name:"menuIds",label:U.formatMessage({id:"system.role.auth",defaultMessage:"\u83DC\u5355\u6743\u9650"}),children:(0,t.jsx)(z.Z,{checkable:!0,multiple:!0,checkStrictly:!0,defaultExpandAll:!1,treeData:b,defaultCheckedKeys:G,onCheck:function(a){return ce(a.checked)}})}),(0,t.jsx)(P.Z,{name:"remark",label:U.formatMessage({id:"system.role.remark",defaultMessage:"\u5907\u6CE8"}),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",rules:[{required:!1,message:(0,t.jsx)(p.FormattedMessage,{id:"\u8BF7\u8F93\u5165\u5907\u6CE8\uFF01",defaultMessage:"\u8BF7\u8F93\u5165\u5907\u6CE8\uFF01"})}]})]})})};T.default=n},20863:function(k,T,e){e.d(T,{Z:function(){return _e}});var E=e(70593),m=e(74902),s=e(67294),h=e(26911),B=e(95591),j=e(32319),I=e(93967),M=e.n(I),F=e(10225),u=e(1089),g=e(53124),K=e(29751),v=e(33603),P=e(29691),A=e(40561);const R=4;function p(d){const{dropPosition:c,dropLevelOffset:a,prefixCls:l,indent:_,direction:r="ltr"}=d,i=r==="ltr"?"left":"right",O=r==="ltr"?"right":"left",D={[i]:-a*_+R,[O]:0};switch(c){case-1:D.top=-3;break;case 1:D.bottom=-3;break;default:D.bottom=-3,D[i]=_+R;break}return s.createElement("div",{style:D,className:`${l}-drop-indicator`})}var z=p,t=e(61639),y=s.forwardRef((d,c)=>{var a;const{getPrefixCls:l,direction:_,virtual:r,tree:i}=s.useContext(g.E_),{prefixCls:O,className:D,showIcon:ne=!1,showLine:q,switcherIcon:le,switcherLoadingIcon:ae,blockNode:ue=!1,children:me,checkable:ee=!1,selectable:te=!0,draggable:J,motion:re,style:fe}=d,S=l("tree",O),De=l(),oe=re!=null?re:Object.assign(Object.assign({},(0,v.Z)(De)),{motionAppear:!1}),Ee=Object.assign(Object.assign({},d),{checkable:ee,selectable:te,showIcon:ne,motion:oe,blockNode:ue,showLine:!!q,dropIndicatorRender:z}),[V,Z,H]=(0,A.ZP)(S),[,Q]=(0,P.ZP)(),Y=Q.paddingXS/2+(((a=Q.Tree)===null||a===void 0?void 0:a.titleHeight)||Q.controlHeightSM),Pe=s.useMemo(()=>{if(!J)return!1;let x={};switch(typeof J){case"function":x.nodeDraggable=J;break;case"object":x=Object.assign({},J);break;default:break}return x.icon!==!1&&(x.icon=x.icon||s.createElement(K.Z,null)),x},[J]),W=x=>s.createElement(t.Z,{prefixCls:S,switcherIcon:le,switcherLoadingIcon:ae,treeNodeProps:x,showLine:q});return V(s.createElement(E.ZP,Object.assign({itemHeight:Y,ref:c,virtual:r},Ee,{style:Object.assign(Object.assign({},i==null?void 0:i.style),fe),prefixCls:S,className:M()({[`${S}-icon-hide`]:!ne,[`${S}-block-node`]:ue,[`${S}-unselectable`]:!te,[`${S}-rtl`]:_==="rtl"},i==null?void 0:i.className,D,Z,H),direction:_,checkable:ee&&s.createElement("span",{className:`${S}-checkbox-inner`}),selectable:te,switcherIcon:W,draggable:Pe}),me))});const o=0,$=1,X=2;function C(d,c,a){const{key:l,children:_}=a;function r(i){const O=i[l],D=i[_];c(O,i)!==!1&&C(D||[],c,a)}d.forEach(r)}function b({treeData:d,expandedKeys:c,startKey:a,endKey:l,fieldNames:_}){const r=[];let i=o;if(a&&a===l)return[a];if(!a||!l)return[];function O(D){return D===a||D===l}return C(d,D=>{if(i===X)return!1;if(O(D)){if(r.push(D),i===o)i=$;else if(i===$)return i=X,!1}else i===$&&r.push(D);return c.includes(D)},(0,u.w$)(_)),r}function G(d,c,a){const l=(0,m.Z)(c),_=[];return C(d,(r,i)=>{const O=l.indexOf(r);return O!==-1&&(_.push(i),l.splice(O,1)),!!l.length},(0,u.w$)(a)),_}var L=function(d,c){var a={};for(var l in d)Object.prototype.hasOwnProperty.call(d,l)&&c.indexOf(l)<0&&(a[l]=d[l]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,l=Object.getOwnPropertySymbols(d);_<l.length;_++)c.indexOf(l[_])<0&&Object.prototype.propertyIsEnumerable.call(d,l[_])&&(a[l[_]]=d[l[_]]);return a};function f(d){const{isLeaf:c,expanded:a}=d;return c?s.createElement(h.Z,null):a?s.createElement(B.Z,null):s.createElement(j.Z,null)}function se({treeData:d,children:c}){return d||(0,u.zn)(c)}const ce=(d,c)=>{var{defaultExpandAll:a,defaultExpandParent:l,defaultExpandedKeys:_}=d,r=L(d,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const i=s.useRef(null),O=s.useRef(null),D=()=>{const{keyEntities:V}=(0,u.I8)(se(r));let Z;return a?Z=Object.keys(V):l?Z=(0,F.r7)(r.expandedKeys||_||[],V):Z=r.expandedKeys||_||[],Z},[ne,q]=s.useState(r.selectedKeys||r.defaultSelectedKeys||[]),[le,ae]=s.useState(()=>D());s.useEffect(()=>{"selectedKeys"in r&&q(r.selectedKeys)},[r.selectedKeys]),s.useEffect(()=>{"expandedKeys"in r&&ae(r.expandedKeys)},[r.expandedKeys]);const ue=(V,Z)=>{var H;return"expandedKeys"in r||ae(V),(H=r.onExpand)===null||H===void 0?void 0:H.call(r,V,Z)},me=(V,Z)=>{var H;const{multiple:Q,fieldNames:Y}=r,{node:Pe,nativeEvent:W}=Z,{key:x=""}=Pe,de=se(r),ie=Object.assign(Object.assign({},Z),{selected:!0}),pe=(W==null?void 0:W.ctrlKey)||(W==null?void 0:W.metaKey),Fe=W==null?void 0:W.shiftKey;let N;Q&&pe?(N=V,i.current=x,O.current=N,ie.selectedNodes=G(de,N,Y)):Q&&Fe?(N=Array.from(new Set([].concat((0,m.Z)(O.current||[]),(0,m.Z)(b({treeData:de,expandedKeys:le,startKey:x,endKey:i.current,fieldNames:Y}))))),ie.selectedNodes=G(de,N,Y)):(N=[x],i.current=x,O.current=N,ie.selectedNodes=G(de,N,Y)),(H=r.onSelect)===null||H===void 0||H.call(r,N,ie),"selectedKeys"in r||q(N)},{getPrefixCls:ee,direction:te}=s.useContext(g.E_),{prefixCls:J,className:re,showIcon:fe=!0,expandAction:S="click"}=r,De=L(r,["prefixCls","className","showIcon","expandAction"]),oe=ee("tree",J),Ee=M()(`${oe}-directory`,{[`${oe}-directory-rtl`]:te==="rtl"},re);return s.createElement(y,Object.assign({icon:f,ref:c,blockNode:!0},De,{showIcon:fe,expandAction:S,prefixCls:oe,className:Ee,expandedKeys:le,selectedKeys:ne,onSelect:me,onExpand:ue}))};var U=s.forwardRef(ce);const w=y;w.DirectoryTree=U,w.TreeNode=E.OF;var _e=w}}]);
